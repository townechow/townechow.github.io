<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/569ce4b8f30dc480-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/93f479601ee12b01-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/d498c84e4ab246b3.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/485ff6fe79292a08.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/b9d97b2190475167.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/851cdee6d90716dd.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-78112f590b744806.js"/><script src="/_next/static/chunks/4bd1b696-20882bf820444624.js" async=""></script><script src="/_next/static/chunks/517-98ed787e5f259f2c.js" async=""></script><script src="/_next/static/chunks/main-app-f33d3e3aed85e21f.js" async=""></script><meta name="next-size-adjust" content=""/><title>front-end</title><meta name="description" content="front-end knowledge"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__variable_4d318d __variable_ea5f4b antialiased"><main><div class="markdown-body"><article><h1>å¼‚æ­¥å‡½æ•°</h1>
<p><code>async</code> å‡½æ•°æ˜¯ <a href="/front-end/standard-built-in-objects/control-abstraction-objects/generator">Generator</a> å‡½æ•°çš„è¯­æ³•ç³–ã€‚ä½¿ç”¨å…³é”®å­— <code>async</code> æ¥è¡¨ç¤ºï¼Œåœ¨å‡½æ•°å†…éƒ¨æ˜¯ä½¿ç”¨ <code>await</code> å‘½ä»¤æ¥è¡¨ç¤ºå¼‚æ­¥ã€‚</p>
<p>ç›¸è¾ƒäº Generatorï¼Œ<code>async</code> å‡½æ•°çš„æ”¹è¿›åœ¨äºä»¥ä¸‹å››ç‚¹ï¼š</p>
<ul>
<li><strong>å†…ç½®æ‰§è¡Œå™¨</strong>ï¼šGenerator å‡½æ•°çš„æ‰§è¡Œå¿…é¡»é æ‰§è¡Œå™¨ï¼Œè€Œ <code>async</code> å‡½æ•°è‡ªå¸¦æ‰§è¡Œå™¨ï¼Œè°ƒç”¨æ–¹å¼ä¸æ™®é€šå‡½æ•°ä¸€è‡´ã€‚</li>
<li><strong>æ›´å¥½çš„è¯­ä¹‰</strong>ï¼š<code>async</code> å’Œ <code>await</code> ç›¸è¾ƒäºæ˜Ÿå·ï¼ˆ<code>*</code>ï¼‰å’Œ <code>yield</code> æ›´åŠ è¯­ä¹‰åŒ–ã€‚<code>async</code> è¡¨ç¤ºå‡½æ•°ä¸­æœ‰å¼‚æ­¥æ“ä½œï¼Œ<code>await</code> è¡¨ç¤ºç´§è·Ÿåœ¨åé¢çš„è¡¨è¾¾å¼éœ€è¦ç­‰å¾…ç»“æœã€‚</li>
<li><strong>æ›´å¹¿çš„é€‚ç”¨æ€§</strong>ï¼š<code>co</code> æ¨¡å—çº¦å®šï¼Œ<code>yield</code> å‘½ä»¤åé¢åªèƒ½æ˜¯ Thunk å‡½æ•°æˆ– Promise å¯¹è±¡ï¼Œè€Œ <code>async</code> å‡½æ•°çš„ <code>await</code> å‘½ä»¤åé¢åˆ™å¯ä»¥æ˜¯ Promise å’ŒåŸå§‹ç±»å‹çš„å€¼ï¼ˆNumberã€String å’Œ Booleanï¼Œä½†è¿™æ—¶ä¼šè‡ªåŠ¨è½¬æˆç«‹å³ <code>fulfilled</code> çŠ¶æ€çš„ Promise å¯¹è±¡ï¼‰ã€‚</li>
<li><strong>è¿”å›å€¼æ˜¯ Promise</strong>ï¼š<code>async</code> å‡½æ•°çš„è¿”å›å€¼æ˜¯ Promise å¯¹è±¡ï¼Œè¿™æ¯” Generator å‡½æ•°çš„è¿”å›å€¼æ˜¯ Iterator å¯¹è±¡æ–¹ä¾¿å¤šäº†ã€‚ä½ å¯ä»¥ç”¨ <code>then</code> æ–¹æ³•æŒ‡å®šä¸‹ä¸€æ­¥çš„æ“ä½œã€‚</li>
</ul>
<p>è¿›ä¸€æ­¥è¯´ï¼Œ<code>async</code> å‡½æ•°å®Œå…¨å¯ä»¥çœ‹ä½œå¤šä¸ªå¼‚æ­¥æ“ä½œï¼ŒåŒ…è£…æˆçš„ä¸€ä¸ª Promise å¯¹è±¡ï¼Œè€Œ <code>await</code> å‘½ä»¤å°±æ˜¯å†…éƒ¨ <code>then</code> å‘½ä»¤çš„è¯­æ³•ç³–ã€‚</p>
<p><strong><code>async</code>å‡½æ•°ä¸ Generator å‡½æ•°çš„å¯¹æ¯”</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left"></th>
<th style="text-align:left">async å‡½æ•°</th>
<th style="text-align:left">Generator å‡½æ•°</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>å®šä¹‰æ–¹å¼</strong></td>
<td style="text-align:left"><code>async function(){}</code></td>
<td style="text-align:left"><code>function* (){}</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>å¼‚æ­¥è¯­å¥å‘½ä»¤</strong></td>
<td style="text-align:left"><code>await</code></td>
<td style="text-align:left"><code>yield</code></td>
</tr>
</tbody>
</table>
<h2>åŸºæœ¬ç”¨æ³•</h2>
<h3>å¼‚æ­¥å‡½æ•°çš„å£°æ˜</h3>
<p>å‡¡æ˜¯åœ¨å‡½æ•°å£°æ˜å‰æ·»åŠ  <code>async</code> å…³é”®å­—çš„å‡½æ•°åœ¨æ‰§è¡Œåéƒ½ä¼šè‡ªåŠ¨è¿”å› Promise å¯¹è±¡ã€‚</p>
<p><code>async</code> å‡½æ•°è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨ <code>then</code> æ–¹æ³•æ·»åŠ å›è°ƒå‡½æ•°ã€‚å½“å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œä¸€æ—¦é‡åˆ° <code>await</code> å°±ä¼šå…ˆè¿”å›ï¼Œç­‰åˆ°å¼‚æ­¥æ“ä½œå®Œæˆï¼Œå†æ¥ç€æ‰§è¡Œå‡½æ•°ä½“å†…åé¢çš„è¯­å¥ã€‚</p>
<p>ğŸŒ° <strong>ä»£ç ç¤ºä¾‹</strong>ï¼š</p>
<pre class="hljs language-js"  style=--lang:"js" ><code><span class="hljs-keyword">function</span> <span class="hljs-title function_">timeout</span>(<span class="hljs-params">ms</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, ms));
}

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params">arg1, ms</span>) {
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">timeout</span>(ms);
  <span class="hljs-keyword">return</span> arg1;
}

<span class="hljs-title function_">foo</span>(<span class="hljs-string">&#x27;Hello world!&#x27;</span>, <span class="hljs-number">500</span>).<span class="hljs-title function_">then</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">log</span>);
<span class="hljs-comment">// &#x27;Hello world!&#x27;</span>
</code></pre>
<h3>å¼‚æ­¥å‡½æ•°çš„è¯­å¥</h3>
<p><code>await</code> å‘½ä»¤å¿…é¡»åœ¨ <code>async</code> å‡½æ•°é‡Œä½¿ç”¨ï¼Œä¸èƒ½å•ç‹¬ä½¿ç”¨ã€‚</p>
<p>ç”±äº <code>async</code> å‡½æ•°è¿”å›çš„æ˜¯ Promise å¯¹è±¡ï¼Œå¯ä»¥ä½œä¸º <code>await</code> å‘½ä»¤çš„å‚æ•°ã€‚</p>
<h3>å¼‚æ­¥è¯­å¥è¿”å›å€¼</h3>
<p><code>await</code> åéœ€è·Ÿ Promiseã€‚</p>
<p><code>await</code> ä½œç”¨ä¹‹ä¸€å°±æ˜¯è·å–éšå Promise å¯¹è±¡æˆåŠŸçŠ¶æ€ä¼ é€’å‡ºæ¥çš„å‚æ•°ã€‚</p>
<p><code>await</code> å‘½ä»¤åªèƒ½ç”¨åœ¨ <code>async</code> å‡½æ•°ä¸­ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚</p>
<h2>è¯­æ³•</h2>
<h3>è¿”å›å€¼ç±»å‹</h3>
<p><code>async</code> å‡½æ•°è¿”å›ä¸€ä¸ª Promise å¯¹è±¡</p>
<p><code>async</code> å‡½æ•°å†…éƒ¨ <code>return</code> è¯­å¥è¿”å›çš„å€¼ï¼Œä¼šæˆä¸º <code>then</code> æ–¹æ³•å›è°ƒå‡½æ•°çš„å‚æ•°ã€‚</p>
<pre class="hljs language-js"  style=--lang:"js" ><code><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;Hello world!&#x27;</span>;
}

<span class="hljs-title function_">foo</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res));
<span class="hljs-comment">// &#x27;Hello world!&#x27;</span>
</code></pre>
<p>å¦‚æœ <code>async</code> å‡½æ•°å†…éƒ¨æŠ›å‡ºå¼‚å¸¸ï¼Œåˆ™ä¼šå¯¼è‡´è¿”å›çš„ Promise å¯¹è±¡çŠ¶æ€å˜ä¸º <code>rejected</code> çŠ¶æ€ã€‚æŠ›å‡ºçš„é”™è¯¯è€Œä¼šè¢« <code>catch</code> æ–¹æ³•å›è°ƒå‡½æ•°æ¥æ”¶åˆ°ã€‚</p>
<pre class="hljs language-js"  style=--lang:"js" ><code><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;Error&#x27;</span>);
}

<span class="hljs-title function_">foo</span>()
  .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res))
  .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(err));
</code></pre>
<h3>è¿”å›å€¼çŠ¶æ€å˜åŒ–</h3>
<p><code>async</code> å‡½æ•°è¿”å›çš„ Promise å¯¹è±¡ï¼Œå¿…é¡»ç­‰åˆ°å†…éƒ¨æ‰€æœ‰ <code>await</code> å‘½ä»¤åé¢çš„ Promise å¯¹è±¡æ‰§è¡Œå®Œï¼Œæ‰ä¼šå‘ç”ŸçŠ¶æ€æ”¹å˜ï¼Œé™¤éé‡åˆ° <code>return</code> è¯­å¥æˆ–è€…æŠ›å‡ºé”™è¯¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰ <code>async</code> å‡½æ•°å†…éƒ¨çš„å¼‚æ­¥æ“ä½œæ‰§è¡Œå®Œï¼Œæ‰ä¼šæ‰§è¡Œ <code>then</code> æ–¹æ³•æŒ‡å®šçš„å›è°ƒå‡½æ•°ã€‚</p>
<p>ğŸŒ° <strong>ä»£ç ç¤ºä¾‹</strong>ï¼š</p>
<pre class="hljs language-js"  style=--lang:"js" ><code><span class="hljs-keyword">const</span> <span class="hljs-title function_">delay</span> = (<span class="hljs-params">timeout</span>) =&gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, timeout));

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">delay</span>(<span class="hljs-number">1000</span>);
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">delay</span>(<span class="hljs-number">2000</span>);
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">delay</span>(<span class="hljs-number">3000</span>);
  <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;done&#x27;</span>;
}

<span class="hljs-title function_">foo</span>().<span class="hljs-title function_">then</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">log</span>);
<span class="hljs-comment">// &#x27;done&#x27;</span>
</code></pre>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•° <code>foo</code> å†…éƒ¨æœ‰ä¸‰ä¸ªå»¶è¿Ÿå‡½æ•°ã€‚åªæœ‰è¿™ä¸‰ä¸ªæ“ä½œä¾æ¬¡å®Œæˆï¼Œæ‰ä¼šæ‰§è¡Œ <code>then</code> æ–¹æ³•é‡Œé¢çš„ <code>console.log</code>ã€‚</p>
<h3>å¼‚æ­¥è¯­å¥è¿”å›å€¼</h3>
<p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œå¼‚æ­¥è¯­å¥ <code>await</code> å‘½ä»¤åé¢æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ï¼Œè¿”å›è¯¥å¯¹è±¡çš„ç»“æœã€‚å¦‚æœä¸æ˜¯ Promise å¯¹è±¡ï¼Œå°±ç›´æ¥è¿”å›å¯¹åº”çš„å€¼ã€‚</p>
<p>ğŸŒ° <strong>ä»£ç ç¤ºä¾‹</strong>ï¼š</p>
<pre class="hljs language-js"  style=--lang:"js" ><code><span class="hljs-keyword">async</span> funciont <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>){
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-number">1</span>
}

fn.<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res));
<span class="hljs-comment">// 1</span>
</code></pre>
<h2>å¼‚å¸¸å¤„ç†</h2>
<h3>æ•æ‰å¼‚å¸¸</h3>
<p>ä»»ä½•ä¸€ä¸ª <code>await</code> è¯­å¥åé¢çš„ Promise å¯¹è±¡å˜ä¸º <code>rejected</code> çŠ¶æ€ï¼Œé‚£ä¹ˆæ•´ä¸ª <code>async</code> å‡½æ•°éƒ½ä¼šä¸­æ–­æ‰§è¡Œã€‚</p>
<p>ğŸŒ° <strong>ä»£ç ç¤ºä¾‹</strong>ï¼š</p>
<pre class="hljs language-js"  style=--lang:"js" ><code><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-string">&#x27;Error!&#x27;</span>);
  <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-string">&#x27;Hello world!&#x27;</span>);
  <span class="hljs-comment">// ä¸ä¼šæ‰§è¡Œ</span>
}
</code></pre>
<p>å½“ <code>async</code> å¼‚æ­¥å‡½æ•°ä¸­åªè¦æœ‰ä¸€ä¸ª <code>await</code> å¼‚æ­¥è¯­å¥è¿”å›çš„ Promise å¤„äº <code>rejected</code> çŠ¶æ€ï¼Œåˆ™åé¢çš„ <code>await</code> å¼‚æ­¥è¯­å¥éƒ½ä¸ä¼šæ‰§è¡Œã€‚</p>
<p><strong>è§£å†³æ–¹æ³•</strong>ï¼šä½¿ç”¨ <a href="/front-end/basic-concept/statements-and-declarations/the-try-statement">try-catch è¯­å¥</a> æˆ–åœ¨ <code>await</code> è¿”å›çš„ Promise æ·»åŠ  <code>catch</code> æ–¹æ³•æ•æ‰é”™è¯¯ã€‚</p>
<p>æœ‰æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›å³ä½¿å‰ä¸€ä¸ªå¼‚æ­¥æ“ä½œå¤±è´¥ï¼Œä¹Ÿä¸è¦ä¸­æ–­åé¢çš„å¼‚æ­¥æ“ä½œã€‚è¿™æ—¶å¯ä»¥å°†ç¬¬ä¸€ä¸ª <code>await</code> æ”¾åœ¨ <code>try...catch</code> ç»“æ„é‡Œé¢ï¼Œè¿™æ ·ä¸ç®¡è¿™ä¸ªå¼‚æ­¥æ“ä½œæ˜¯å¦æˆåŠŸï¼Œç¬¬äºŒä¸ª <code>await</code> éƒ½ä¼šæ‰§è¡Œã€‚</p>
<p>ğŸŒ° <strong>ä»£ç ç¤ºä¾‹</strong>ï¼š</p>
<pre class="hljs language-js"  style=--lang:"js" ><code><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-string">&#x27;Error!&#x27;</span>);
  } <span class="hljs-keyword">catch</span> (err) {
    <span class="hljs-comment">// do something</span>
  }

  <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-string">&#x27;Hello world!&#x27;</span>);
}

<span class="hljs-title function_">foo</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res));
<span class="hljs-comment">// &#x27;Hello world!&#x27;</span>
</code></pre>
<p>å¦ä¸€ç§æ–¹æ³•æ˜¯ <code>await</code> åé¢çš„ Promise å¯¹è±¡å†è·Ÿä¸€ä¸ª <code>catch</code> æ–¹æ³•ï¼Œå¤„ç†å‰é¢å¯èƒ½å‡ºç°çš„é”™è¯¯ã€‚</p>
<p>ğŸŒ° <strong>ä»£ç ç¤ºä¾‹</strong>ï¼š</p>
<pre class="hljs language-js"  style=--lang:"js" ><code><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-string">&#x27;Error!&#x27;</span>).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(e));

  <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-string">&#x27;Hello world!&#x27;</span>);
}

<span class="hljs-title function_">foo</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res));
<span class="hljs-comment">// &#x27;Error!&#x27;</span>
<span class="hljs-comment">// &#x27;Hello world!&#x27;</span>
</code></pre>
<h3>æ“ä½œä¸­æ–­</h3>
<p>å¦‚æœ <code>await</code> åé¢çš„å¼‚æ­¥æ“ä½œå‡ºé”™ï¼Œé‚£ä¹ˆç­‰åŒäº <code>async</code> å‡½æ•°è¿”å›çš„ Promise å¯¹è±¡è¢« <code>reject</code>ã€‚</p>
<p>ä½¿ç”¨ <code>try...catch</code> è¯­å¥ï¼Œå®ç°å¤šæ¬¡é‡å¤å°è¯•ã€‚</p>
<p>ğŸŒ° <strong>ä»£ç ç¤ºä¾‹</strong>ï¼š</p>
<pre class="hljs language-js"  style=--lang:"js" ><code><span class="hljs-keyword">const</span> superagent = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;superagent&#x27;</span>);
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">NUM_RETRIES</span> = <span class="hljs-number">3</span>;

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">let</span> i;
  <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable constant_">NUM_RETRIES</span>; i++) {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">await</span> superagent.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;https://google.com/this-throws-an-error&#x27;</span>);
      <span class="hljs-keyword">break</span>;
    } <span class="hljs-keyword">catch</span> (err) {
      <span class="hljs-comment">// do something</span>
    }
  }

  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i);
  <span class="hljs-comment">// 3</span>
}

<span class="hljs-title function_">foo</span>();
</code></pre>
<p>å¦‚æœ <code>await</code> æ“ä½œæˆåŠŸï¼Œå°±ä¼šä½¿ç”¨ <code>break</code> è¯­å¥é€€å‡ºå¾ªç¯ï¼›å¦‚æœå¤±è´¥ï¼Œä¼šè¢« <code>catch</code> è¯­å¥æ•æ‰ï¼Œç„¶åè¿›å…¥ä¸‹ä¸€è½®å¾ªç¯ã€‚</p>
<h2>å®ç°åŸç†</h2>
<p><code>async</code> å‡½æ•°çš„å®ç°åŸç†ï¼Œå°±æ˜¯å°† Generator å‡½æ•°å’Œè‡ªåŠ¨æ‰§è¡Œå™¨ï¼ŒåŒ…è£…åœ¨ä¸€ä¸ªå‡½æ•°é‡Œã€‚</p>
<p>ğŸŒ° <strong>ä»£ç ç¤ºä¾‹</strong>ï¼š</p>
<pre class="hljs language-js"  style=--lang:"js" ><code><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) {
  <span class="hljs-comment">// ...</span>
}
</code></pre>
<p>ç›¸å½“äºï¼š</p>
<pre class="hljs language-js"  style=--lang:"js" ><code><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params">args</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">spawn</span>(<span class="hljs-keyword">function</span>* () {
    <span class="hljs-comment">// ...</span>
  });
}
</code></pre>
<p>æ‰€æœ‰çš„ <code>async</code> å‡½æ•°éƒ½å¯ä»¥å†™æˆä¸Šé¢çš„ç¬¬äºŒç§å½¢å¼ï¼Œå…¶ä¸­çš„ <code>spawn</code> å‡½æ•°å°±æ˜¯è‡ªåŠ¨æ‰§è¡Œå™¨ã€‚</p>
<pre class="hljs language-js"  style=--lang:"js" ><code><span class="hljs-keyword">function</span> <span class="hljs-title function_">spawn</span>(<span class="hljs-params">genF</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">resolve, reject</span>) {
    <span class="hljs-keyword">const</span> gen = <span class="hljs-title function_">genF</span>();
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">step</span>(<span class="hljs-params">nextF</span>) {
      <span class="hljs-keyword">let</span> next;
      <span class="hljs-keyword">try</span> {
        next = <span class="hljs-title function_">nextF</span>();
      } <span class="hljs-keyword">catch</span> (e) {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">reject</span>(e);
      }
      <span class="hljs-keyword">if</span> (next.<span class="hljs-property">done</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">resolve</span>(next.<span class="hljs-property">value</span>);
      }
      <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(next.<span class="hljs-property">value</span>).<span class="hljs-title function_">then</span>(
        <span class="hljs-keyword">function</span> (<span class="hljs-params">v</span>) {
          <span class="hljs-title function_">step</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
            <span class="hljs-keyword">return</span> gen.<span class="hljs-title function_">next</span>(v);
          });
        },
        <span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) {
          <span class="hljs-title function_">step</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
            <span class="hljs-keyword">return</span> gen.<span class="hljs-keyword">throw</span>(e);
          });
        }
      );
    }
    <span class="hljs-title function_">step</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
      <span class="hljs-keyword">return</span> gen.<span class="hljs-title function_">next</span>(<span class="hljs-literal">undefined</span>);
    });
  });
}
</code></pre>
<h2>æœ€ä½³å®è·µ</h2>
<h3>å¼‚æ­¥é˜»å¡</h3>
<p>åé¢è¯·æ±‚çš„å‘é€æ€»æ˜¯éœ€è¦ä¾èµ–ä¸Šä¸€ä¸ªè¯·æ±‚è¿”å›çš„æ•°æ®ã€‚</p>
<p>ğŸŒ° <strong>ä»£ç ç¤ºä¾‹</strong>ï¼š</p>
<pre class="hljs language-js"  style=--lang:"js" ><code><span class="hljs-keyword">function</span> <span class="hljs-title function_">request</span>(<span class="hljs-params">time</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, rejecr</span>) =&gt;</span> {
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title function_">resolve</span>(time);
    }, time);
  });
}

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getResult</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">let</span> p1 = <span class="hljs-keyword">await</span> <span class="hljs-title function_">request</span>(<span class="hljs-number">500</span>);
  <span class="hljs-keyword">let</span> p2 = <span class="hljs-keyword">await</span> <span class="hljs-title function_">request</span>(p1 + <span class="hljs-number">1000</span>);
  <span class="hljs-keyword">let</span> p3 = <span class="hljs-keyword">await</span> <span class="hljs-title function_">request</span>(p2 + <span class="hljs-number">1000</span>);
  <span class="hljs-keyword">return</span> p3;
}

<span class="hljs-title function_">getResult</span>()
  .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res);
  })
  .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(err);
  });
</code></pre>
<h3>å¼‚æ­¥éé˜»å¡</h3>
<p>åœ¨æŸäº›ä¸šåŠ¡åœºæ™¯ä¸‹ï¼Œå¼€å‘è€…å¯èƒ½éœ€è¦å¤„ç†å¤šä¸ªè¿ç»­æ­¥éª¤çš„æ“ä½œï¼Œä½†æ˜¯è¿™äº›æ“ä½œæœªå¿…ç›¸äº’ä¾èµ–ã€‚å› æ­¤éœ€è¦å¯¹è¿™äº›æ“ä½œè¿›è¡Œä¼˜åŒ–ã€‚</p>
<p>ç»¼åˆä¸Šè¿° <a href="/front-end/core-modules/ecmascript-function-objects/function-declarations/#%E5%BC%82%E6%AD%A5%E9%98%BB%E5%A1%9E">å¼‚æ­¥é˜»å¡</a> å’Œ <a href="/front-end/core-modules/ecmascript-function-objects/function-declarations/#%E5%BC%82%E6%AD%A5%E5%B9%B6%E5%8F%91">å¼‚æ­¥å¹¶å‘</a>ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ Event Loop çš„ä¼˜åŠ¿å¹¶å‘æ‰§è¡Œè¿™äº›éé˜»å¡å¼‚æ­¥å‡½æ•°ã€‚</p>
<p>ğŸŒ° <strong>ä»£ç ç¤ºä¾‹</strong>ï¼š</p>
<pre class="hljs language-js"  style=--lang:"js" ><code><span class="hljs-comment">// é€‰æ‹©æŠ«è¨</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">selectPizza</span>(<span class="hljs-params"></span>) {
  <span class="hljs-comment">// å¼‚æ­¥è·å–æŠ«è¨æ•°æ®</span>
  <span class="hljs-keyword">const</span> pizzaData = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getPizzaData</span>();
  <span class="hljs-comment">// é€‰æ‹©æŠ«è¨</span>
  <span class="hljs-keyword">const</span> chosenPizza = <span class="hljs-title function_">choosePizza</span>();
  <span class="hljs-comment">// å¼‚æ­¥æ·»åŠ é€‰ä¸­æŠ«è¨åˆ°è´­ç‰©è½¦</span>
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">addPizzaToCart</span>(chosenPizza);
}

<span class="hljs-comment">// é€‰æ‹©é¥®æ–™</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">selectDrink</span>(<span class="hljs-params"></span>) {
  <span class="hljs-comment">// å¼‚æ­¥è·å–é¥®æ–™æ•°æ®</span>
  <span class="hljs-keyword">const</span> drinkData = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getDrinkData</span>();
  <span class="hljs-comment">// é€‰æ‹©é¥®æ–™</span>
  <span class="hljs-keyword">const</span> chosenDrink = <span class="hljs-title function_">chooseDrink</span>();
  <span class="hljs-comment">// å¼‚æ­¥æ·»åŠ é€‰ä¸­é¥®æ–™åˆ°è´­ç‰©è½¦</span>
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">addDrinkToCart</span>(chosenDrink);
}

(<span class="hljs-title function_">async</span> () =&gt; {
  <span class="hljs-comment">// å¹¶å‘æ‰§è¡Œè¿™äº›éé˜»å¡å¼‚æ­¥å‡½æ•°</span>
  <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([<span class="hljs-title function_">selectPizza</span>(), <span class="hljs-title function_">selectDrink</span>()]).<span class="hljs-title function_">then</span>(orderItems);
})();
</code></pre>
<p>è¡¥å……ä¸€ç§ä¸ä¹‹ç›¸å…³çš„æ¯”è¾ƒä¼˜é›…çš„å†™æ³•ã€‚</p>
<pre class="hljs language-js"  style=--lang:"js" ><code><span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(<span class="hljs-title function_">selectPizza</span>().<span class="hljs-title function_">then</span>(choosePizza), <span class="hljs-title function_">selectDrink</span>().<span class="hljs-title function_">then</span>(chooseDrink));
</code></pre>
<h3>å¼‚æ­¥å¹¶å‘</h3>
<p>å¤šä¸ªç½‘ç»œè¯·æ±‚æ˜¯éç»§å‘å…³ç³»ï¼Œæœ€å¥½ä½¿ç”¨ <code>Promise.all</code> æ–¹æ³•å®ç°åŒæ—¶è§¦å‘ã€‚</p>
<p>ğŸŒ° <strong>ä»£ç ç¤ºä¾‹</strong>ï¼š</p>
<pre class="hljs language-js"  style=--lang:"js" ><code><span class="hljs-keyword">const</span> [userList, orderList] = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([<span class="hljs-title function_">getUserList</span>(), <span class="hljs-title function_">getOrderList</span>()]);

<span class="hljs-keyword">let</span> userPromise = <span class="hljs-title function_">getUserList</span>();
<span class="hljs-keyword">let</span> orderPromise = <span class="hljs-title function_">getOrderList</span>();

<span class="hljs-keyword">let</span> user = <span class="hljs-keyword">await</span> userPromise;
<span class="hljs-keyword">let</span> order = <span class="hljs-keyword">await</span> orderPromise;
</code></pre>
<p>ä¸Šé¢ä¸¤ç§å†™æ³•ï¼Œ<code>getUserList</code> å’Œ <code>getOrderList</code> éƒ½æ˜¯åŒæ—¶è§¦å‘ï¼Œè¿™æ ·å°±ä¼šç¼©çŸ­ç¨‹åºçš„æ‰§è¡Œæ—¶é—´ã€‚</p>
<h3>æœªçŸ¥æ•°é‡çš„å¼‚æ­¥å¹¶å‘</h3>
<p>æ‰¿æ¥ä¸Šä¸ªå®è·µæ–¹æ¡ˆï¼Œå½“æˆ‘ä»¬éœ€è¦è§£å†³æœªçŸ¥æ•°é‡çš„ Promise çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦åˆ›å»ºæ•°ç»„å¹¶å­˜å‚¨å®ƒä»¬ï¼Œç„¶ååŒæ ·ä½¿ç”¨ <code>Promise.all</code> æ–¹æ³•å°±èƒ½å¤Ÿå¹¶å‘åœ°ç­‰å¾…æ‰€æœ‰ Promise è¿”å›ç»“æœã€‚</p>
<p>ğŸŒ° <strong>ä»£ç ç¤ºä¾‹</strong>ï¼š</p>
<pre class="hljs language-js"  style=--lang:"js" ><code><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) {
  <span class="hljs-comment">// æ‰¹é‡é…ç½®é¡¹</span>
  <span class="hljs-keyword">const</span> items = <span class="hljs-keyword">await</span> <span class="hljs-title function_">batchDisposal</span>();
  <span class="hljs-comment">// æ¯ä¸ªé…ç½®é¡¹å¯¹åº”ä¸€ä¸ªå¼‚æ­¥è¯·æ±‚</span>
  <span class="hljs-keyword">const</span> promises = items.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> <span class="hljs-title function_">sendRequest</span>(item));
  <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(promises);
}
</code></pre>
<h3>ä¸ç­‰å¾…ç»“æœçš„å¼‚æ­¥å¾ªç¯</h3>
<p><code>await</code> æ¯æ¬¡å¾ªç¯ä»»åŠ¡ï¼Œæ³¨æ„éå†æ‰§è¡Œçš„åŒ¿åå‡½æ•°ä¹Ÿè¦è®¾ç½®ä¸º <code>async</code> å¼‚æ­¥å‡½æ•°ã€‚</p>
<pre class="hljs language-js"  style=--lang:"js" ><code><span class="hljs-keyword">function</span> <span class="hljs-title function_">delay</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, <span class="hljs-number">300</span>));
}

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">delayedLog</span>(<span class="hljs-params">item</span>) {
  <span class="hljs-comment">// notice that we can await a function that returns promise</span>
  <span class="hljs-keyword">await</span> <span class="hljs-title function_">delay</span>();
  <span class="hljs-comment">// log item only after a delay</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(item);
}

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">execute</span>(<span class="hljs-params">tasks</span>) {
  tasks.<span class="hljs-title function_">forEach</span>(<span class="hljs-title function_">async</span> (item) =&gt; {
    <span class="hljs-keyword">await</span> <span class="hljs-title function_">delayLog</span>(item);
  });

  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;DONE!&#x27;</span>);
}
</code></pre>
<h3>å¼‚æ­¥ä¸²è¡Œéå†</h3>
<p>è¦ç­‰å¾…æ‰€æœ‰çš„ç»“æœè¿”å›ï¼Œæˆ‘ä»¬è¿˜æ˜¯è¦å›åˆ°è€å¼çš„ <code>for</code> å¾ªç¯å†™æ³•ï¼š</p>
<pre class="hljs language-js"  style=--lang:"js" ><code><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">execute</span>(<span class="hljs-params">tasks</span>) {
  <span class="hljs-keyword">let</span> result = [];

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> task <span class="hljs-keyword">of</span> tasks) {
    <span class="hljs-keyword">try</span> {
      result.<span class="hljs-title function_">push</span>(<span class="hljs-keyword">await</span> <span class="hljs-title function_">task</span>());
    } <span class="hljs-keyword">catch</span> (err) {
      result.<span class="hljs-title function_">push</span>(<span class="hljs-literal">null</span>);
    }
  }

  <span class="hljs-keyword">return</span> result;
}
</code></pre>
<p>ä¸Šé¢è¿™æ®µçš„éå†æ˜¯ <strong>ä¸²è¡Œ</strong> æ‰§è¡Œçš„ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠå®ƒè½¬æ¢æˆ <strong>å¹¶è¡Œ</strong> çš„ã€‚</p>
<h3>å¼‚æ­¥å¹¶è¡Œéå†</h3>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡æ›´æ”¹ä¸Šé¢çš„ä»£ç æ¥å®ç°å¹¶è¡Œçš„å¼‚æ­¥æ“ä½œï¼š</p>
<pre class="hljs language-js"  style=--lang:"js" ><code><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">execute</span>(<span class="hljs-params">tasks</span>) {
  <span class="hljs-comment">// map tasks to promises</span>
  <span class="hljs-keyword">const</span> promises = tasks.<span class="hljs-title function_">map</span>(delayLog);
  <span class="hljs-comment">// wait until all promises are resolved</span>
  <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(promises);

  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;DONE!&#x27;</span>);
}
</code></pre>
<h2>å‚è€ƒèµ„æ–™</h2>
<ul>
<li><a href="http://es6.ruanyifeng.com/#docs/async" target="_blank" rel="noopener noreferrer nofollow">ğŸ“š ã€ŠECMAScript 6 å…¥é—¨ã€‹</a></li>
<li><a href="https://juejin.im/post/5beea5f5f265da61590b40cd" target="_blank" rel="noopener noreferrer nofollow">ğŸ“ è¯‘æ–‡ï¼šæ›´å¿«çš„ async å‡½æ•°å’Œ Promise</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/30500894" target="_blank" rel="noopener noreferrer nofollow">ğŸ“ è¯‘æ–‡ï¼šå›¾ä¸ä¾‹è§£è¯» Async/Await</a></li>
</ul>
</article></div></main><script src="/_next/static/chunks/webpack-78112f590b744806.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[5244,[],\"\"]\n3:I[3866,[],\"\"]\n5:I[6213,[],\"OutletBoundary\"]\n7:I[6213,[],\"MetadataBoundary\"]\n9:I[6213,[],\"ViewportBoundary\"]\nb:I[4835,[],\"\"]\n:HL[\"/_next/static/media/569ce4b8f30dc480-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/93f479601ee12b01-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/d498c84e4ab246b3.css\",\"style\"]\n:HL[\"/_next/static/css/485ff6fe79292a08.css\",\"style\"]\n:HL[\"/_next/static/css/b9d97b2190475167.css\",\"style\"]\n:HL[\"/_next/static/css/851cdee6d90716dd.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"NFjmtHF2up8B2PpbDjLiS\",\"p\":\"\",\"c\":[\"\",\"front-end\",\"core-modules\",\"ecmascript-function-objects\",\"function-declarations\",\"async-function-definitions\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"front-end\",{\"children\":[[\"slug\",\"core-modules/ecmascript-function-objects/function-declarations/async-function-definitions\",\"oc\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/d498c84e4ab246b3.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/485ff6fe79292a08.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"2\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/b9d97b2190475167.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"__variable_4d318d __variable_ea5f4b antialiased\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[],[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]]}],{\"children\":[\"front-end\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/851cdee6d90716dd.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"main\",null,{\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"front-end\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}],{\"children\":[[\"slug\",\"core-modules/ecmascript-function-objects/function-declarations/async-function-definitions\",\"oc\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"front-end\",\"children\",\"$0:f:0:1:2:children:2:children:0\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L4\",null,[\"$\",\"$L5\",null,{\"children\":\"$L6\"}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"gTI0TZ4tSo9WRudytmnkV\",{\"children\":[[\"$\",\"$L7\",null,{\"children\":\"$L8\"}],[\"$\",\"$L9\",null,{\"children\":\"$La\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$b\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"c:T793f,"])</script><script>self.__next_f.push([1,"\u003ch1\u003eå¼‚æ­¥å‡½æ•°\u003c/h1\u003e\n\u003cp\u003e\u003ccode\u003easync\u003c/code\u003e å‡½æ•°æ˜¯ \u003ca href=\"/front-end/standard-built-in-objects/control-abstraction-objects/generator\"\u003eGenerator\u003c/a\u003e å‡½æ•°çš„è¯­æ³•ç³–ã€‚ä½¿ç”¨å…³é”®å­— \u003ccode\u003easync\u003c/code\u003e æ¥è¡¨ç¤ºï¼Œåœ¨å‡½æ•°å†…éƒ¨æ˜¯ä½¿ç”¨ \u003ccode\u003eawait\u003c/code\u003e å‘½ä»¤æ¥è¡¨ç¤ºå¼‚æ­¥ã€‚\u003c/p\u003e\n\u003cp\u003eç›¸è¾ƒäº Generatorï¼Œ\u003ccode\u003easync\u003c/code\u003e å‡½æ•°çš„æ”¹è¿›åœ¨äºä»¥ä¸‹å››ç‚¹ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eå†…ç½®æ‰§è¡Œå™¨\u003c/strong\u003eï¼šGenerator å‡½æ•°çš„æ‰§è¡Œå¿…é¡»é æ‰§è¡Œå™¨ï¼Œè€Œ \u003ccode\u003easync\u003c/code\u003e å‡½æ•°è‡ªå¸¦æ‰§è¡Œå™¨ï¼Œè°ƒç”¨æ–¹å¼ä¸æ™®é€šå‡½æ•°ä¸€è‡´ã€‚\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eæ›´å¥½çš„è¯­ä¹‰\u003c/strong\u003eï¼š\u003ccode\u003easync\u003c/code\u003e å’Œ \u003ccode\u003eawait\u003c/code\u003e ç›¸è¾ƒäºæ˜Ÿå·ï¼ˆ\u003ccode\u003e*\u003c/code\u003eï¼‰å’Œ \u003ccode\u003eyield\u003c/code\u003e æ›´åŠ è¯­ä¹‰åŒ–ã€‚\u003ccode\u003easync\u003c/code\u003e è¡¨ç¤ºå‡½æ•°ä¸­æœ‰å¼‚æ­¥æ“ä½œï¼Œ\u003ccode\u003eawait\u003c/code\u003e è¡¨ç¤ºç´§è·Ÿåœ¨åé¢çš„è¡¨è¾¾å¼éœ€è¦ç­‰å¾…ç»“æœã€‚\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eæ›´å¹¿çš„é€‚ç”¨æ€§\u003c/strong\u003eï¼š\u003ccode\u003eco\u003c/code\u003e æ¨¡å—çº¦å®šï¼Œ\u003ccode\u003eyield\u003c/code\u003e å‘½ä»¤åé¢åªèƒ½æ˜¯ Thunk å‡½æ•°æˆ– Promise å¯¹è±¡ï¼Œè€Œ \u003ccode\u003easync\u003c/code\u003e å‡½æ•°çš„ \u003ccode\u003eawait\u003c/code\u003e å‘½ä»¤åé¢åˆ™å¯ä»¥æ˜¯ Promise å’ŒåŸå§‹ç±»å‹çš„å€¼ï¼ˆNumberã€String å’Œ Booleanï¼Œä½†è¿™æ—¶ä¼šè‡ªåŠ¨è½¬æˆç«‹å³ \u003ccode\u003efulfilled\u003c/code\u003e çŠ¶æ€çš„ Promise å¯¹è±¡ï¼‰ã€‚\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eè¿”å›å€¼æ˜¯ Promise\u003c/strong\u003eï¼š\u003ccode\u003easync\u003c/code\u003e å‡½æ•°çš„è¿”å›å€¼æ˜¯ Promise å¯¹è±¡ï¼Œè¿™æ¯” Generator å‡½æ•°çš„è¿”å›å€¼æ˜¯ Iterator å¯¹è±¡æ–¹ä¾¿å¤šäº†ã€‚ä½ å¯ä»¥ç”¨ \u003ccode\u003ethen\u003c/code\u003e æ–¹æ³•æŒ‡å®šä¸‹ä¸€æ­¥çš„æ“ä½œã€‚\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eè¿›ä¸€æ­¥è¯´ï¼Œ\u003ccode\u003easync\u003c/code\u003e å‡½æ•°å®Œå…¨å¯ä»¥çœ‹ä½œå¤šä¸ªå¼‚æ­¥æ“ä½œï¼ŒåŒ…è£…æˆçš„ä¸€ä¸ª Promise å¯¹è±¡ï¼Œè€Œ \u003ccode\u003eawait\u003c/code\u003e å‘½ä»¤å°±æ˜¯å†…éƒ¨ \u003ccode\u003ethen\u003c/code\u003e å‘½ä»¤çš„è¯­æ³•ç³–ã€‚\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e\u003ccode\u003easync\u003c/code\u003eå‡½æ•°ä¸ Generator å‡½æ•°çš„å¯¹æ¯”\u003c/strong\u003e\u003c/p\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth style=\"text-align:left\"\u003e\u003c/th\u003e\n\u003cth style=\"text-align:left\"\u003easync å‡½æ•°\u003c/th\u003e\n\u003cth style=\"text-align:left\"\u003eGenerator å‡½æ•°\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align:left\"\u003e\u003cstrong\u003eå®šä¹‰æ–¹å¼\u003c/strong\u003e\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003e\u003ccode\u003easync function(){}\u003c/code\u003e\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003e\u003ccode\u003efunction* (){}\u003c/code\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd style=\"text-align:left\"\u003e\u003cstrong\u003eå¼‚æ­¥è¯­å¥å‘½ä»¤\u003c/strong\u003e\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003e\u003ccode\u003eawait\u003c/code\u003e\u003c/td\u003e\n\u003ctd style=\"text-align:left\"\u003e\u003ccode\u003eyield\u003c/code\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch2\u003eåŸºæœ¬ç”¨æ³•\u003c/h2\u003e\n\u003ch3\u003eå¼‚æ­¥å‡½æ•°çš„å£°æ˜\u003c/h3\u003e\n\u003cp\u003eå‡¡æ˜¯åœ¨å‡½æ•°å£°æ˜å‰æ·»åŠ  \u003ccode\u003easync\u003c/code\u003e å…³é”®å­—çš„å‡½æ•°åœ¨æ‰§è¡Œåéƒ½ä¼šè‡ªåŠ¨è¿”å› Promise å¯¹è±¡ã€‚\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003easync\u003c/code\u003e å‡½æ•°è¿”å›ä¸€ä¸ª Promise å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨ \u003ccode\u003ethen\u003c/code\u003e æ–¹æ³•æ·»åŠ å›è°ƒå‡½æ•°ã€‚å½“å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œä¸€æ—¦é‡åˆ° \u003ccode\u003eawait\u003c/code\u003e å°±ä¼šå…ˆè¿”å›ï¼Œç­‰åˆ°å¼‚æ­¥æ“ä½œå®Œæˆï¼Œå†æ¥ç€æ‰§è¡Œå‡½æ•°ä½“å†…åé¢çš„è¯­å¥ã€‚\u003c/p\u003e\n\u003cp\u003eğŸŒ° \u003cstrong\u003eä»£ç ç¤ºä¾‹\u003c/strong\u003eï¼š\u003c/p\u003e\n\u003cpre class=\"hljs language-js\"  style=--lang:\"js\" \u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003etimeout\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ems\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePromise\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003eresolve\u003c/span\u003e) =\u0026gt;\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003esetTimeout\u003c/span\u003e(resolve, ms));\n}\n\n\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003efoo\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003earg1, ms\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003etimeout\u003c/span\u003e(ms);\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e arg1;\n}\n\n\u003cspan class=\"hljs-title function_\"\u003efoo\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;Hello world!\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e500\u003c/span\u003e).\u003cspan class=\"hljs-title function_\"\u003ethen\u003c/span\u003e(\u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003elog\u003c/span\u003e);\n\u003cspan class=\"hljs-comment\"\u003e// \u0026#x27;Hello world!\u0026#x27;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003eå¼‚æ­¥å‡½æ•°çš„è¯­å¥\u003c/h3\u003e\n\u003cp\u003e\u003ccode\u003eawait\u003c/code\u003e å‘½ä»¤å¿…é¡»åœ¨ \u003ccode\u003easync\u003c/code\u003e å‡½æ•°é‡Œä½¿ç”¨ï¼Œä¸èƒ½å•ç‹¬ä½¿ç”¨ã€‚\u003c/p\u003e\n\u003cp\u003eç”±äº \u003ccode\u003easync\u003c/code\u003e å‡½æ•°è¿”å›çš„æ˜¯ Promise å¯¹è±¡ï¼Œå¯ä»¥ä½œä¸º \u003ccode\u003eawait\u003c/code\u003e å‘½ä»¤çš„å‚æ•°ã€‚\u003c/p\u003e\n\u003ch3\u003eå¼‚æ­¥è¯­å¥è¿”å›å€¼\u003c/h3\u003e\n\u003cp\u003e\u003ccode\u003eawait\u003c/code\u003e åéœ€è·Ÿ Promiseã€‚\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eawait\u003c/code\u003e ä½œç”¨ä¹‹ä¸€å°±æ˜¯è·å–éšå Promise å¯¹è±¡æˆåŠŸçŠ¶æ€ä¼ é€’å‡ºæ¥çš„å‚æ•°ã€‚\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003eawait\u003c/code\u003e å‘½ä»¤åªèƒ½ç”¨åœ¨ \u003ccode\u003easync\u003c/code\u003e å‡½æ•°ä¸­ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚\u003c/p\u003e\n\u003ch2\u003eè¯­æ³•\u003c/h2\u003e\n\u003ch3\u003eè¿”å›å€¼ç±»å‹\u003c/h3\u003e\n\u003cp\u003e\u003ccode\u003easync\u003c/code\u003e å‡½æ•°è¿”å›ä¸€ä¸ª Promise å¯¹è±¡\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003easync\u003c/code\u003e å‡½æ•°å†…éƒ¨ \u003ccode\u003ereturn\u003c/code\u003e è¯­å¥è¿”å›çš„å€¼ï¼Œä¼šæˆä¸º \u003ccode\u003ethen\u003c/code\u003e æ–¹æ³•å›è°ƒå‡½æ•°çš„å‚æ•°ã€‚\u003c/p\u003e\n\u003cpre class=\"hljs language-js\"  style=--lang:\"js\" \u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003efoo\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026#x27;Hello world!\u0026#x27;\u003c/span\u003e;\n}\n\n\u003cspan class=\"hljs-title function_\"\u003efoo\u003c/span\u003e().\u003cspan class=\"hljs-title function_\"\u003ethen\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003eres\u003c/span\u003e) =\u0026gt;\u003c/span\u003e \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(res));\n\u003cspan class=\"hljs-comment\"\u003e// \u0026#x27;Hello world!\u0026#x27;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eå¦‚æœ \u003ccode\u003easync\u003c/code\u003e å‡½æ•°å†…éƒ¨æŠ›å‡ºå¼‚å¸¸ï¼Œåˆ™ä¼šå¯¼è‡´è¿”å›çš„ Promise å¯¹è±¡çŠ¶æ€å˜ä¸º \u003ccode\u003erejected\u003c/code\u003e çŠ¶æ€ã€‚æŠ›å‡ºçš„é”™è¯¯è€Œä¼šè¢« \u003ccode\u003ecatch\u003c/code\u003e æ–¹æ³•å›è°ƒå‡½æ•°æ¥æ”¶åˆ°ã€‚\u003c/p\u003e\n\u003cpre class=\"hljs language-js\"  style=--lang:\"js\" \u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003efoo\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ethrow\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eError\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;Error\u0026#x27;\u003c/span\u003e);\n}\n\n\u003cspan class=\"hljs-title function_\"\u003efoo\u003c/span\u003e()\n  .\u003cspan class=\"hljs-title function_\"\u003ethen\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003eres\u003c/span\u003e) =\u0026gt;\u003c/span\u003e \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(res))\n  .\u003cspan class=\"hljs-title function_\"\u003ecatch\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003eerr\u003c/span\u003e) =\u0026gt;\u003c/span\u003e \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(err));\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003eè¿”å›å€¼çŠ¶æ€å˜åŒ–\u003c/h3\u003e\n\u003cp\u003e\u003ccode\u003easync\u003c/code\u003e å‡½æ•°è¿”å›çš„ Promise å¯¹è±¡ï¼Œå¿…é¡»ç­‰åˆ°å†…éƒ¨æ‰€æœ‰ \u003ccode\u003eawait\u003c/code\u003e å‘½ä»¤åé¢çš„ Promise å¯¹è±¡æ‰§è¡Œå®Œï¼Œæ‰ä¼šå‘ç”ŸçŠ¶æ€æ”¹å˜ï¼Œé™¤éé‡åˆ° \u003ccode\u003ereturn\u003c/code\u003e è¯­å¥æˆ–è€…æŠ›å‡ºé”™è¯¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰ \u003ccode\u003easync\u003c/code\u003e å‡½æ•°å†…éƒ¨çš„å¼‚æ­¥æ“ä½œæ‰§è¡Œå®Œï¼Œæ‰ä¼šæ‰§è¡Œ \u003ccode\u003ethen\u003c/code\u003e æ–¹æ³•æŒ‡å®šçš„å›è°ƒå‡½æ•°ã€‚\u003c/p\u003e\n\u003cp\u003eğŸŒ° \u003cstrong\u003eä»£ç ç¤ºä¾‹\u003c/strong\u003eï¼š\u003c/p\u003e\n\u003cpre class=\"hljs language-js\"  style=--lang:\"js\" \u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003edelay\u003c/span\u003e = (\u003cspan class=\"hljs-params\"\u003etimeout\u003c/span\u003e) =\u0026gt; \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePromise\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003eresolve\u003c/span\u003e) =\u0026gt;\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003esetTimeout\u003c/span\u003e(resolve, timeout));\n\n\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003efoo\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003edelay\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e1000\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003edelay\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e2000\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003edelay\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e3000\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-string\"\u003e\u0026#x27;done\u0026#x27;\u003c/span\u003e;\n}\n\n\u003cspan class=\"hljs-title function_\"\u003efoo\u003c/span\u003e().\u003cspan class=\"hljs-title function_\"\u003ethen\u003c/span\u003e(\u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003elog\u003c/span\u003e);\n\u003cspan class=\"hljs-comment\"\u003e// \u0026#x27;done\u0026#x27;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•° \u003ccode\u003efoo\u003c/code\u003e å†…éƒ¨æœ‰ä¸‰ä¸ªå»¶è¿Ÿå‡½æ•°ã€‚åªæœ‰è¿™ä¸‰ä¸ªæ“ä½œä¾æ¬¡å®Œæˆï¼Œæ‰ä¼šæ‰§è¡Œ \u003ccode\u003ethen\u003c/code\u003e æ–¹æ³•é‡Œé¢çš„ \u003ccode\u003econsole.log\u003c/code\u003eã€‚\u003c/p\u003e\n\u003ch3\u003eå¼‚æ­¥è¯­å¥è¿”å›å€¼\u003c/h3\u003e\n\u003cp\u003eæ­£å¸¸æƒ…å†µä¸‹ï¼Œå¼‚æ­¥è¯­å¥ \u003ccode\u003eawait\u003c/code\u003e å‘½ä»¤åé¢æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ï¼Œè¿”å›è¯¥å¯¹è±¡çš„ç»“æœã€‚å¦‚æœä¸æ˜¯ Promise å¯¹è±¡ï¼Œå°±ç›´æ¥è¿”å›å¯¹åº”çš„å€¼ã€‚\u003c/p\u003e\n\u003cp\u003eğŸŒ° \u003cstrong\u003eä»£ç ç¤ºä¾‹\u003c/strong\u003eï¼š\u003c/p\u003e\n\u003cpre class=\"hljs language-js\"  style=--lang:\"js\" \u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e funciont \u003cspan class=\"hljs-title function_\"\u003efoo\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e){\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e\n}\n\nfn.\u003cspan class=\"hljs-title function_\"\u003ethen\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e\u003cspan class=\"hljs-params\"\u003eres\u003c/span\u003e =\u0026gt;\u003c/span\u003e \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(res));\n\u003cspan class=\"hljs-comment\"\u003e// 1\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eå¼‚å¸¸å¤„ç†\u003c/h2\u003e\n\u003ch3\u003eæ•æ‰å¼‚å¸¸\u003c/h3\u003e\n\u003cp\u003eä»»ä½•ä¸€ä¸ª \u003ccode\u003eawait\u003c/code\u003e è¯­å¥åé¢çš„ Promise å¯¹è±¡å˜ä¸º \u003ccode\u003erejected\u003c/code\u003e çŠ¶æ€ï¼Œé‚£ä¹ˆæ•´ä¸ª \u003ccode\u003easync\u003c/code\u003e å‡½æ•°éƒ½ä¼šä¸­æ–­æ‰§è¡Œã€‚\u003c/p\u003e\n\u003cp\u003eğŸŒ° \u003cstrong\u003eä»£ç ç¤ºä¾‹\u003c/strong\u003eï¼š\u003c/p\u003e\n\u003cpre class=\"hljs language-js\"  style=--lang:\"js\" \u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003efoo\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePromise\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ereject\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;Error!\u0026#x27;\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePromise\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eresolve\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;Hello world!\u0026#x27;\u003c/span\u003e);\n  \u003cspan class=\"hljs-comment\"\u003e// ä¸ä¼šæ‰§è¡Œ\u003c/span\u003e\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eå½“ \u003ccode\u003easync\u003c/code\u003e å¼‚æ­¥å‡½æ•°ä¸­åªè¦æœ‰ä¸€ä¸ª \u003ccode\u003eawait\u003c/code\u003e å¼‚æ­¥è¯­å¥è¿”å›çš„ Promise å¤„äº \u003ccode\u003erejected\u003c/code\u003e çŠ¶æ€ï¼Œåˆ™åé¢çš„ \u003ccode\u003eawait\u003c/code\u003e å¼‚æ­¥è¯­å¥éƒ½ä¸ä¼šæ‰§è¡Œã€‚\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eè§£å†³æ–¹æ³•\u003c/strong\u003eï¼šä½¿ç”¨ \u003ca href=\"/front-end/basic-concept/statements-and-declarations/the-try-statement\"\u003etry-catch è¯­å¥\u003c/a\u003e æˆ–åœ¨ \u003ccode\u003eawait\u003c/code\u003e è¿”å›çš„ Promise æ·»åŠ  \u003ccode\u003ecatch\u003c/code\u003e æ–¹æ³•æ•æ‰é”™è¯¯ã€‚\u003c/p\u003e\n\u003cp\u003eæœ‰æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›å³ä½¿å‰ä¸€ä¸ªå¼‚æ­¥æ“ä½œå¤±è´¥ï¼Œä¹Ÿä¸è¦ä¸­æ–­åé¢çš„å¼‚æ­¥æ“ä½œã€‚è¿™æ—¶å¯ä»¥å°†ç¬¬ä¸€ä¸ª \u003ccode\u003eawait\u003c/code\u003e æ”¾åœ¨ \u003ccode\u003etry...catch\u003c/code\u003e ç»“æ„é‡Œé¢ï¼Œè¿™æ ·ä¸ç®¡è¿™ä¸ªå¼‚æ­¥æ“ä½œæ˜¯å¦æˆåŠŸï¼Œç¬¬äºŒä¸ª \u003ccode\u003eawait\u003c/code\u003e éƒ½ä¼šæ‰§è¡Œã€‚\u003c/p\u003e\n\u003cp\u003eğŸŒ° \u003cstrong\u003eä»£ç ç¤ºä¾‹\u003c/strong\u003eï¼š\u003c/p\u003e\n\u003cpre class=\"hljs language-js\"  style=--lang:\"js\" \u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003efoo\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003etry\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePromise\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ereject\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;Error!\u0026#x27;\u003c/span\u003e);\n  } \u003cspan class=\"hljs-keyword\"\u003ecatch\u003c/span\u003e (err) {\n    \u003cspan class=\"hljs-comment\"\u003e// do something\u003c/span\u003e\n  }\n\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePromise\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eresolve\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;Hello world!\u0026#x27;\u003c/span\u003e);\n}\n\n\u003cspan class=\"hljs-title function_\"\u003efoo\u003c/span\u003e().\u003cspan class=\"hljs-title function_\"\u003ethen\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003eres\u003c/span\u003e) =\u0026gt;\u003c/span\u003e \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(res));\n\u003cspan class=\"hljs-comment\"\u003e// \u0026#x27;Hello world!\u0026#x27;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eå¦ä¸€ç§æ–¹æ³•æ˜¯ \u003ccode\u003eawait\u003c/code\u003e åé¢çš„ Promise å¯¹è±¡å†è·Ÿä¸€ä¸ª \u003ccode\u003ecatch\u003c/code\u003e æ–¹æ³•ï¼Œå¤„ç†å‰é¢å¯èƒ½å‡ºç°çš„é”™è¯¯ã€‚\u003c/p\u003e\n\u003cp\u003eğŸŒ° \u003cstrong\u003eä»£ç ç¤ºä¾‹\u003c/strong\u003eï¼š\u003c/p\u003e\n\u003cpre class=\"hljs language-js\"  style=--lang:\"js\" \u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003efoo\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePromise\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ereject\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;Error!\u0026#x27;\u003c/span\u003e).\u003cspan class=\"hljs-title function_\"\u003ecatch\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003ee\u003c/span\u003e) =\u0026gt;\u003c/span\u003e \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(e));\n\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePromise\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eresolve\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;Hello world!\u0026#x27;\u003c/span\u003e);\n}\n\n\u003cspan class=\"hljs-title function_\"\u003efoo\u003c/span\u003e().\u003cspan class=\"hljs-title function_\"\u003ethen\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003eres\u003c/span\u003e) =\u0026gt;\u003c/span\u003e \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(res));\n\u003cspan class=\"hljs-comment\"\u003e// \u0026#x27;Error!\u0026#x27;\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// \u0026#x27;Hello world!\u0026#x27;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003eæ“ä½œä¸­æ–­\u003c/h3\u003e\n\u003cp\u003eå¦‚æœ \u003ccode\u003eawait\u003c/code\u003e åé¢çš„å¼‚æ­¥æ“ä½œå‡ºé”™ï¼Œé‚£ä¹ˆç­‰åŒäº \u003ccode\u003easync\u003c/code\u003e å‡½æ•°è¿”å›çš„ Promise å¯¹è±¡è¢« \u003ccode\u003ereject\u003c/code\u003eã€‚\u003c/p\u003e\n\u003cp\u003eä½¿ç”¨ \u003ccode\u003etry...catch\u003c/code\u003e è¯­å¥ï¼Œå®ç°å¤šæ¬¡é‡å¤å°è¯•ã€‚\u003c/p\u003e\n\u003cp\u003eğŸŒ° \u003cstrong\u003eä»£ç ç¤ºä¾‹\u003c/strong\u003eï¼š\u003c/p\u003e\n\u003cpre class=\"hljs language-js\"  style=--lang:\"js\" \u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e superagent = \u003cspan class=\"hljs-built_in\"\u003erequire\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;superagent\u0026#x27;\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eNUM_RETRIES\u003c/span\u003e = \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003efoo\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e i;\n  \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e (i = \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e; i \u0026lt; \u003cspan class=\"hljs-variable constant_\"\u003eNUM_RETRIES\u003c/span\u003e; i++) {\n    \u003cspan class=\"hljs-keyword\"\u003etry\u003c/span\u003e {\n      \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e superagent.\u003cspan class=\"hljs-title function_\"\u003eget\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;https://google.com/this-throws-an-error\u0026#x27;\u003c/span\u003e);\n      \u003cspan class=\"hljs-keyword\"\u003ebreak\u003c/span\u003e;\n    } \u003cspan class=\"hljs-keyword\"\u003ecatch\u003c/span\u003e (err) {\n      \u003cspan class=\"hljs-comment\"\u003e// do something\u003c/span\u003e\n    }\n  }\n\n  \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(i);\n  \u003cspan class=\"hljs-comment\"\u003e// 3\u003c/span\u003e\n}\n\n\u003cspan class=\"hljs-title function_\"\u003efoo\u003c/span\u003e();\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eå¦‚æœ \u003ccode\u003eawait\u003c/code\u003e æ“ä½œæˆåŠŸï¼Œå°±ä¼šä½¿ç”¨ \u003ccode\u003ebreak\u003c/code\u003e è¯­å¥é€€å‡ºå¾ªç¯ï¼›å¦‚æœå¤±è´¥ï¼Œä¼šè¢« \u003ccode\u003ecatch\u003c/code\u003e è¯­å¥æ•æ‰ï¼Œç„¶åè¿›å…¥ä¸‹ä¸€è½®å¾ªç¯ã€‚\u003c/p\u003e\n\u003ch2\u003eå®ç°åŸç†\u003c/h2\u003e\n\u003cp\u003e\u003ccode\u003easync\u003c/code\u003e å‡½æ•°çš„å®ç°åŸç†ï¼Œå°±æ˜¯å°† Generator å‡½æ•°å’Œè‡ªåŠ¨æ‰§è¡Œå™¨ï¼ŒåŒ…è£…åœ¨ä¸€ä¸ªå‡½æ•°é‡Œã€‚\u003c/p\u003e\n\u003cp\u003eğŸŒ° \u003cstrong\u003eä»£ç ç¤ºä¾‹\u003c/strong\u003eï¼š\u003c/p\u003e\n\u003cpre class=\"hljs language-js\"  style=--lang:\"js\" \u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003efoo\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-comment\"\u003e// ...\u003c/span\u003e\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eç›¸å½“äºï¼š\u003c/p\u003e\n\u003cpre class=\"hljs language-js\"  style=--lang:\"js\" \u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003efoo\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eargs\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003espawn\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e* () {\n    \u003cspan class=\"hljs-comment\"\u003e// ...\u003c/span\u003e\n  });\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eæ‰€æœ‰çš„ \u003ccode\u003easync\u003c/code\u003e å‡½æ•°éƒ½å¯ä»¥å†™æˆä¸Šé¢çš„ç¬¬äºŒç§å½¢å¼ï¼Œå…¶ä¸­çš„ \u003ccode\u003espawn\u003c/code\u003e å‡½æ•°å°±æ˜¯è‡ªåŠ¨æ‰§è¡Œå™¨ã€‚\u003c/p\u003e\n\u003cpre class=\"hljs language-js\"  style=--lang:\"js\" \u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003espawn\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003egenF\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePromise\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003eresolve, reject\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e gen = \u003cspan class=\"hljs-title function_\"\u003egenF\u003c/span\u003e();\n    \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003estep\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003enextF\u003c/span\u003e) {\n      \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e next;\n      \u003cspan class=\"hljs-keyword\"\u003etry\u003c/span\u003e {\n        next = \u003cspan class=\"hljs-title function_\"\u003enextF\u003c/span\u003e();\n      } \u003cspan class=\"hljs-keyword\"\u003ecatch\u003c/span\u003e (e) {\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ereject\u003c/span\u003e(e);\n      }\n      \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (next.\u003cspan class=\"hljs-property\"\u003edone\u003c/span\u003e) {\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eresolve\u003c/span\u003e(next.\u003cspan class=\"hljs-property\"\u003evalue\u003c/span\u003e);\n      }\n      \u003cspan class=\"hljs-title class_\"\u003ePromise\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eresolve\u003c/span\u003e(next.\u003cspan class=\"hljs-property\"\u003evalue\u003c/span\u003e).\u003cspan class=\"hljs-title function_\"\u003ethen\u003c/span\u003e(\n        \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003ev\u003c/span\u003e) {\n          \u003cspan class=\"hljs-title function_\"\u003estep\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n            \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e gen.\u003cspan class=\"hljs-title function_\"\u003enext\u003c/span\u003e(v);\n          });\n        },\n        \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003ee\u003c/span\u003e) {\n          \u003cspan class=\"hljs-title function_\"\u003estep\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n            \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e gen.\u003cspan class=\"hljs-keyword\"\u003ethrow\u003c/span\u003e(e);\n          });\n        }\n      );\n    }\n    \u003cspan class=\"hljs-title function_\"\u003estep\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n      \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e gen.\u003cspan class=\"hljs-title function_\"\u003enext\u003c/span\u003e(\u003cspan class=\"hljs-literal\"\u003eundefined\u003c/span\u003e);\n    });\n  });\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eæœ€ä½³å®è·µ\u003c/h2\u003e\n\u003ch3\u003eå¼‚æ­¥é˜»å¡\u003c/h3\u003e\n\u003cp\u003eåé¢è¯·æ±‚çš„å‘é€æ€»æ˜¯éœ€è¦ä¾èµ–ä¸Šä¸€ä¸ªè¯·æ±‚è¿”å›çš„æ•°æ®ã€‚\u003c/p\u003e\n\u003cp\u003eğŸŒ° \u003cstrong\u003eä»£ç ç¤ºä¾‹\u003c/strong\u003eï¼š\u003c/p\u003e\n\u003cpre class=\"hljs language-js\"  style=--lang:\"js\" \u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003erequest\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003etime\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePromise\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003eresolve, rejecr\u003c/span\u003e) =\u0026gt;\u003c/span\u003e {\n    \u003cspan class=\"hljs-built_in\"\u003esetTimeout\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e() =\u0026gt;\u003c/span\u003e {\n      \u003cspan class=\"hljs-title function_\"\u003eresolve\u003c/span\u003e(time);\n    }, time);\n  });\n}\n\n\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003egetResult\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e p1 = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003erequest\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e500\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e p2 = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003erequest\u003c/span\u003e(p1 + \u003cspan class=\"hljs-number\"\u003e1000\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e p3 = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003erequest\u003c/span\u003e(p2 + \u003cspan class=\"hljs-number\"\u003e1000\u003c/span\u003e);\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e p3;\n}\n\n\u003cspan class=\"hljs-title function_\"\u003egetResult\u003c/span\u003e()\n  .\u003cspan class=\"hljs-title function_\"\u003ethen\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003eres\u003c/span\u003e) =\u0026gt;\u003c/span\u003e {\n    \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(res);\n  })\n  .\u003cspan class=\"hljs-title function_\"\u003ecatch\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003eerr\u003c/span\u003e) =\u0026gt;\u003c/span\u003e {\n    \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(err);\n  });\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003eå¼‚æ­¥éé˜»å¡\u003c/h3\u003e\n\u003cp\u003eåœ¨æŸäº›ä¸šåŠ¡åœºæ™¯ä¸‹ï¼Œå¼€å‘è€…å¯èƒ½éœ€è¦å¤„ç†å¤šä¸ªè¿ç»­æ­¥éª¤çš„æ“ä½œï¼Œä½†æ˜¯è¿™äº›æ“ä½œæœªå¿…ç›¸äº’ä¾èµ–ã€‚å› æ­¤éœ€è¦å¯¹è¿™äº›æ“ä½œè¿›è¡Œä¼˜åŒ–ã€‚\u003c/p\u003e\n\u003cp\u003eç»¼åˆä¸Šè¿° \u003ca href=\"/front-end/core-modules/ecmascript-function-objects/function-declarations/#%E5%BC%82%E6%AD%A5%E9%98%BB%E5%A1%9E\"\u003eå¼‚æ­¥é˜»å¡\u003c/a\u003e å’Œ \u003ca href=\"/front-end/core-modules/ecmascript-function-objects/function-declarations/#%E5%BC%82%E6%AD%A5%E5%B9%B6%E5%8F%91\"\u003eå¼‚æ­¥å¹¶å‘\u003c/a\u003eï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ Event Loop çš„ä¼˜åŠ¿å¹¶å‘æ‰§è¡Œè¿™äº›éé˜»å¡å¼‚æ­¥å‡½æ•°ã€‚\u003c/p\u003e\n\u003cp\u003eğŸŒ° \u003cstrong\u003eä»£ç ç¤ºä¾‹\u003c/strong\u003eï¼š\u003c/p\u003e\n\u003cpre class=\"hljs language-js\"  style=--lang:\"js\" \u003e\u003ccode\u003e\u003cspan class=\"hljs-comment\"\u003e// é€‰æ‹©æŠ«è¨\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eselectPizza\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-comment\"\u003e// å¼‚æ­¥è·å–æŠ«è¨æ•°æ®\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e pizzaData = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003egetPizzaData\u003c/span\u003e();\n  \u003cspan class=\"hljs-comment\"\u003e// é€‰æ‹©æŠ«è¨\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e chosenPizza = \u003cspan class=\"hljs-title function_\"\u003echoosePizza\u003c/span\u003e();\n  \u003cspan class=\"hljs-comment\"\u003e// å¼‚æ­¥æ·»åŠ é€‰ä¸­æŠ«è¨åˆ°è´­ç‰©è½¦\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eaddPizzaToCart\u003c/span\u003e(chosenPizza);\n}\n\n\u003cspan class=\"hljs-comment\"\u003e// é€‰æ‹©é¥®æ–™\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eselectDrink\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-comment\"\u003e// å¼‚æ­¥è·å–é¥®æ–™æ•°æ®\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e drinkData = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003egetDrinkData\u003c/span\u003e();\n  \u003cspan class=\"hljs-comment\"\u003e// é€‰æ‹©é¥®æ–™\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e chosenDrink = \u003cspan class=\"hljs-title function_\"\u003echooseDrink\u003c/span\u003e();\n  \u003cspan class=\"hljs-comment\"\u003e// å¼‚æ­¥æ·»åŠ é€‰ä¸­é¥®æ–™åˆ°è´­ç‰©è½¦\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eaddDrinkToCart\u003c/span\u003e(chosenDrink);\n}\n\n(\u003cspan class=\"hljs-title function_\"\u003easync\u003c/span\u003e () =\u0026gt; {\n  \u003cspan class=\"hljs-comment\"\u003e// å¹¶å‘æ‰§è¡Œè¿™äº›éé˜»å¡å¼‚æ­¥å‡½æ•°\u003c/span\u003e\n  \u003cspan class=\"hljs-title class_\"\u003ePromise\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eall\u003c/span\u003e([\u003cspan class=\"hljs-title function_\"\u003eselectPizza\u003c/span\u003e(), \u003cspan class=\"hljs-title function_\"\u003eselectDrink\u003c/span\u003e()]).\u003cspan class=\"hljs-title function_\"\u003ethen\u003c/span\u003e(orderItems);\n})();\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eè¡¥å……ä¸€ç§ä¸ä¹‹ç›¸å…³çš„æ¯”è¾ƒä¼˜é›…çš„å†™æ³•ã€‚\u003c/p\u003e\n\u003cpre class=\"hljs language-js\"  style=--lang:\"js\" \u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePromise\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eall\u003c/span\u003e(\u003cspan class=\"hljs-title function_\"\u003eselectPizza\u003c/span\u003e().\u003cspan class=\"hljs-title function_\"\u003ethen\u003c/span\u003e(choosePizza), \u003cspan class=\"hljs-title function_\"\u003eselectDrink\u003c/span\u003e().\u003cspan class=\"hljs-title function_\"\u003ethen\u003c/span\u003e(chooseDrink));\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003eå¼‚æ­¥å¹¶å‘\u003c/h3\u003e\n\u003cp\u003eå¤šä¸ªç½‘ç»œè¯·æ±‚æ˜¯éç»§å‘å…³ç³»ï¼Œæœ€å¥½ä½¿ç”¨ \u003ccode\u003ePromise.all\u003c/code\u003e æ–¹æ³•å®ç°åŒæ—¶è§¦å‘ã€‚\u003c/p\u003e\n\u003cp\u003eğŸŒ° \u003cstrong\u003eä»£ç ç¤ºä¾‹\u003c/strong\u003eï¼š\u003c/p\u003e\n\u003cpre class=\"hljs language-js\"  style=--lang:\"js\" \u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e [userList, orderList] = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePromise\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eall\u003c/span\u003e([\u003cspan class=\"hljs-title function_\"\u003egetUserList\u003c/span\u003e(), \u003cspan class=\"hljs-title function_\"\u003egetOrderList\u003c/span\u003e()]);\n\n\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e userPromise = \u003cspan class=\"hljs-title function_\"\u003egetUserList\u003c/span\u003e();\n\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e orderPromise = \u003cspan class=\"hljs-title function_\"\u003egetOrderList\u003c/span\u003e();\n\n\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e user = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e userPromise;\n\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e order = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e orderPromise;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eä¸Šé¢ä¸¤ç§å†™æ³•ï¼Œ\u003ccode\u003egetUserList\u003c/code\u003e å’Œ \u003ccode\u003egetOrderList\u003c/code\u003e éƒ½æ˜¯åŒæ—¶è§¦å‘ï¼Œè¿™æ ·å°±ä¼šç¼©çŸ­ç¨‹åºçš„æ‰§è¡Œæ—¶é—´ã€‚\u003c/p\u003e\n\u003ch3\u003eæœªçŸ¥æ•°é‡çš„å¼‚æ­¥å¹¶å‘\u003c/h3\u003e\n\u003cp\u003eæ‰¿æ¥ä¸Šä¸ªå®è·µæ–¹æ¡ˆï¼Œå½“æˆ‘ä»¬éœ€è¦è§£å†³æœªçŸ¥æ•°é‡çš„ Promise çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦åˆ›å»ºæ•°ç»„å¹¶å­˜å‚¨å®ƒä»¬ï¼Œç„¶ååŒæ ·ä½¿ç”¨ \u003ccode\u003ePromise.all\u003c/code\u003e æ–¹æ³•å°±èƒ½å¤Ÿå¹¶å‘åœ°ç­‰å¾…æ‰€æœ‰ Promise è¿”å›ç»“æœã€‚\u003c/p\u003e\n\u003cp\u003eğŸŒ° \u003cstrong\u003eä»£ç ç¤ºä¾‹\u003c/strong\u003eï¼š\u003c/p\u003e\n\u003cpre class=\"hljs language-js\"  style=--lang:\"js\" \u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003efoo\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-comment\"\u003e// æ‰¹é‡é…ç½®é¡¹\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e items = \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ebatchDisposal\u003c/span\u003e();\n  \u003cspan class=\"hljs-comment\"\u003e// æ¯ä¸ªé…ç½®é¡¹å¯¹åº”ä¸€ä¸ªå¼‚æ­¥è¯·æ±‚\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e promises = items.\u003cspan class=\"hljs-title function_\"\u003emap\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003eitem\u003c/span\u003e) =\u0026gt;\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003esendRequest\u003c/span\u003e(item));\n  \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePromise\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eall\u003c/span\u003e(promises);\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003eä¸ç­‰å¾…ç»“æœçš„å¼‚æ­¥å¾ªç¯\u003c/h3\u003e\n\u003cp\u003e\u003ccode\u003eawait\u003c/code\u003e æ¯æ¬¡å¾ªç¯ä»»åŠ¡ï¼Œæ³¨æ„éå†æ‰§è¡Œçš„åŒ¿åå‡½æ•°ä¹Ÿè¦è®¾ç½®ä¸º \u003ccode\u003easync\u003c/code\u003e å¼‚æ­¥å‡½æ•°ã€‚\u003c/p\u003e\n\u003cpre class=\"hljs language-js\"  style=--lang:\"js\" \u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003edelay\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePromise\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003eresolve\u003c/span\u003e) =\u0026gt;\u003c/span\u003e \u003cspan class=\"hljs-built_in\"\u003esetTimeout\u003c/span\u003e(resolve, \u003cspan class=\"hljs-number\"\u003e300\u003c/span\u003e));\n}\n\n\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003edelayedLog\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eitem\u003c/span\u003e) {\n  \u003cspan class=\"hljs-comment\"\u003e// notice that we can await a function that returns promise\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003edelay\u003c/span\u003e();\n  \u003cspan class=\"hljs-comment\"\u003e// log item only after a delay\u003c/span\u003e\n  \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(item);\n}\n\n\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eexecute\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003etasks\u003c/span\u003e) {\n  tasks.\u003cspan class=\"hljs-title function_\"\u003eforEach\u003c/span\u003e(\u003cspan class=\"hljs-title function_\"\u003easync\u003c/span\u003e (item) =\u0026gt; {\n    \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003edelayLog\u003c/span\u003e(item);\n  });\n\n  \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;DONE!\u0026#x27;\u003c/span\u003e);\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003eå¼‚æ­¥ä¸²è¡Œéå†\u003c/h3\u003e\n\u003cp\u003eè¦ç­‰å¾…æ‰€æœ‰çš„ç»“æœè¿”å›ï¼Œæˆ‘ä»¬è¿˜æ˜¯è¦å›åˆ°è€å¼çš„ \u003ccode\u003efor\u003c/code\u003e å¾ªç¯å†™æ³•ï¼š\u003c/p\u003e\n\u003cpre class=\"hljs language-js\"  style=--lang:\"js\" \u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eexecute\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003etasks\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e result = [];\n\n  \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e (\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e task \u003cspan class=\"hljs-keyword\"\u003eof\u003c/span\u003e tasks) {\n    \u003cspan class=\"hljs-keyword\"\u003etry\u003c/span\u003e {\n      result.\u003cspan class=\"hljs-title function_\"\u003epush\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003etask\u003c/span\u003e());\n    } \u003cspan class=\"hljs-keyword\"\u003ecatch\u003c/span\u003e (err) {\n      result.\u003cspan class=\"hljs-title function_\"\u003epush\u003c/span\u003e(\u003cspan class=\"hljs-literal\"\u003enull\u003c/span\u003e);\n    }\n  }\n\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e result;\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eä¸Šé¢è¿™æ®µçš„éå†æ˜¯ \u003cstrong\u003eä¸²è¡Œ\u003c/strong\u003e æ‰§è¡Œçš„ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠå®ƒè½¬æ¢æˆ \u003cstrong\u003eå¹¶è¡Œ\u003c/strong\u003e çš„ã€‚\u003c/p\u003e\n\u003ch3\u003eå¼‚æ­¥å¹¶è¡Œéå†\u003c/h3\u003e\n\u003cp\u003eæˆ‘ä»¬å¯ä»¥é€šè¿‡æ›´æ”¹ä¸Šé¢çš„ä»£ç æ¥å®ç°å¹¶è¡Œçš„å¼‚æ­¥æ“ä½œï¼š\u003c/p\u003e\n\u003cpre class=\"hljs language-js\"  style=--lang:\"js\" \u003e\u003ccode\u003e\u003cspan class=\"hljs-keyword\"\u003easync\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eexecute\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003etasks\u003c/span\u003e) {\n  \u003cspan class=\"hljs-comment\"\u003e// map tasks to promises\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e promises = tasks.\u003cspan class=\"hljs-title function_\"\u003emap\u003c/span\u003e(delayLog);\n  \u003cspan class=\"hljs-comment\"\u003e// wait until all promises are resolved\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003eawait\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003ePromise\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eall\u003c/span\u003e(promises);\n\n  \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;DONE!\u0026#x27;\u003c/span\u003e);\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eå‚è€ƒèµ„æ–™\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"http://es6.ruanyifeng.com/#docs/async\" target=\"_blank\" rel=\"noopener noreferrer nofollow\"\u003eğŸ“š ã€ŠECMAScript 6 å…¥é—¨ã€‹\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://juejin.im/post/5beea5f5f265da61590b40cd\" target=\"_blank\" rel=\"noopener noreferrer nofollow\"\u003eğŸ“ è¯‘æ–‡ï¼šæ›´å¿«çš„ async å‡½æ•°å’Œ Promise\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://zhuanlan.zhihu.com/p/30500894\" target=\"_blank\" rel=\"noopener noreferrer nofollow\"\u003eğŸ“ è¯‘æ–‡ï¼šå›¾ä¸ä¾‹è§£è¯» Async/Await\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n"])</script><script>self.__next_f.push([1,"4:[\"$\",\"div\",null,{\"className\":\"markdown-body\",\"children\":[\"$\",\"article\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$c\"}}]}]\n"])</script><script>self.__next_f.push([1,"a:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n8:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"front-end\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"front-end knowledge\"}],[\"$\",\"link\",\"3\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}]]\n"])</script><script>self.__next_f.push([1,"6:null\n"])</script></body></html>