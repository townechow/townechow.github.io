1:"$Sreact.fragment"
2:I[5244,[],""]
3:I[3866,[],""]
5:I[6213,[],"OutletBoundary"]
7:I[6213,[],"MetadataBoundary"]
9:I[6213,[],"ViewportBoundary"]
b:I[4835,[],""]
:HL["/_next/static/media/569ce4b8f30dc480-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/media/93f479601ee12b01-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/css/ec0a9d078e716e00.css","style"]
:HL["/_next/static/css/485ff6fe79292a08.css","style"]
:HL["/_next/static/css/0ff121a467c0636f.css","style"]
0:{"P":null,"b":"ToCgoFiTXvECVEVLCeZww","p":"","c":["","front-end","core-modules","ecmascript-function-objects","function-types","throttle"],"i":false,"f":[[["",{"children":["front-end",{"children":[["slug","core-modules/ecmascript-function-objects/function-types/throttle","oc"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/ec0a9d078e716e00.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"en","children":["$","body",null,{"className":"__variable_4d318d __variable_ea5f4b antialiased","children":["$","$L2",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L3",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[],[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]}]]}],{"children":["front-end",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/485ff6fe79292a08.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/0ff121a467c0636f.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","main",null,{"children":["$","$L2",null,{"parallelRouterKey":"children","segmentPath":["children","front-end","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L3",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]}]]}],{"children":[["slug","core-modules/ecmascript-function-objects/function-types/throttle","oc"],["$","$1","c",{"children":[null,["$","$L2",null,{"parallelRouterKey":"children","segmentPath":["children","front-end","children","$0:f:0:1:2:children:2:children:0","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L3",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":["$L4",null,["$","$L5",null,{"children":"$L6"}]]}],{},null,false]},null,false]},null,false]},null,false],["$","$1","h",{"children":[null,["$","$1","-KKuQ2Mt3XzlwGXI6P5tM",{"children":[["$","$L7",null,{"children":"$L8"}],["$","$L9",null,{"children":"$La"}],["$","meta",null,{"name":"next-size-adjust","content":""}]]}]]}],false]],"m":"$undefined","G":["$b","$undefined"],"s":false,"S":true}
c:T3732,<h1>å‡½æ•°èŠ‚æµ</h1>
<p><strong>å‡½æ•°èŠ‚æµ</strong>ï¼šè§„å®šä¸€ä¸ªå•ä½æ—¶é—´ï¼Œåœ¨è¿™ä¸ªå•ä½æ—¶é—´å†…ï¼Œåªèƒ½æœ‰ä¸€æ¬¡è§¦å‘äº‹ä»¶çš„å›è°ƒå‡½æ•°æ‰§è¡Œï¼Œå¦‚æœåœ¨åŒä¸€ä¸ªå•ä½æ—¶é—´å†…æŸäº‹ä»¶è¢«è§¦å‘å¤šæ¬¡ï¼Œåªæœ‰ä¸€æ¬¡èƒ½ç”Ÿæ•ˆã€‚ç®€å•æ¥è¯´ï¼Œè§¦å‘åç«‹å³æ‰§è¡Œï¼Œä½†å¦‚æœè¦æ‰§è¡Œä¸‹ä¸€æ¬¡ï¼Œéœ€è¦åœ¨ç¦»ä¸Šæ¬¡æ‰§è¡Œæ—¶é—´é—´éš”è®¾å®šæ—¶é—´åå†å‡ºå‘æ‰èƒ½æ‰§è¡Œã€‚</p>
<p>ğŸ• <strong>ç”Ÿæ´»ä¸­çš„å®ä¾‹ï¼š</strong></p>
<p>æˆ‘ä»¬çŸ¥é“ç›®å‰çš„ä¸€ç§è¯´æ³•æ˜¯å½“ 1 ç§’å†…è¿ç»­æ’­æ”¾ 24 å¼ ä»¥ä¸Šçš„å›¾ç‰‡æ—¶ï¼Œåœ¨äººçœ¼çš„è§†è§‰ä¸­å°±ä¼šå½¢æˆä¸€ä¸ªè¿è´¯çš„åŠ¨ç”»ï¼Œæ‰€ä»¥åœ¨ç”µå½±çš„æ’­æ”¾ä¸­åŸºæœ¬æ˜¯ä»¥æ¯ç§’ 24 å¼ çš„é€Ÿåº¦æ’­æ”¾çš„ï¼Œä¸ºä»€ä¹ˆä¸æ˜¯ 100 å¼ æˆ–æ›´å¤šå‘¢ï¼Œä¸»è¦æ˜¯å› ä¸º 24 å¼ å°±å¯ä»¥æ»¡è¶³äººç±»è§†è§‰éœ€æ±‚çš„æ—¶å€™ï¼Œ100 å¼ å°±ä¼šæ˜¾å¾—å¾ˆæµªè´¹èµ„æºã€‚</p>
<h2>ç›®çš„</h2>
<p>ä»å­—é¢ä¸Šå°±å¯ä»¥ç†è§£ï¼Œå‡½æ•°èŠ‚æµå°±æ˜¯ç”¨æ¥èŠ‚æµå‡½æ•°ä»è€Œä¸€å®šç¨‹åº¦ä¸Šä¼˜åŒ–æ€§èƒ½çš„ã€‚</p>
<p>ä¾‹å¦‚ï¼ŒDOMÂ  æ“ä½œæ¯”èµ·é DOMÂ  äº¤äº’éœ€è¦å ç”¨æ›´å¤šçš„å†…å­˜ç©ºé—´å’Œæ¶ˆè€—æ›´å¤šçš„ CPUÂ  æ—¶é—´ã€‚è¿ç»­å°è¯•è¿›è¡Œè¿‡å¤šçš„ DOMÂ  ç›¸å…³æ“ä½œå¯èƒ½ä¼šå¯¼è‡´æµè§ˆå™¨å¡é¡¿ï¼Œæœ‰æ—¶å€™ç”šè‡³ä¼šå´©æºƒã€‚å°¤å…¶åœ¨ IEÂ  ä¸­ä½¿ç”¨ <code>onresize</code>Â  äº‹ä»¶å¤„ç†ç¨‹åºçš„æ—¶å€™å®¹æ˜“å‘ç”Ÿï¼Œå½“è°ƒæ•´æµè§ˆå™¨å¤§å°çš„æ—¶å€™ï¼Œè¯¥äº‹ä»¶ä¼šè¿ç»­è§¦å‘ã€‚åœ¨ <code>onresize</code>Â  äº‹ä»¶å¤„ç†ç¨‹åºå†…éƒ¨å¦‚æœå°è¯•è¿›è¡Œ DOMÂ  æ“ä½œï¼Œå…¶é«˜é¢‘ç‡çš„æ›´æ”¹å¯èƒ½ä¼šè®©æµè§ˆå™¨å´©æºƒã€‚</p>
<h2>ä»£ç å®ç°</h2>
<pre class="hljs"><code class="language-js"><span class="hljs-comment">/**
 * å®ç°å‡½æ•°çš„èŠ‚æµï¼ˆç›®çš„æ˜¯é¢‘ç¹è§¦å‘ä¸­ç¼©å‡é¢‘ç‡ï¼‰
 * <span class="hljs-doctag">@param</span> fn {Function} å®é™…è¦æ‰§è¡Œçš„å‡½æ•°
 * <span class="hljs-doctag">@param</span> wait {Number} æ‰§è¡Œé—´éš”ï¼Œå•ä½æ˜¯æ¯«ç§’(ms)ï¼Œé»˜è®¤100ms
 * <span class="hljs-doctag">@return</span> {<span class="hljs-type">Function</span>} å¯è¢«è°ƒç”¨æ‰§è¡Œçš„å‡½æ•°
 */</span>

<span class="hljs-keyword">function</span> <span class="hljs-title function_">throttle</span>(<span class="hljs-params">fn, wait = <span class="hljs-number">500</span></span>) {
  <span class="hljs-comment">// åˆ©ç”¨é—­åŒ…ä¿å­˜å®šæ—¶å™¨å’Œä¸Šæ¬¡æ‰§è¡Œæ—¶é—´</span>
  <span class="hljs-comment">// ä¸Šæ¬¡æ‰§è¡Œæ—¶é—´</span>
  <span class="hljs-keyword">let</span> timer = <span class="hljs-literal">null</span>,
    last;

  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">...args</span>) {
    <span class="hljs-keyword">const</span> now = +<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();

    <span class="hljs-keyword">if</span> (last &amp;&amp; now &lt; last + timeout) {
      <span class="hljs-built_in">clearTimeout</span>(timer);
      timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
        last = now;
        fun.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args);
      }, timeout);
    } <span class="hljs-keyword">else</span> {
      last = now;
      fn.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args);
    }
  };
}
</code></pre>
<h2>åº”ç”¨å®è·µ</h2>
<h3>åŸç”Ÿå®ç°åº”ç”¨</h3>
<p>é¦–æ¬¡ç‚¹å‡»æŒ‰é’®è§¦å‘ <code>trigger</code> å‡½æ•°ï¼Œåœ¨ 1000 æ¯«ç§’å†…é¢‘ç¹ç‚¹å‡»æŒ‰é’®ä¹Ÿä¸ä¼šå†æ¬¡æ‰§è¡Œ <code>trigger</code> å‡½æ•°ï¼Œç›´åˆ° 1000 æ¯«ç§’ä¹‹åå†æ¬¡ç‚¹å‡»æ‰ä¼šå†æ¬¡æ‰§è¡Œ <code>trigger</code> å‡½æ•°ã€‚</p>
<pre class="hljs"><code class="language-js"><span class="hljs-keyword">const</span> button = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;button&#x27;</span>);

<span class="hljs-keyword">function</span> <span class="hljs-title function_">trigger</span>(<span class="hljs-params"></span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;click&#x27;</span>);
}

button.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-title function_">throttle</span>(trigger, <span class="hljs-number">1000</span>));
</code></pre>
<h3>React åº”ç”¨</h3>
<p>åœ¨ React ä¸­ä½¿ç”¨ï¼Œä¸‹é¢ç›‘å¬çª—å£çš„ <code>resize</code> å’Œè¾“å…¥æ¡†çš„ <code>onChange</code> äº‹ä»¶ï¼š</p>
<pre class="hljs"><code class="language-jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { <span class="hljs-title class_">Component</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react&#x27;</span>;
<span class="hljs-keyword">import</span> { throttle } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@utils/throttle&#x27;</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Invoke</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Component</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">super</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">change</span> = <span class="hljs-title function_">throttle</span>(<span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(e.<span class="hljs-property">target</span>.<span class="hljs-property">value</span>);
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;throttle&#x27;</span>);
    }, <span class="hljs-number">100</span>);
  }
  <span class="hljs-title function_">handleWindowResize</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;resize&#x27;</span>);
  }
  <span class="hljs-title function_">componentDidMount</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;resize&#x27;</span>, <span class="hljs-title function_">throttle</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">handleWindowResize</span>, <span class="hljs-number">100</span>));
  }
  <span class="hljs-title function_">componentWillUnmount</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEvenetListener</span>(<span class="hljs-string">&#x27;resize&#x27;</span>, <span class="hljs-title function_">throttle</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">handleWindowResize</span>), <span class="hljs-number">100</span>);
  }
  handleInputChange = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
    <span class="hljs-comment">// æŒä¹…åŒ–</span>
    e.<span class="hljs-title function_">persist</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">change</span>(e);
  };

  <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">return</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{this.handleInputChange}</span> /&gt;</span></span>;
  }
}
</code></pre>
<p>å…¶ä»–æ¡†æ¶åº“çš„å®ç°ï¼š</p>
<ul>
<li><a href="https://github.com/lodash/lodash/blob/master/throttle.js" target="_blank" rel="noopener noreferrer nofollow">Lodash - throttle</a></li>
<li><a href="https://underscorejs.org/#throttle" target="_blank" rel="noopener noreferrer nofollow">Underscore - throttle</a></li>
</ul>
<h3>åº”ç”¨åœºæ™¯</h3>
<p>å¸¸è§çš„é«˜é¢‘è§¦å‘ç›‘å¬äº‹ä»¶çš„åº”ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>åŠ¨ç”»åœºæ™¯ï¼šé¿å…çŸ­æ—¶é—´å†…å¤šæ¬¡è§¦å‘åŠ¨ç”»å¼•èµ·æ€§èƒ½é—®é¢˜</li>
<li>æ‹–æ‹½åœºæ™¯ï¼šå›ºå®šæ—¶é—´å†…åªæ‰§è¡Œä¸€æ¬¡ï¼Œé˜²æ­¢è¶…é«˜é¢‘æ¬¡è§¦å‘ä½ç½®å˜åŠ¨ï¼ˆ<code>mousemove</code>ï¼‰</li>
<li>ç¼©æ”¾åœºæ™¯ï¼šç›‘æ§æµè§ˆå™¨çª—å£å¤§å°ï¼ˆ<code>resize</code>ï¼‰</li>
<li>æ»šè½®åœºæ™¯ï¼šé¼ æ ‡æ»šè½®äº‹ä»¶ï¼ˆ<code>wheel</code>ï¼‰</li>
<li>Canvas ç”»ç¬”åŠŸèƒ½</li>
</ul>
<blockquote>
<p>æ€»ç»“ï¼šé€‚åˆå¤§é‡äº‹ä»¶æŒ‰æ—¶é—´åšå¹³å‡åˆ†é…è§¦å‘</p>
</blockquote>
<h2>åº”ç”¨å®è·µ</h2>
<h3>é¡µé¢æ»šåŠ¨äº‹ä»¶</h3>
<p>è¿™é‡Œä»¥åˆ¤æ–­é¡µé¢æ˜¯å¦æ»šåŠ¨åˆ°åº•éƒ¨ä¸ºä¾‹ï¼Œæ™®é€šçš„åšæ³•å°±æ˜¯ç›‘å¬ Window å¯¹è±¡çš„ <code>scroll</code> äº‹ä»¶ï¼Œç„¶ååœ¨å‡½æ•°ä½“ä¸­å†™å…¥åˆ¤æ–­æ˜¯å¦æ»šåŠ¨åˆ°åº•éƒ¨çš„é€»è¾‘ã€‚</p>
<pre class="hljs"><code class="language-js">$(<span class="hljs-variable language_">window</span>).<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;scroll&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
  <span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦æ»šåŠ¨åˆ°åº•éƒ¨çš„é€»è¾‘</span>
  <span class="hljs-keyword">let</span> pageHeight = $(<span class="hljs-string">&#x27;body&#x27;</span>).<span class="hljs-title function_">height</span>(),
    scrollTop = $(<span class="hljs-variable language_">window</span>).<span class="hljs-title function_">scrollTop</span>(),
    winHeight = $(<span class="hljs-variable language_">window</span>).<span class="hljs-title function_">height</span>(),
    thresold = pageHeight - scrollTop - winHeight;

  <span class="hljs-keyword">if</span> (thresod &gt; -<span class="hljs-number">100</span> &amp;&amp; thresold &lt;= <span class="hljs-number">20</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;The end&#x27;</span>);
  }
});
</code></pre>
<p>è¿™æ ·åšçš„ä¸€ä¸ªç¼ºç‚¹å°±æ˜¯æ¯”è¾ƒæ¶ˆè€—æ€§èƒ½ï¼Œå› ä¸ºå½“åœ¨æ»šåŠ¨çš„æ—¶å€™ï¼Œæµè§ˆå™¨ä¼šæ— æ—¶æ— åˆ»åœ°åœ¨è®¡ç®—åˆ¤æ–­æ˜¯å¦æ»šåŠ¨åˆ°åº•éƒ¨çš„é€»è¾‘ï¼Œè€Œåœ¨å®é™…åœºæ™¯ä¸­æ˜¯ä¸éœ€è¦è¿™ä¹ˆåšçš„ï¼Œåœ¨å®é™…åœºæ™¯ä¸­å¯èƒ½æ˜¯è¿™æ ·çš„ï¼šåœ¨æ»šåŠ¨è¿‡ç¨‹ä¸­ï¼Œæ¯éš”ä¸€æ®µæ—¶é—´å†å»è®¡ç®—è¿™ä¸ªåˆ¤æ–­é€»è¾‘ã€‚è€Œå‡½æ•°èŠ‚æµæ‰€åšçš„å·¥ä½œå°±æ˜¯æ¯éš”ä¸€æ®µæ—¶é—´å»æ‰§è¡Œä¸€æ¬¡åŸæœ¬éœ€è¦æ— æ—¶æ— åˆ»åœ°åœ¨æ‰§è¡Œçš„å‡½æ•°ï¼Œæ‰€ä»¥åœ¨æ»šåŠ¨äº‹ä»¶ä¸­å¼•å…¥å‡½æ•°çš„èŠ‚æµæ˜¯ä¸€ä¸ªéå¸¸å¥½çš„å®è·µã€‚</p>
<pre class="hljs"><code class="language-js">$(<span class="hljs-variable language_">window</span>).<span class="hljs-title function_">on</span>(
  <span class="hljs-string">&#x27;scroll&#x27;</span>,
  <span class="hljs-title function_">throttle</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
    <span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦æ»šåŠ¨åˆ°åº•éƒ¨çš„é€»è¾‘</span>
    <span class="hljs-keyword">let</span> pageHeight = $(<span class="hljs-string">&#x27;body&#x27;</span>).<span class="hljs-title function_">height</span>(),
      scrollTop = $(<span class="hljs-variable language_">window</span>).<span class="hljs-title function_">scrollTop</span>(),
      winHeight = $(<span class="hljs-variable language_">window</span>).<span class="hljs-title function_">height</span>(),
      thresold = pageHeight - scrollTop - winHeight;
    <span class="hljs-keyword">if</span> (thresold &gt; -<span class="hljs-number">100</span> &amp;&amp; thresold &lt;= <span class="hljs-number">20</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;end&#x27;</span>);
    }
  }, <span class="hljs-number">300</span>)
);
</code></pre>
<p>åŠ å…¥å‡½æ•°èŠ‚æµä¹‹åï¼Œå½“é¡µé¢å†æ»šåŠ¨çš„æ—¶å€™ï¼Œæ¯éš” 300ms æ‰ä¼šæ‰§è¡Œä¸€æ¬¡åˆ¤æ–­é€»è¾‘ã€‚</p>
<p>ç®€å•æ¥è¯´ï¼Œå‡½æ•°çš„èŠ‚æµå°±æ˜¯é€šè¿‡é—­åŒ…ä¿å­˜ä¸€ä¸ªæ ‡è®°ï¼ˆé€šå¸¸æ˜¯å®šæ—¶å™¨æ ‡è¯†ï¼‰ï¼Œåœ¨å‡½æ•°çš„å¼€å¤´åˆ¤æ–­è¿™ä¸ªæ ‡è®°æ˜¯å¦ä¸º <code>true</code> ï¼Œå¦‚æœä¸º <code>true</code> çš„è¯å°±ç»§ç»­æ‰§è¡Œå‡½æ•°ï¼Œå¦åˆ™åˆ™ <code>return</code> æ‰ï¼Œåˆ¤æ–­å®Œæ ‡è®°åç«‹å³æŠŠè¿™ä¸ªæ ‡è®°è®¾ä¸º <code>false</code> ï¼Œç„¶åæŠŠå¤–éƒ¨ä¼ å…¥çš„å‡½æ•°çš„æ‰§è¡ŒåŒ…åœ¨ä¸€ä¸ª <code>setTimeout</code> ä¸­ï¼Œæœ€ååœ¨ <code>setTimeout</code> æ‰§è¡Œå®Œæ¯•åå†æŠŠæ ‡è®°è®¾ç½®ä¸º <code>true</code> ï¼ˆè¿™é‡Œå¾ˆå…³é”®ï¼‰ï¼Œè¡¨ç¤ºå¯ä»¥æ‰§è¡Œä¸‹ä¸€æ¬¡çš„å¾ªç¯äº†ã€‚å½“ <code>setTimeout</code> è¿˜æœªæ‰§è¡Œçš„æ—¶å€™ï¼Œ<code>canRun</code> è¿™ä¸ªæ ‡è®°å§‹ç»ˆä¸º <code>false</code>ï¼Œåœ¨å¼€å¤´çš„åˆ¤æ–­ä¸­è¢« <code>return</code> æ‰ã€‚</p>
<pre class="hljs"><code class="language-js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">throttle</span>(<span class="hljs-params">fn, interval = <span class="hljs-number">300</span></span>) {
  <span class="hljs-keyword">let</span> canRun = <span class="hljs-literal">true</span>;
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
    <span class="hljs-keyword">if</span> (!canRun) <span class="hljs-keyword">return</span>;
    canRun = <span class="hljs-literal">false</span>;
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      fn.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">arguments</span>);
      canRun = <span class="hljs-literal">true</span>;
    }, interval);
  };
}
</code></pre>
<h2>å‚è€ƒèµ„æ–™</h2>
<ul>
<li><a href="http://demo.nimius.net/debounce_throttle/" target="_blank" rel="noopener noreferrer nofollow">ğŸ“ å‡½æ•°èŠ‚æµå’Œå‡½æ•°é˜²æŠ–çš„å¯è§†åŒ–åŒºåˆ«</a></li>
<li><a href="https://juejin.im/post/5a35ed25f265da431d3cc1b1" target="_blank" rel="noopener noreferrer nofollow">ğŸ“ è½»æ¾ç†è§£ JavaScript å‡½æ•°èŠ‚æµå’Œå‡½æ•°é˜²æŠ–</a></li>
</ul>
4:["$","div",null,{"className":"markdown-body","children":[["$","h1",null,{"children":"å‡½æ•°èŠ‚æµ"}],["$","article",null,{"dangerouslySetInnerHTML":{"__html":"$c"}}]]}]
a:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
8:[["$","meta","0",{"charSet":"utf-8"}],["$","title","1",{"children":"front-end"}],["$","meta","2",{"name":"description","content":"front-end knowledge"}],["$","link","3",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"16x16"}]]
6:null
