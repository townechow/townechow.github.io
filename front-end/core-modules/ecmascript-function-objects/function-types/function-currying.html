<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/569ce4b8f30dc480-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/93f479601ee12b01-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/d4dd73d504c89c58.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/485ff6fe79292a08.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/0ff121a467c0636f.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-53834dba86d90934.js"/><script src="/_next/static/chunks/4bd1b696-20882bf820444624.js" async=""></script><script src="/_next/static/chunks/517-98ed787e5f259f2c.js" async=""></script><script src="/_next/static/chunks/main-app-f33d3e3aed85e21f.js" async=""></script><meta name="next-size-adjust" content=""/><title>front-end</title><meta name="description" content="front-end knowledge"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__variable_4d318d __variable_ea5f4b antialiased"><main><div class="markdown-body"><article><h1>函数柯里化</h1>
<blockquote>
<p>在计算机科学中，柯里化（英语：Currying），又译为卡瑞化或加里化，是一种将使用多个参数的一个函数转换成一系列使用一个参数的函数的技术。</p>
</blockquote>
<p>柯里化（Currying），又称部分求值（Partial Evaluation），是把接受多个参数的函数变换成接受一个单一参数（最初函数的第一个参数）的函数，并且返回接受余下的参数而且返回结果的新函数的技术。核心思想是把多参数传入的函数拆成单参数（或部分）函数，内部再返回调用下一个单参数（或部分）函数，依次处理剩余的参数。</p>
<pre class="hljs"><code class="language-js"><span class="hljs-comment">// 传统写法</span>
<span class="hljs-title function_">fn</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>);

<span class="hljs-comment">// 柯里化</span>
<span class="hljs-title function_">fn</span>(<span class="hljs-number">1</span>)(<span class="hljs-number">2</span>)(<span class="hljs-number">3</span>)(<span class="hljs-number">4</span>);
</code></pre>
<p>假设这个函数是用于求和，那么就是把本来接收多个参数一次性求和的函数改成了接收单一参数逐个求和的函数。这样是不是容易理解了。</p>
<h2>代码实现</h2>
<p>一步步实现一个柯里化函数。</p>
<pre class="hljs"><code class="language-js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">sum3</span>(<span class="hljs-params">x, y, z</span>) {
  <span class="hljs-keyword">return</span> x + y + z
}
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">sum</span>(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>));
<span class="hljs-comment">// 6</span>
</code></pre>
<pre class="hljs"><code class="language-js"><span class="hljs-comment">// 柯里化</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">sum3</span>(<span class="hljs-params">x</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">y</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">z</span>) {
      <span class="hljs-keyword">return</span> x + y + z
    }
  }
}
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">sum</span>(<span class="hljs-number">1</span>)(<span class="hljs-number">2</span>)(<span class="hljs-number">3</span>));
<span class="hljs-comment">// 6</span>
</code></pre>
<pre class="hljs"><code class="language-js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">curry</span>(<span class="hljs-params">fn</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">y</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">z</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">fn</span>(x, y, z);
    };
  };
}
<span class="hljs-keyword">var</span> sum3 = <span class="hljs-title function_">curry</span>(<span class="hljs-function">(<span class="hljs-params">x, y, z</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> x + y + z;
});
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">sum3</span>(<span class="hljs-number">1</span>)(<span class="hljs-number">2</span>)(<span class="hljs-number">3</span>)); <span class="hljs-comment">// 6</span>
</code></pre>
<p>更多参数：</p>
<pre class="hljs"><code class="language-js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">curryN</span>(<span class="hljs-params">fn</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">a1</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">a2</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">a3</span>) {
        <span class="hljs-comment">//......</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">aN</span>) {
          <span class="hljs-keyword">return</span> <span class="hljs-title function_">fn</span>(a1, a2, a3, ...aN);
        };
      };
    };
  };
}
</code></pre>
<p>通过 &lt;strong style=&quot;color:red&quot;&gt;递归&lt;/strong&gt; 来简化这种写法：</p>
<pre class="hljs"><code class="language-js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">nest</span>(<span class="hljs-params">fn</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">x</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">nest</span>(fn);
  };
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">curry</span>(<span class="hljs-params">fn</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">nest</span>(fn);
}
</code></pre>
<p>这里缺少一个循环终止的判断，所以 <code>nest</code> 函数先引入一个新参数 <code>i</code>，当 <code>i === N</code> 时递归终止</p>
<pre class="hljs"><code class="language-js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">nest</span>(<span class="hljs-params">fn, i</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">x</span>) {
    <span class="hljs-keyword">if</span> (i === N) {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">fn</span>(...)
    }
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">nest</span>(fn, i + <span class="hljs-number">1</span>)
  }
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">curry</span>(<span class="hljs-params">fn</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">nest</span>(fn, <span class="hljs-number">1</span>)
}
</code></pre>
<p>接着，需要一个存放任意多个参数的数组，将这个数组命名为 <code>args</code>，然后传入 <code>nest</code> 函数。</p>
<pre class="hljs"><code class="language-js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">nest</span>(<span class="hljs-params">fn, i, args</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">x</span>) {
    args.<span class="hljs-title function_">push</span>(x);
    <span class="hljs-keyword">if</span> (i === fn.<span class="hljs-property">length</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">fn</span>(...args);
    }
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">nest</span>(fn, i + <span class="hljs-number">1</span>, args);
  };
}
<span class="hljs-keyword">function</span> <span class="hljs-title function_">curry</span>(<span class="hljs-params">fn</span>) {
  <span class="hljs-keyword">const</span> args = [];
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">nest</span>(fn, <span class="hljs-number">1</span>, args);
}
</code></pre>
<p>最后在添加一个处理 0 个参数的情况，我们就完成了最终版的柯里化函数。</p>
<pre class="hljs"><code class="language-js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">curry</span>(<span class="hljs-params">fn</span>) {
  <span class="hljs-keyword">if</span> (fn.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">return</span> fn;
  }
  <span class="hljs-keyword">const</span> args = [];
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">nest</span>(fn, <span class="hljs-number">1</span>, args);
}
</code></pre>
<h2>代码示例</h2>
<p><strong>示例一：实现一个柯里化求和函数</strong></p>
<pre class="hljs"><code class="language-js"><span class="hljs-keyword">const</span> currying = <span class="hljs-keyword">function</span> (<span class="hljs-params">fn, ...args</span>) {
  <span class="hljs-keyword">const</span> len = fn.<span class="hljs-property">length</span>;
  args = args || [];
  <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> totalArgs = [...args].<span class="hljs-title function_">concat</span>([...<span class="hljs-variable language_">arguments</span>]);

    <span class="hljs-keyword">return</span> totalArgs.<span class="hljs-property">length</span> &gt;= len ? fn.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, totalArgs) : currying.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, fn, totalArgs);
  };
};

<span class="hljs-keyword">const</span> <span class="hljs-title function_">sum</span> = (<span class="hljs-params">a, b, c</span>) =&gt; a + b + c;

<span class="hljs-keyword">const</span> newSum = <span class="hljs-title function_">currying</span>(sum);

<span class="hljs-title function_">newSum</span>(<span class="hljs-number">1</span>)(<span class="hljs-number">2</span>)(<span class="hljs-number">3</span>)(<span class="hljs-number">4</span>);
<span class="hljs-comment">// 10</span>
</code></pre>
<p>看起来挺巧妙，但是这种案例明摆着就像不从实际出发的面试题。</p>
<p><strong>示例二：查询数组中是否存在某值</strong></p>
<pre class="hljs"><code class="language-js"><span class="hljs-keyword">const</span> find = <span class="hljs-keyword">function</span> (<span class="hljs-params">arr, value</span>) {
  <span class="hljs-keyword">return</span> arr.<span class="hljs-title function_">indexOf</span>(value) !== -<span class="hljs-number">1</span>;
};
</code></pre>
<p>一个简单的函数用于查询数组中是否某个值，每次使用都需要这样调用。</p>
<pre class="hljs"><code class="language-js"><span class="hljs-title function_">find</span>(arr, <span class="hljs-number">1</span>);
<span class="hljs-title function_">find</span>(arr, <span class="hljs-number">2</span>);
</code></pre>
<p>既然 <code>arr</code> 是个固定参数，那么我们可以先保存一个接收过 <code>arr</code> 的函数，再用这个函数去处理变化的参数。</p>
<pre class="hljs"><code class="language-js"><span class="hljs-keyword">const</span> collection = [<span class="hljs-number">5</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>];
<span class="hljs-keyword">const</span> findInCollection = <span class="hljs-title function_">currying</span>(find)(collection);

<span class="hljs-title function_">findInCollection</span>(<span class="hljs-number">1</span>);
<span class="hljs-title function_">findInCollection</span>(<span class="hljs-number">2</span>);
</code></pre>
<p>函数柯里化的用途可以理解为：参数复用。本质上是降低通用性，提高适用性。</p>
<p><strong>柯里化简便实现</strong></p>
<pre class="hljs"><code class="language-js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">curry</span> = (<span class="hljs-params">fn</span>) =&gt;
  (judge = <span class="hljs-function">(<span class="hljs-params">...args</span>) =&gt;</span> (args.<span class="hljs-property">length</span> === fn.<span class="hljs-property">length</span> ? <span class="hljs-title function_">fn</span>(...args) : <span class="hljs-function">(<span class="hljs-params">arg</span>) =&gt;</span> <span class="hljs-title function_">judge</span>(...args, arg)));

<span class="hljs-comment">// 展开</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">currying</span> = (<span class="hljs-params">fn</span>) =&gt; {};
</code></pre>
<h2>反柯里化</h2>
<p>与柯里化相对应。</p>
<ul>
<li>柯里化是为了缩小适用范围，创建一个针对性更强的函数；</li>
<li>反柯里化则是扩大适用范围，创建一个应用范围更广的函数。</li>
</ul>
<p>对应的代码转换就变成这样。</p>
<pre class="hljs"><code class="language-js"><span class="hljs-title function_">fn</span>(<span class="hljs-number">1</span>)(<span class="hljs-number">2</span>)(<span class="hljs-number">3</span>)(<span class="hljs-number">4</span>)  -&gt;  <span class="hljs-title function_">fn</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>)
</code></pre>
<p>实例</p>
<pre class="hljs"><code class="language-js"><span class="hljs-title class_">Array</span>.<span class="hljs-property">forEach</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> fn = [].<span class="hljs-property">pop</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">arguments</span>);

  <span class="hljs-keyword">const</span> arr = <span class="hljs-variable language_">arguments</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">1</span> ? <span class="hljs-variable language_">arguments</span> : <span class="hljs-variable language_">arguments</span>[<span class="hljs-number">0</span>];

  <span class="hljs-keyword">return</span> [].<span class="hljs-property">forEach</span>.<span class="hljs-title function_">call</span>(arr, fn);
};

<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">i</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i);
  <span class="hljs-comment">// 1 2 3</span>
});

<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-string">&#x27;123&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">i</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i);
  <span class="hljs-comment">// 1 2 3</span>
});

<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">forEach</span>(
  {
    <span class="hljs-string">&#x27;0&#x27;</span>: <span class="hljs-number">1</span>,
    <span class="hljs-string">&#x27;1&#x27;</span>: <span class="hljs-number">2</span>,
    <span class="hljs-string">&#x27;2&#x27;</span>: <span class="hljs-number">3</span>,
    <span class="hljs-attr">length</span>: <span class="hljs-number">3</span>,
  },
  <span class="hljs-keyword">function</span> (<span class="hljs-params">i</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i);
    <span class="hljs-comment">// 1 2 3</span>
  }
);
</code></pre>
<p>类数组借用 Array 原型函数，是很常见的应用了。这个例子应用 <code>call</code> 函数提取出一个新的函数，可以接收更多的参数和类型，适用性更广。</p>
<h2>参考资料</h2>
<ul>
<li><a href="https://github.com/mqyqingfeng/Blog/issues/42" target="_blank" rel="noopener noreferrer nofollow">📝 JavaScript 专题之函数柯里化</a></li>
<li><a href="https://juejin.im/entry/5815876c8ac247004fb6d132" target="_blank" rel="noopener noreferrer nofollow">📝 JavaScript 高阶函数介绍</a></li>
<li><a href="https://juejin.cn/post/6844903665308794888" target="_blank" rel="noopener noreferrer nofollow">从一道面试题认识函数柯里化</a></li>
</ul>
</article></div></main><script src="/_next/static/chunks/webpack-53834dba86d90934.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[5244,[],\"\"]\n3:I[3866,[],\"\"]\n5:I[6213,[],\"OutletBoundary\"]\n7:I[6213,[],\"MetadataBoundary\"]\n9:I[6213,[],\"ViewportBoundary\"]\nb:I[4835,[],\"\"]\n:HL[\"/_next/static/media/569ce4b8f30dc480-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/93f479601ee12b01-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/d4dd73d504c89c58.css\",\"style\"]\n:HL[\"/_next/static/css/485ff6fe79292a08.css\",\"style\"]\n:HL[\"/_next/static/css/0ff121a467c0636f.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"1zJy3VHENUSg9vzcRvJ6P\",\"p\":\"\",\"c\":[\"\",\"front-end\",\"core-modules\",\"ecmascript-function-objects\",\"function-types\",\"function-currying\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"front-end\",{\"children\":[[\"slug\",\"core-modules/ecmascript-function-objects/function-types/function-currying\",\"oc\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/d4dd73d504c89c58.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"__variable_4d318d __variable_ea5f4b antialiased\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[],[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]]}],{\"children\":[\"front-end\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/485ff6fe79292a08.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/0ff121a467c0636f.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"main\",null,{\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"front-end\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}],{\"children\":[[\"slug\",\"core-modules/ecmascript-function-objects/function-types/function-currying\",\"oc\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"front-end\",\"children\",\"$0:f:0:1:2:children:2:children:0\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L4\",null,[\"$\",\"$L5\",null,{\"children\":\"$L6\"}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"EN3AdChkGDlOEEAPqHWTK\",{\"children\":[[\"$\",\"$L7\",null,{\"children\":\"$L8\"}],[\"$\",\"$L9\",null,{\"children\":\"$La\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$b\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"c:T4088,"])</script><script>self.__next_f.push([1,"\u003ch1\u003e函数柯里化\u003c/h1\u003e\n\u003cblockquote\u003e\n\u003cp\u003e在计算机科学中，柯里化（英语：Currying），又译为卡瑞化或加里化，是一种将使用多个参数的一个函数转换成一系列使用一个参数的函数的技术。\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e柯里化（Currying），又称部分求值（Partial Evaluation），是把接受多个参数的函数变换成接受一个单一参数（最初函数的第一个参数）的函数，并且返回接受余下的参数而且返回结果的新函数的技术。核心思想是把多参数传入的函数拆成单参数（或部分）函数，内部再返回调用下一个单参数（或部分）函数，依次处理剩余的参数。\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-comment\"\u003e// 传统写法\u003c/span\u003e\n\u003cspan class=\"hljs-title function_\"\u003efn\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e);\n\n\u003cspan class=\"hljs-comment\"\u003e// 柯里化\u003c/span\u003e\n\u003cspan class=\"hljs-title function_\"\u003efn\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e)(\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e)(\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e)(\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e假设这个函数是用于求和，那么就是把本来接收多个参数一次性求和的函数改成了接收单一参数逐个求和的函数。这样是不是容易理解了。\u003c/p\u003e\n\u003ch2\u003e代码实现\u003c/h2\u003e\n\u003cp\u003e一步步实现一个柯里化函数。\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003esum3\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ex, y, z\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e x + y + z\n}\n\u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-title function_\"\u003esum\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e,\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e));\n\u003cspan class=\"hljs-comment\"\u003e// 6\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-comment\"\u003e// 柯里化\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003esum3\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ex\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003ey\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003ez\u003c/span\u003e) {\n      \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e x + y + z\n    }\n  }\n}\n\u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-title function_\"\u003esum\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e)(\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e)(\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e));\n\u003cspan class=\"hljs-comment\"\u003e// 6\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ecurry\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003efn\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003ey\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003ez\u003c/span\u003e) {\n      \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003efn\u003c/span\u003e(x, y, z);\n    };\n  };\n}\n\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e sum3 = \u003cspan class=\"hljs-title function_\"\u003ecurry\u003c/span\u003e(\u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003ex, y, z\u003c/span\u003e) =\u0026gt;\u003c/span\u003e {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e x + y + z;\n});\n\u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-title function_\"\u003esum3\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e)(\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e)(\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e)); \u003cspan class=\"hljs-comment\"\u003e// 6\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e更多参数：\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ecurryN\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003efn\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003ea1\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003ea2\u003c/span\u003e) {\n      \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003ea3\u003c/span\u003e) {\n        \u003cspan class=\"hljs-comment\"\u003e//......\u003c/span\u003e\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003eaN\u003c/span\u003e) {\n          \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003efn\u003c/span\u003e(a1, a2, a3, ...aN);\n        };\n      };\n    };\n  };\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e通过 \u0026lt;strong style=\u0026quot;color:red\u0026quot;\u0026gt;递归\u0026lt;/strong\u0026gt; 来简化这种写法：\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003enest\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003efn\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003ex\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003enest\u003c/span\u003e(fn);\n  };\n}\n\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ecurry\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003efn\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003enest\u003c/span\u003e(fn);\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e这里缺少一个循环终止的判断，所以 \u003ccode\u003enest\u003c/code\u003e 函数先引入一个新参数 \u003ccode\u003ei\u003c/code\u003e，当 \u003ccode\u003ei === N\u003c/code\u003e 时递归终止\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003enest\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003efn, i\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003ex\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (i === N) {\n        \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003efn\u003c/span\u003e(...)\n    }\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003enest\u003c/span\u003e(fn, i + \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e)\n  }\n}\n\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ecurry\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003efn\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003enest\u003c/span\u003e(fn, \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e)\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e接着，需要一个存放任意多个参数的数组，将这个数组命名为 \u003ccode\u003eargs\u003c/code\u003e，然后传入 \u003ccode\u003enest\u003c/code\u003e 函数。\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003enest\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003efn, i, args\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003ex\u003c/span\u003e) {\n    args.\u003cspan class=\"hljs-title function_\"\u003epush\u003c/span\u003e(x);\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (i === fn.\u003cspan class=\"hljs-property\"\u003elength\u003c/span\u003e) {\n      \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003efn\u003c/span\u003e(...args);\n    }\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003enest\u003c/span\u003e(fn, i + \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e, args);\n  };\n}\n\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ecurry\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003efn\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e args = [];\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003enest\u003c/span\u003e(fn, \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e, args);\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e最后在添加一个处理 0 个参数的情况，我们就完成了最终版的柯里化函数。\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ecurry\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003efn\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (fn.\u003cspan class=\"hljs-property\"\u003elength\u003c/span\u003e === \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e fn;\n  }\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e args = [];\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003enest\u003c/span\u003e(fn, \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e, args);\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003e代码示例\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003e示例一：实现一个柯里化求和函数\u003c/strong\u003e\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e currying = \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003efn, ...args\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e len = fn.\u003cspan class=\"hljs-property\"\u003elength\u003c/span\u003e;\n  args = args || [];\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-function\"\u003e() =\u0026gt;\u003c/span\u003e {\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e totalArgs = [...args].\u003cspan class=\"hljs-title function_\"\u003econcat\u003c/span\u003e([...\u003cspan class=\"hljs-variable language_\"\u003earguments\u003c/span\u003e]);\n\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e totalArgs.\u003cspan class=\"hljs-property\"\u003elength\u003c/span\u003e \u0026gt;= len ? fn.\u003cspan class=\"hljs-title function_\"\u003ecall\u003c/span\u003e(\u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e, totalArgs) : currying.\u003cspan class=\"hljs-title function_\"\u003ecall\u003c/span\u003e(\u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e, fn, totalArgs);\n  };\n};\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003esum\u003c/span\u003e = (\u003cspan class=\"hljs-params\"\u003ea, b, c\u003c/span\u003e) =\u0026gt; a + b + c;\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e newSum = \u003cspan class=\"hljs-title function_\"\u003ecurrying\u003c/span\u003e(sum);\n\n\u003cspan class=\"hljs-title function_\"\u003enewSum\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e)(\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e)(\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e)(\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e);\n\u003cspan class=\"hljs-comment\"\u003e// 10\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e看起来挺巧妙，但是这种案例明摆着就像不从实际出发的面试题。\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e示例二：查询数组中是否存在某值\u003c/strong\u003e\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e find = \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003earr, value\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e arr.\u003cspan class=\"hljs-title function_\"\u003eindexOf\u003c/span\u003e(value) !== -\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e;\n};\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e一个简单的函数用于查询数组中是否某个值，每次使用都需要这样调用。\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-title function_\"\u003efind\u003c/span\u003e(arr, \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e);\n\u003cspan class=\"hljs-title function_\"\u003efind\u003c/span\u003e(arr, \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e既然 \u003ccode\u003earr\u003c/code\u003e 是个固定参数，那么我们可以先保存一个接收过 \u003ccode\u003earr\u003c/code\u003e 的函数，再用这个函数去处理变化的参数。\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e collection = [\u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e];\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e findInCollection = \u003cspan class=\"hljs-title function_\"\u003ecurrying\u003c/span\u003e(find)(collection);\n\n\u003cspan class=\"hljs-title function_\"\u003efindInCollection\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e);\n\u003cspan class=\"hljs-title function_\"\u003efindInCollection\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e函数柯里化的用途可以理解为：参数复用。本质上是降低通用性，提高适用性。\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003e柯里化简便实现\u003c/strong\u003e\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ecurry\u003c/span\u003e = (\u003cspan class=\"hljs-params\"\u003efn\u003c/span\u003e) =\u0026gt;\n  (judge = \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003e...args\u003c/span\u003e) =\u0026gt;\u003c/span\u003e (args.\u003cspan class=\"hljs-property\"\u003elength\u003c/span\u003e === fn.\u003cspan class=\"hljs-property\"\u003elength\u003c/span\u003e ? \u003cspan class=\"hljs-title function_\"\u003efn\u003c/span\u003e(...args) : \u003cspan class=\"hljs-function\"\u003e(\u003cspan class=\"hljs-params\"\u003earg\u003c/span\u003e) =\u0026gt;\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ejudge\u003c/span\u003e(...args, arg)));\n\n\u003cspan class=\"hljs-comment\"\u003e// 展开\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003ecurrying\u003c/span\u003e = (\u003cspan class=\"hljs-params\"\u003efn\u003c/span\u003e) =\u0026gt; {};\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003e反柯里化\u003c/h2\u003e\n\u003cp\u003e与柯里化相对应。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e柯里化是为了缩小适用范围，创建一个针对性更强的函数；\u003c/li\u003e\n\u003cli\u003e反柯里化则是扩大适用范围，创建一个应用范围更广的函数。\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e对应的代码转换就变成这样。\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-title function_\"\u003efn\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e)(\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e)(\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e)(\u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e)  -\u0026gt;  \u003cspan class=\"hljs-title function_\"\u003efn\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e实例\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-title class_\"\u003eArray\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eforEach\u003c/span\u003e = \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e fn = [].\u003cspan class=\"hljs-property\"\u003epop\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ecall\u003c/span\u003e(\u003cspan class=\"hljs-variable language_\"\u003earguments\u003c/span\u003e);\n\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e arr = \u003cspan class=\"hljs-variable language_\"\u003earguments\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003elength\u003c/span\u003e \u0026gt; \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e ? \u003cspan class=\"hljs-variable language_\"\u003earguments\u003c/span\u003e : \u003cspan class=\"hljs-variable language_\"\u003earguments\u003c/span\u003e[\u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e];\n\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e [].\u003cspan class=\"hljs-property\"\u003eforEach\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ecall\u003c/span\u003e(arr, fn);\n};\n\n\u003cspan class=\"hljs-title class_\"\u003eArray\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eforEach\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003ei\u003c/span\u003e) {\n  \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(i);\n  \u003cspan class=\"hljs-comment\"\u003e// 1 2 3\u003c/span\u003e\n});\n\n\u003cspan class=\"hljs-title class_\"\u003eArray\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eforEach\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;123\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003ei\u003c/span\u003e) {\n  \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(i);\n  \u003cspan class=\"hljs-comment\"\u003e// 1 2 3\u003c/span\u003e\n});\n\n\u003cspan class=\"hljs-title class_\"\u003eArray\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eforEach\u003c/span\u003e(\n  {\n    \u003cspan class=\"hljs-string\"\u003e\u0026#x27;0\u0026#x27;\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\u0026#x27;1\u0026#x27;\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e,\n    \u003cspan class=\"hljs-string\"\u003e\u0026#x27;2\u0026#x27;\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e,\n    \u003cspan class=\"hljs-attr\"\u003elength\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e,\n  },\n  \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003ei\u003c/span\u003e) {\n    \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(i);\n    \u003cspan class=\"hljs-comment\"\u003e// 1 2 3\u003c/span\u003e\n  }\n);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e类数组借用 Array 原型函数，是很常见的应用了。这个例子应用 \u003ccode\u003ecall\u003c/code\u003e 函数提取出一个新的函数，可以接收更多的参数和类型，适用性更广。\u003c/p\u003e\n\u003ch2\u003e参考资料\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/mqyqingfeng/Blog/issues/42\" target=\"_blank\" rel=\"noopener noreferrer nofollow\"\u003e📝 JavaScript 专题之函数柯里化\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://juejin.im/entry/5815876c8ac247004fb6d132\" target=\"_blank\" rel=\"noopener noreferrer nofollow\"\u003e📝 JavaScript 高阶函数介绍\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://juejin.cn/post/6844903665308794888\" target=\"_blank\" rel=\"noopener noreferrer nofollow\"\u003e从一道面试题认识函数柯里化\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n"])</script><script>self.__next_f.push([1,"4:[\"$\",\"div\",null,{\"className\":\"markdown-body\",\"children\":[\"$\",\"article\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$c\"}}]}]\n"])</script><script>self.__next_f.push([1,"a:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n8:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"front-end\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"front-end knowledge\"}],[\"$\",\"link\",\"3\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}]]\n"])</script><script>self.__next_f.push([1,"6:null\n"])</script></body></html>