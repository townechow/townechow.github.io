<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/569ce4b8f30dc480-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/93f479601ee12b01-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/ec0a9d078e716e00.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/485ff6fe79292a08.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/0ff121a467c0636f.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-53834dba86d90934.js"/><script src="/_next/static/chunks/4bd1b696-20882bf820444624.js" async=""></script><script src="/_next/static/chunks/517-98ed787e5f259f2c.js" async=""></script><script src="/_next/static/chunks/main-app-f33d3e3aed85e21f.js" async=""></script><meta name="next-size-adjust" content=""/><title>front-end</title><meta name="description" content="front-end knowledge"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__variable_4d318d __variable_ea5f4b antialiased"><main><div class="markdown-body"><article><h1>é«˜é˜¶å‡½æ•°</h1>
<p><strong>é«˜é˜¶å‡½æ•°</strong> æŒ‡æ“ä½œå‡½æ•°çš„å‡½æ•°ï¼Œä¸€èˆ¬åœ°ï¼Œæœ‰ä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š</p>
<ol>
<li>å‡½æ•°å¯ä»¥ä½œä¸ºå‚æ•°è¢«ä¼ é€’</li>
<li>å‡½æ•°å¯ä»¥ä½œä¸ºè¿”å›å€¼è¾“å‡º</li>
</ol>
<p>JavaScript ä¸­çš„å‡½æ•°æ˜¾ç„¶æ»¡è¶³é«˜é˜¶å‡½æ•°çš„æ¡ä»¶ï¼Œåœ¨å®é™…å¼€å‘ä¸­ï¼Œæ— è®ºæ˜¯å°†å‡½æ•°å½“ä½œå‚æ•°ä¼ é€’ï¼Œè¿˜æ˜¯è®©å‡½æ•°çš„æ‰§è¡Œç»“æœè¿”å›å¦å¤–ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸¤ç§æƒ…å½¢éƒ½æœ‰å¾ˆå¤šåº”ç”¨åœºæ™¯ã€‚</p>
<h2>ä½œä¸ºå‚æ•°ä¼ é€’</h2>
<p>æŠŠå‡½æ•°å½“ä½œå‚æ•°ä¼ é€’ï¼Œä»£è¡¨å¯ä»¥æŠ½ç¦»å‡ºä¸€éƒ¨åˆ†å®¹æ˜“å˜åŒ–çš„ä¸šåŠ¡é€»è¾‘ï¼ŒæŠŠè¿™éƒ¨åˆ†ä¸šåŠ¡é€»è¾‘æ”¾åœ¨å‡½æ•°å‚æ•°ä¸­ï¼Œè¿™æ ·ä¸€æ¥å¯ä»¥åˆ†ç¦»ä¸šåŠ¡ä»£ç ä¸­å˜åŒ–ä¸ä¸å˜çš„éƒ¨åˆ†ã€‚</p>
<h3>å›è°ƒå‡½æ•°</h3>
<p>å…¶ä¸­ä¸€ä¸ªå¸¸è§çš„åº”ç”¨åœºæ™¯å°±æ˜¯å›è°ƒå‡½æ•°ã€‚</p>
<ul>
<li>åœ¨ AJAX å¼‚æ­¥è¯·æ±‚çš„è¿‡ç¨‹ä¸­ï¼Œå›è°ƒå‡½æ•°ä½¿ç”¨å¾—éå¸¸é¢‘ç¹</li>
<li>åœ¨ä¸ç¡®å®šè¯·æ±‚è¿”å›çš„æ—¶é—´æ—¶ï¼Œå°† <code>callback</code> å›è°ƒå‡½æ•°å½“ä½œå‚æ•°ä¼ å…¥</li>
<li>å¾…è¯·æ±‚å®Œæˆåæ‰§è¡Œ <code>callback</code> å‡½æ•°</li>
</ul>
<p>ğŸŒ° <strong>ä»£ç ç¤ºä¾‹</strong></p>
<pre class="hljs"><code class="language-js"><span class="hljs-keyword">const</span> getUserInfo = <span class="hljs-keyword">function</span> (<span class="hljs-params">userId, callback</span>) {
  $.<span class="hljs-title function_">ajax</span>(<span class="hljs-string">&#x27;http://example.com/getUserInfo?&#x27;</span> + userId, <span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> callback === <span class="hljs-string">&#x27;function&#x27;</span>) {
      <span class="hljs-title function_">callback</span>(data);
    }
  });
};

<span class="hljs-title function_">getUserInfo</span>(<span class="hljs-number">123</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data.<span class="hljs-property">userName</span>);
});
</code></pre>
<p>å›è°ƒå‡½æ•°çš„åº”ç”¨ä¸ä»…åªåœ¨å¼‚æ­¥è¯·æ±‚ä¸­ï¼Œå½“ä¸€ä¸ªå‡½æ•°ä¸é€‚åˆæ‰§è¡Œä¸€äº›è¯·æ±‚æ—¶ï¼Œä¹Ÿå¯ä»¥æŠŠè¿™äº›è¯·æ±‚å°è£…æˆä¸€ä¸ªå‡½æ•°ï¼Œå¹¶æŠŠå®ƒä½œä¸ºå‚æ•°ä¼ é€’ç»™å¦å¤–ä¸€ä¸ªå‡½æ•°ï¼Œ<strong>å§”æ‰˜</strong> ç»™å¦å¤–ä¸€ä¸ªå‡½æ•°æ¥æ‰§è¡Œã€‚</p>
<p>æ¯”å¦‚ï¼Œæƒ³åœ¨é¡µé¢ä¸­åˆ›å»º 100 ä¸ª <code>div</code> èŠ‚ç‚¹ï¼Œç„¶åæŠŠè¿™äº› <code>div</code> èŠ‚ç‚¹éƒ½è®¾ç½®ä¸ºéšè—ã€‚</p>
<pre class="hljs"><code class="language-js"><span class="hljs-keyword">const</span> appendDiv = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {
    <span class="hljs-keyword">const</span> div = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;div&#x27;</span>);
    div.<span class="hljs-property">innerHTML</span> = i;
    <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(div);
    div.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">&#x27;none&#x27;</span>;
  }
};
<span class="hljs-title function_">appendDiv</span>();
</code></pre>
<p>æŠŠ <code>div.style.display = 'none'</code> çš„é€»è¾‘ç¡¬ç¼–ç åœ¨ <code>appendDiv</code> é‡Œæ˜¾ç„¶æ˜¯ä¸åˆç†çš„ï¼Œ<code>appendDiv</code> æœªå…æœ‰ç‚¹ä¸ªæ€§åŒ–ï¼Œæˆä¸ºäº†ä¸€ä¸ªéš¾ä»¥å¤ç”¨çš„å‡½æ•°ï¼Œå¹¶ä¸æ˜¯æ¯ä¸ªäººåˆ›å»ºäº†èŠ‚ç‚¹ä¹‹åå°±å¸Œæœ›å®ƒä»¬ç«‹åˆ»è¢«éšè—ã€‚</p>
<p>äºæ˜¯æŠŠ <code>div.style.display = 'none'</code> è¿™è¡Œä»£ç æŠ½å‡ºæ¥ï¼Œç”¨å›è°ƒå‡½æ•°çš„å½¢å¼ä¼ å…¥ <code>appendDiv</code> æ–¹æ³•</p>
<pre class="hljs"><code class="language-js"><span class="hljs-keyword">const</span> appendDiv = <span class="hljs-keyword">function</span> (<span class="hljs-params">callback</span>) {
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {
    <span class="hljs-keyword">const</span> div = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;div&#x27;</span>);
    div.<span class="hljs-property">innerHTML</span> = i;
    <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(div);
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> callback === <span class="hljs-string">&#x27;function&#x27;</span>) {
      <span class="hljs-title function_">callback</span>(div);
    }
  }
};

<span class="hljs-title function_">appendDiv</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">node</span>) {
  node.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">&#x27;none&#x27;</span>;
});
</code></pre>
<p>å¯ä»¥çœ‹åˆ°ï¼Œéšè—èŠ‚ç‚¹çš„è¯·æ±‚å®é™…ä¸Šæ˜¯ç”±å®¢æˆ·å‘èµ·çš„ï¼Œä½†æ˜¯å®¢æˆ·å¹¶ä¸çŸ¥é“èŠ‚ç‚¹ä»€ä¹ˆæ—¶å€™ä¼šåˆ›å»ºå¥½ï¼Œäºæ˜¯æŠŠéšè—èŠ‚ç‚¹çš„é€»è¾‘æ”¾åœ¨å›è°ƒå‡½æ•°ä¸­ï¼Œ<strong>å§”æ‰˜</strong> ç»™ <code>appendDiv</code> æ–¹æ³•ã€‚<code>appendDiv</code> æ–¹æ³•å½“ç„¶çŸ¥é“èŠ‚ç‚¹ä»€ä¹ˆæ—¶å€™åˆ›å»ºå¥½ï¼Œæ‰€ä»¥åœ¨èŠ‚ç‚¹åˆ›å»ºå¥½çš„æ—¶å€™ï¼Œ<code>appendDiv</code> ä¼šæ‰§è¡Œä¹‹å‰å®¢æˆ·ä¼ å…¥çš„å›è°ƒå‡½æ•°ã€‚</p>
<h3>æ•°ç»„æ’åº</h3>
<p>å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’çš„å¦ä¸€ä¸ªå¸¸è§åœºæ™¯æ˜¯æ•°ç»„æ’åºå‡½æ•° <code>sort()</code>ã€‚<code>Array.prototype.sort</code> æ¥å—ä¸€ä¸ªå‡½æ•°å½“ä½œå‚æ•°ï¼Œè¿™ä¸ªå‡½æ•°é‡Œé¢å°è£…äº†æ•°ç»„å…ƒç´ çš„æ’åºæ–¹æ³•ã€‚ç›®çš„æ˜¯å¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œè¿™æ˜¯ä¸å˜çš„éƒ¨åˆ†ï¼›è€Œä½¿ç”¨ä»€ä¹ˆè§„åˆ™å»æ’åºï¼Œåˆ™æ˜¯å¯å˜çš„éƒ¨åˆ†ã€‚æŠŠå¯å˜çš„éƒ¨åˆ†å°è£…åœ¨å‡½æ•°å‚æ•°é‡Œï¼ŒåŠ¨æ€ä¼ å…¥ <code>Array.prototype.sort</code>ï¼Œä½¿ <code>Array.prototype.sort</code> æ–¹æ³•æˆä¸ºäº†ä¸€ä¸ªéå¸¸çµæ´»çš„æ–¹æ³•ã€‚</p>
<pre class="hljs"><code class="language-js"><span class="hljs-comment">// ä»å°åˆ°å¤§æ’åˆ—ï¼Œè¾“å‡º: [ 1, 3, 4 ]</span>
[<span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>].<span class="hljs-title function_">sort</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">a, b</span>) {
  <span class="hljs-keyword">return</span> a - b;
});

<span class="hljs-comment">// ä»å¤§åˆ°å°æ’åˆ—ï¼Œè¾“å‡º: [ 4, 3, 1 ]</span>
[<span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>].<span class="hljs-title function_">sort</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">a, b</span>) {
  <span class="hljs-keyword">return</span> b - a;
});
</code></pre>
<h2>ä½œä¸ºè¿”å›å€¼è¾“å‡º</h2>
<p>ç›¸æ¯”æŠŠå‡½æ•°å½“ä½œå‚æ•°ä¼ é€’ï¼Œå‡½æ•°å½“ä½œè¿”å›å€¼è¾“å‡ºçš„åº”ç”¨åœºæ™¯ä¹Ÿæœ‰å¾ˆå¤šã€‚è®©å‡½æ•°ç»§ç»­è¿”å›ä¸€ä¸ªå¯æ‰§è¡Œçš„å‡½æ•°ï¼Œæ„å‘³ç€è¿ç®—è¿‡ç¨‹æ˜¯å¯å»¶ç»­çš„ã€‚</p>
<p>ä¸‹é¢æ˜¯ä½¿ç”¨ <code>Object.prototype.toString</code> æ–¹æ³•åˆ¤æ–­æ•°æ®ç±»å‹çš„ä¸€ç³»åˆ—çš„ <code>isType</code> å‡½æ•°</p>
<pre class="hljs"><code class="language-js"><span class="hljs-keyword">let</span> isString = <span class="hljs-keyword">function</span> (<span class="hljs-params">obj</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(obj) === <span class="hljs-string">&#x27;[object String]&#x27;</span>;
};

<span class="hljs-keyword">let</span> isArray = <span class="hljs-keyword">function</span> (<span class="hljs-params">obj</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(obj) === <span class="hljs-string">&#x27;[object Array]&#x27;</span>;
};

<span class="hljs-keyword">let</span> isNumber = <span class="hljs-keyword">function</span> (<span class="hljs-params">obj</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(obj) === <span class="hljs-string">&#x27;[object Number]&#x27;</span>;
};
</code></pre>
<p>å®é™…ä¸Šï¼Œè¿™äº›å‡½æ•°çš„å¤§éƒ¨åˆ†å®ç°éƒ½æ˜¯ç›¸åŒçš„ï¼Œä¸åŒçš„åªæ˜¯ <code>Object.prototype.toString.call(obj)</code> è¿”å›çš„å­—ç¬¦ä¸²ã€‚ä¸ºäº†é¿å…å¤šä½™çš„ä»£ç ï¼Œå¯ä»¥æŠŠè¿™äº›å­—ç¬¦ä¸²ä½œä¸ºå‚æ•°æå‰ä¼ å…¥ <code>isType</code> å‡½æ•°ã€‚</p>
<pre class="hljs"><code class="language-js"><span class="hljs-keyword">let</span> isType = <span class="hljs-keyword">function</span> (<span class="hljs-params">type</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">obj</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(obj) === <span class="hljs-string">&#x27;[object &#x27;</span> + type + <span class="hljs-string">&#x27;]&#x27;</span>;
  };
};

<span class="hljs-keyword">const</span> isString = <span class="hljs-title function_">isType</span>(<span class="hljs-string">&#x27;String&#x27;</span>);
<span class="hljs-keyword">const</span> isArray = <span class="hljs-title function_">isType</span>(<span class="hljs-string">&#x27;Array&#x27;</span>);
<span class="hljs-keyword">const</span> isNumber = <span class="hljs-title function_">isType</span>(<span class="hljs-string">&#x27;Number&#x27;</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">isArray</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]));
<span class="hljs-comment">// true</span>
</code></pre>
<p>å…¶å®ä¸Šé¢å®ç°çš„ isType å‡½æ•°ï¼Œä¹Ÿå±äº<strong>åå‡½æ•°</strong>çš„èŒƒç•´ï¼Œåå‡½æ•°å®é™…ä¸Šæ˜¯è¿”å›äº†ä¸€ä¸ªåŒ…å«<strong>é¢„å¤„ç†å‚æ•°</strong>çš„æ–°å‡½æ•°ï¼Œä»¥ä¾¿åç»­é€»è¾‘å¯ä»¥è°ƒç”¨ã€‚</p>
<p>å½“ç„¶ï¼Œè¿˜å¯ä»¥ç”¨å¾ªç¯è¯­å¥ï¼Œæ¥æ‰¹é‡æ³¨å†Œè¿™äº› <code>isType</code> å‡½æ•°ï¼š</p>
<pre class="hljs"><code class="language-js"><span class="hljs-keyword">let</span> <span class="hljs-title class_">Type</span> = {};
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, type; (type = [<span class="hljs-string">&#x27;String&#x27;</span>, <span class="hljs-string">&#x27;Array&#x27;</span>, <span class="hljs-string">&#x27;Number&#x27;</span>][i++]); ) {
  (<span class="hljs-keyword">function</span> (<span class="hljs-params">type</span>) {
    <span class="hljs-title class_">Type</span>[<span class="hljs-string">&#x27;is&#x27;</span> + type] = <span class="hljs-keyword">function</span> (<span class="hljs-params">obj</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(obj) === <span class="hljs-string">&#x27;[object &#x27;</span> + type + <span class="hljs-string">&#x27;]&#x27;</span>;
    };
  })(type);
}

<span class="hljs-title class_">Type</span>.<span class="hljs-title function_">isArray</span>([]);
<span class="hljs-comment">// true</span>
<span class="hljs-title class_">Type</span>.<span class="hljs-title function_">isString</span>(<span class="hljs-string">&#x27;str&#x27;</span>);
<span class="hljs-comment">// true</span>
</code></pre>
<h2>AOP é¢å‘åˆ‡é¢ç¼–ç¨‹</h2>
<p>AOP å³é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨æ˜¯ <strong>æŠŠä¸€äº›è·Ÿæ ¸å¿ƒä¸šåŠ¡é€»è¾‘æ¨¡å—æ— å…³çš„åŠŸèƒ½æŠ½ç¦»å‡ºæ¥</strong>ï¼Œè¿™äº›è·Ÿä¸šåŠ¡é€»è¾‘æ— å…³çš„åŠŸèƒ½é€šå¸¸åŒ…æ‹¬æ—¥å¿—ç»Ÿè®¡ã€å®‰å…¨æ§åˆ¶ã€å¼‚å¸¸å¤„ç†ç­‰ã€‚æŠŠè¿™äº›åŠŸèƒ½æŠ½ç¦»å‡ºæ¥ä¹‹åï¼Œå†é€šè¿‡ <strong>åŠ¨æ€ç»‡å…¥</strong> çš„æ–¹å¼æºå…¥ä¸šåŠ¡é€»è¾‘æ¨¡å—ä¸­ã€‚è¿™æ ·åšçš„å¥½å¤„é¦–å…ˆæ˜¯å¯ä»¥ä¿æŒä¸šåŠ¡é€»è¾‘æ¨¡å—çš„çº¯å‡€å’Œé«˜å†…èšæ€§ï¼Œå…¶æ¬¡æ˜¯å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å¤ç”¨æ—¥å¿—ç»Ÿè®¡ç­‰åŠŸèƒ½æ¨¡å—ã€‚</p>
<p>é€šå¸¸ï¼Œåœ¨ JavaScript ä¸­å®ç° AOPï¼Œéƒ½æ˜¯æŒ‡æŠŠä¸€ä¸ªå‡½æ•° <strong>åŠ¨æ€ç»‡å…¥</strong> åˆ°å¦å¤–ä¸€ä¸ªå‡½æ•°ä¹‹ä¸­ã€‚ä¸‹é¢é€šè¿‡æ‰©å±• <code>Function.prototype</code> æ¥å®ç°</p>
<pre class="hljs"><code class="language-js"><span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">before</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">beforefn</span>) {
  <span class="hljs-comment">// ä¿å­˜åŸå‡½æ•°çš„å¼•ç”¨</span>
  <span class="hljs-keyword">const</span> _this = <span class="hljs-variable language_">this</span>;

  <span class="hljs-comment">// è¿”å›åŒ…å«äº†åŸå‡½æ•°å’Œæ–°å‡½æ•°çš„ &quot;ä»£ç†&quot; å‡½æ•°</span>
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
    <span class="hljs-comment">// å…ˆæ‰§è¡Œæ–°å‡½æ•°ï¼Œä¿®æ­£ this</span>
    beforefn.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-variable language_">arguments</span>);

    <span class="hljs-comment">// å†æ‰§è¡ŒåŸå‡½æ•°</span>
    <span class="hljs-keyword">return</span> _this.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-variable language_">arguments</span>);
  };
};

<span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">after</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">afterfn</span>) {
  <span class="hljs-keyword">const</span> _this = <span class="hljs-variable language_">this</span>;

  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
    <span class="hljs-comment">// å…ˆæ‰§è¡ŒåŸå‡½æ•°</span>
    <span class="hljs-keyword">const</span> result = _this.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-variable language_">arguments</span>);

    <span class="hljs-comment">// å†æ‰§è¡Œæ–°å‡½æ•°</span>
    afterfn.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, <span class="hljs-variable language_">arguments</span>);

    <span class="hljs-keyword">return</span> result;
  };
};

<span class="hljs-keyword">const</span> fn = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">2</span>);
};

fn = fn
  .<span class="hljs-title function_">before</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">1</span>);
  })
  .<span class="hljs-title function_">after</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">3</span>);
  });

<span class="hljs-title function_">fn</span>();
<span class="hljs-comment">// 1 2 3</span>
</code></pre>
<p>æŠŠè´Ÿè´£è¾“å‡ºæ•°å­— 1 å’Œè¾“å‡ºæ•°å­— 3 çš„ä¸¤ä¸ªå‡½æ•°é€šè¿‡ AOP çš„æ–¹å¼åŠ¨æ€æ¤å…¥ <code>fn</code> å‡½æ•°ã€‚</p>
<p>é€šè¿‡æ‰§è¡Œä¸Šé¢çš„ä»£ç ï¼Œæ§åˆ¶å°é¡ºåˆ©åœ°è¿”å›äº†æ‰§è¡Œç»“æœ 1ã€2ã€3ã€‚</p>
<pre class="hljs"><code class="language-js"><span class="hljs-keyword">const</span> service = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;åŠŸèƒ½é€»è¾‘&#x27;</span>);
};

<span class="hljs-keyword">const</span> proxyMethod = (<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
  <span class="hljs-keyword">let</span> startTime;

  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">before</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
      startTime = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();

      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;è®¡æ—¶å¼€å§‹&#x27;</span>);
    },
    <span class="hljs-attr">after</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
      <span class="hljs-keyword">const</span> endTime = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>() - startTime;

      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;è®¡æ—¶ç»“æŸï¼Œç”¨æ—¶ï¼š&#x27;</span> + endTime);
    },
  };
})();

<span class="hljs-keyword">const</span> aop = <span class="hljs-keyword">function</span> (<span class="hljs-params">fn, proxy</span>) {
  proxy.<span class="hljs-property">before</span> &amp;&amp; proxy.<span class="hljs-title function_">before</span>();

  <span class="hljs-title function_">fn</span>();

  proxy.<span class="hljs-property">after</span> &amp;&amp; proxy.<span class="hljs-title function_">after</span>();
};

<span class="hljs-title function_">aop</span>(service, proxyMethod);
<span class="hljs-comment">// è®¡æ—¶å¼€å§‹</span>
<span class="hljs-comment">// åŠŸèƒ½é€»è¾‘</span>
<span class="hljs-comment">// è®¡æ—¶ç»“æŸï¼š1</span>
</code></pre>
<h2>å…¶ä»–åº”ç”¨</h2>
<ul>
<li><a href="/front-end/core-modules/ecmascript-function-objects/function-types/function-currying">å‡½æ•°æŸ¯é‡ŒåŒ–</a></li>
<li><a href="/front-end/core-modules/ecmascript-function-objects/function-types/function-currying#%E5%8F%8D%E6%9F%AF%E9%87%8C%E5%8C%96">åæŸ¯é‡ŒåŒ–</a></li>
<li><a href="/front-end/core-modules/ecmascript-function-objects/function-types/throttle">å‡½æ•°èŠ‚æµ</a></li>
<li><a href="/front-end/core-modules/ecmascript-function-objects/function-types/debounce">å‡½æ•°é˜²æŠ–</a></li>
</ul>
<hr>
<p><strong>å‚è€ƒèµ„æ–™ï¼š</strong></p>
<ul>
<li><a href="https://juejin.im/entry/5815876c8ac247004fb6d132" target="_blank" rel="noopener noreferrer nofollow">ğŸ“ é«˜é˜¶å‡½æ•°ä»‹ç»</a></li>
</ul>
</article></div></main><script src="/_next/static/chunks/webpack-53834dba86d90934.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[5244,[],\"\"]\n3:I[3866,[],\"\"]\n5:I[6213,[],\"OutletBoundary\"]\n7:I[6213,[],\"MetadataBoundary\"]\n9:I[6213,[],\"ViewportBoundary\"]\nb:I[4835,[],\"\"]\n:HL[\"/_next/static/media/569ce4b8f30dc480-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/93f479601ee12b01-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/ec0a9d078e716e00.css\",\"style\"]\n:HL[\"/_next/static/css/485ff6fe79292a08.css\",\"style\"]\n:HL[\"/_next/static/css/0ff121a467c0636f.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"NW9bMA21iAaih0TqCHqj1\",\"p\":\"\",\"c\":[\"\",\"front-end\",\"core-modules\",\"ecmascript-function-objects\",\"function-types\",\"hight-order-function\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"front-end\",{\"children\":[[\"slug\",\"core-modules/ecmascript-function-objects/function-types/hight-order-function\",\"oc\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/ec0a9d078e716e00.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"__variable_4d318d __variable_ea5f4b antialiased\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[],[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]]}],{\"children\":[\"front-end\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/485ff6fe79292a08.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/0ff121a467c0636f.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"main\",null,{\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"front-end\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}],{\"children\":[[\"slug\",\"core-modules/ecmascript-function-objects/function-types/hight-order-function\",\"oc\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"front-end\",\"children\",\"$0:f:0:1:2:children:2:children:0\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L4\",null,[\"$\",\"$L5\",null,{\"children\":\"$L6\"}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"in68fq_P-0dDZvm7A59pC\",{\"children\":[[\"$\",\"$L7\",null,{\"children\":\"$L8\"}],[\"$\",\"$L9\",null,{\"children\":\"$La\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$b\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"c:T4b4b,"])</script><script>self.__next_f.push([1,"\u003ch1\u003eé«˜é˜¶å‡½æ•°\u003c/h1\u003e\n\u003cp\u003e\u003cstrong\u003eé«˜é˜¶å‡½æ•°\u003c/strong\u003e æŒ‡æ“ä½œå‡½æ•°çš„å‡½æ•°ï¼Œä¸€èˆ¬åœ°ï¼Œæœ‰ä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eå‡½æ•°å¯ä»¥ä½œä¸ºå‚æ•°è¢«ä¼ é€’\u003c/li\u003e\n\u003cli\u003eå‡½æ•°å¯ä»¥ä½œä¸ºè¿”å›å€¼è¾“å‡º\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eJavaScript ä¸­çš„å‡½æ•°æ˜¾ç„¶æ»¡è¶³é«˜é˜¶å‡½æ•°çš„æ¡ä»¶ï¼Œåœ¨å®é™…å¼€å‘ä¸­ï¼Œæ— è®ºæ˜¯å°†å‡½æ•°å½“ä½œå‚æ•°ä¼ é€’ï¼Œè¿˜æ˜¯è®©å‡½æ•°çš„æ‰§è¡Œç»“æœè¿”å›å¦å¤–ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸¤ç§æƒ…å½¢éƒ½æœ‰å¾ˆå¤šåº”ç”¨åœºæ™¯ã€‚\u003c/p\u003e\n\u003ch2\u003eä½œä¸ºå‚æ•°ä¼ é€’\u003c/h2\u003e\n\u003cp\u003eæŠŠå‡½æ•°å½“ä½œå‚æ•°ä¼ é€’ï¼Œä»£è¡¨å¯ä»¥æŠ½ç¦»å‡ºä¸€éƒ¨åˆ†å®¹æ˜“å˜åŒ–çš„ä¸šåŠ¡é€»è¾‘ï¼ŒæŠŠè¿™éƒ¨åˆ†ä¸šåŠ¡é€»è¾‘æ”¾åœ¨å‡½æ•°å‚æ•°ä¸­ï¼Œè¿™æ ·ä¸€æ¥å¯ä»¥åˆ†ç¦»ä¸šåŠ¡ä»£ç ä¸­å˜åŒ–ä¸ä¸å˜çš„éƒ¨åˆ†ã€‚\u003c/p\u003e\n\u003ch3\u003eå›è°ƒå‡½æ•°\u003c/h3\u003e\n\u003cp\u003eå…¶ä¸­ä¸€ä¸ªå¸¸è§çš„åº”ç”¨åœºæ™¯å°±æ˜¯å›è°ƒå‡½æ•°ã€‚\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eåœ¨ AJAX å¼‚æ­¥è¯·æ±‚çš„è¿‡ç¨‹ä¸­ï¼Œå›è°ƒå‡½æ•°ä½¿ç”¨å¾—éå¸¸é¢‘ç¹\u003c/li\u003e\n\u003cli\u003eåœ¨ä¸ç¡®å®šè¯·æ±‚è¿”å›çš„æ—¶é—´æ—¶ï¼Œå°† \u003ccode\u003ecallback\u003c/code\u003e å›è°ƒå‡½æ•°å½“ä½œå‚æ•°ä¼ å…¥\u003c/li\u003e\n\u003cli\u003eå¾…è¯·æ±‚å®Œæˆåæ‰§è¡Œ \u003ccode\u003ecallback\u003c/code\u003e å‡½æ•°\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eğŸŒ° \u003cstrong\u003eä»£ç ç¤ºä¾‹\u003c/strong\u003e\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e getUserInfo = \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003euserId, callback\u003c/span\u003e) {\n  $.\u003cspan class=\"hljs-title function_\"\u003eajax\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;http://example.com/getUserInfo?\u0026#x27;\u003c/span\u003e + userId, \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003edata\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (\u003cspan class=\"hljs-keyword\"\u003etypeof\u003c/span\u003e callback === \u003cspan class=\"hljs-string\"\u003e\u0026#x27;function\u0026#x27;\u003c/span\u003e) {\n      \u003cspan class=\"hljs-title function_\"\u003ecallback\u003c/span\u003e(data);\n    }\n  });\n};\n\n\u003cspan class=\"hljs-title function_\"\u003egetUserInfo\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e123\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003edata\u003c/span\u003e) {\n  \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(data.\u003cspan class=\"hljs-property\"\u003euserName\u003c/span\u003e);\n});\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eå›è°ƒå‡½æ•°çš„åº”ç”¨ä¸ä»…åªåœ¨å¼‚æ­¥è¯·æ±‚ä¸­ï¼Œå½“ä¸€ä¸ªå‡½æ•°ä¸é€‚åˆæ‰§è¡Œä¸€äº›è¯·æ±‚æ—¶ï¼Œä¹Ÿå¯ä»¥æŠŠè¿™äº›è¯·æ±‚å°è£…æˆä¸€ä¸ªå‡½æ•°ï¼Œå¹¶æŠŠå®ƒä½œä¸ºå‚æ•°ä¼ é€’ç»™å¦å¤–ä¸€ä¸ªå‡½æ•°ï¼Œ\u003cstrong\u003eå§”æ‰˜\u003c/strong\u003e ç»™å¦å¤–ä¸€ä¸ªå‡½æ•°æ¥æ‰§è¡Œã€‚\u003c/p\u003e\n\u003cp\u003eæ¯”å¦‚ï¼Œæƒ³åœ¨é¡µé¢ä¸­åˆ›å»º 100 ä¸ª \u003ccode\u003ediv\u003c/code\u003e èŠ‚ç‚¹ï¼Œç„¶åæŠŠè¿™äº› \u003ccode\u003ediv\u003c/code\u003e èŠ‚ç‚¹éƒ½è®¾ç½®ä¸ºéšè—ã€‚\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e appendDiv = \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e (\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e i = \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e; i \u0026lt; \u003cspan class=\"hljs-number\"\u003e100\u003c/span\u003e; i++) {\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e div = \u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ecreateElement\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;div\u0026#x27;\u003c/span\u003e);\n    div.\u003cspan class=\"hljs-property\"\u003einnerHTML\u003c/span\u003e = i;\n    \u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ebody\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eappendChild\u003c/span\u003e(div);\n    div.\u003cspan class=\"hljs-property\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003edisplay\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\u0026#x27;none\u0026#x27;\u003c/span\u003e;\n  }\n};\n\u003cspan class=\"hljs-title function_\"\u003eappendDiv\u003c/span\u003e();\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eæŠŠ \u003ccode\u003ediv.style.display = 'none'\u003c/code\u003e çš„é€»è¾‘ç¡¬ç¼–ç åœ¨ \u003ccode\u003eappendDiv\u003c/code\u003e é‡Œæ˜¾ç„¶æ˜¯ä¸åˆç†çš„ï¼Œ\u003ccode\u003eappendDiv\u003c/code\u003e æœªå…æœ‰ç‚¹ä¸ªæ€§åŒ–ï¼Œæˆä¸ºäº†ä¸€ä¸ªéš¾ä»¥å¤ç”¨çš„å‡½æ•°ï¼Œå¹¶ä¸æ˜¯æ¯ä¸ªäººåˆ›å»ºäº†èŠ‚ç‚¹ä¹‹åå°±å¸Œæœ›å®ƒä»¬ç«‹åˆ»è¢«éšè—ã€‚\u003c/p\u003e\n\u003cp\u003eäºæ˜¯æŠŠ \u003ccode\u003ediv.style.display = 'none'\u003c/code\u003e è¿™è¡Œä»£ç æŠ½å‡ºæ¥ï¼Œç”¨å›è°ƒå‡½æ•°çš„å½¢å¼ä¼ å…¥ \u003ccode\u003eappendDiv\u003c/code\u003e æ–¹æ³•\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e appendDiv = \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003ecallback\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e (\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e i = \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e; i \u0026lt; \u003cspan class=\"hljs-number\"\u003e100\u003c/span\u003e; i++) {\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e div = \u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ecreateElement\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;div\u0026#x27;\u003c/span\u003e);\n    div.\u003cspan class=\"hljs-property\"\u003einnerHTML\u003c/span\u003e = i;\n    \u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ebody\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eappendChild\u003c/span\u003e(div);\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (\u003cspan class=\"hljs-keyword\"\u003etypeof\u003c/span\u003e callback === \u003cspan class=\"hljs-string\"\u003e\u0026#x27;function\u0026#x27;\u003c/span\u003e) {\n      \u003cspan class=\"hljs-title function_\"\u003ecallback\u003c/span\u003e(div);\n    }\n  }\n};\n\n\u003cspan class=\"hljs-title function_\"\u003eappendDiv\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003enode\u003c/span\u003e) {\n  node.\u003cspan class=\"hljs-property\"\u003estyle\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003edisplay\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\u0026#x27;none\u0026#x27;\u003c/span\u003e;\n});\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eå¯ä»¥çœ‹åˆ°ï¼Œéšè—èŠ‚ç‚¹çš„è¯·æ±‚å®é™…ä¸Šæ˜¯ç”±å®¢æˆ·å‘èµ·çš„ï¼Œä½†æ˜¯å®¢æˆ·å¹¶ä¸çŸ¥é“èŠ‚ç‚¹ä»€ä¹ˆæ—¶å€™ä¼šåˆ›å»ºå¥½ï¼Œäºæ˜¯æŠŠéšè—èŠ‚ç‚¹çš„é€»è¾‘æ”¾åœ¨å›è°ƒå‡½æ•°ä¸­ï¼Œ\u003cstrong\u003eå§”æ‰˜\u003c/strong\u003e ç»™ \u003ccode\u003eappendDiv\u003c/code\u003e æ–¹æ³•ã€‚\u003ccode\u003eappendDiv\u003c/code\u003e æ–¹æ³•å½“ç„¶çŸ¥é“èŠ‚ç‚¹ä»€ä¹ˆæ—¶å€™åˆ›å»ºå¥½ï¼Œæ‰€ä»¥åœ¨èŠ‚ç‚¹åˆ›å»ºå¥½çš„æ—¶å€™ï¼Œ\u003ccode\u003eappendDiv\u003c/code\u003e ä¼šæ‰§è¡Œä¹‹å‰å®¢æˆ·ä¼ å…¥çš„å›è°ƒå‡½æ•°ã€‚\u003c/p\u003e\n\u003ch3\u003eæ•°ç»„æ’åº\u003c/h3\u003e\n\u003cp\u003eå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’çš„å¦ä¸€ä¸ªå¸¸è§åœºæ™¯æ˜¯æ•°ç»„æ’åºå‡½æ•° \u003ccode\u003esort()\u003c/code\u003eã€‚\u003ccode\u003eArray.prototype.sort\u003c/code\u003e æ¥å—ä¸€ä¸ªå‡½æ•°å½“ä½œå‚æ•°ï¼Œè¿™ä¸ªå‡½æ•°é‡Œé¢å°è£…äº†æ•°ç»„å…ƒç´ çš„æ’åºæ–¹æ³•ã€‚ç›®çš„æ˜¯å¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œè¿™æ˜¯ä¸å˜çš„éƒ¨åˆ†ï¼›è€Œä½¿ç”¨ä»€ä¹ˆè§„åˆ™å»æ’åºï¼Œåˆ™æ˜¯å¯å˜çš„éƒ¨åˆ†ã€‚æŠŠå¯å˜çš„éƒ¨åˆ†å°è£…åœ¨å‡½æ•°å‚æ•°é‡Œï¼ŒåŠ¨æ€ä¼ å…¥ \u003ccode\u003eArray.prototype.sort\u003c/code\u003eï¼Œä½¿ \u003ccode\u003eArray.prototype.sort\u003c/code\u003e æ–¹æ³•æˆä¸ºäº†ä¸€ä¸ªéå¸¸çµæ´»çš„æ–¹æ³•ã€‚\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-comment\"\u003e// ä»å°åˆ°å¤§æ’åˆ—ï¼Œè¾“å‡º: [ 1, 3, 4 ]\u003c/span\u003e\n[\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e].\u003cspan class=\"hljs-title function_\"\u003esort\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003ea, b\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e a - b;\n});\n\n\u003cspan class=\"hljs-comment\"\u003e// ä»å¤§åˆ°å°æ’åˆ—ï¼Œè¾“å‡º: [ 4, 3, 1 ]\u003c/span\u003e\n[\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e].\u003cspan class=\"hljs-title function_\"\u003esort\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003ea, b\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e b - a;\n});\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eä½œä¸ºè¿”å›å€¼è¾“å‡º\u003c/h2\u003e\n\u003cp\u003eç›¸æ¯”æŠŠå‡½æ•°å½“ä½œå‚æ•°ä¼ é€’ï¼Œå‡½æ•°å½“ä½œè¿”å›å€¼è¾“å‡ºçš„åº”ç”¨åœºæ™¯ä¹Ÿæœ‰å¾ˆå¤šã€‚è®©å‡½æ•°ç»§ç»­è¿”å›ä¸€ä¸ªå¯æ‰§è¡Œçš„å‡½æ•°ï¼Œæ„å‘³ç€è¿ç®—è¿‡ç¨‹æ˜¯å¯å»¶ç»­çš„ã€‚\u003c/p\u003e\n\u003cp\u003eä¸‹é¢æ˜¯ä½¿ç”¨ \u003ccode\u003eObject.prototype.toString\u003c/code\u003e æ–¹æ³•åˆ¤æ–­æ•°æ®ç±»å‹çš„ä¸€ç³»åˆ—çš„ \u003ccode\u003eisType\u003c/code\u003e å‡½æ•°\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e isString = \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003eobj\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eObject\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprototype\u003c/span\u003e\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003etoString\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ecall\u003c/span\u003e(obj) === \u003cspan class=\"hljs-string\"\u003e\u0026#x27;[object String]\u0026#x27;\u003c/span\u003e;\n};\n\n\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e isArray = \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003eobj\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eObject\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprototype\u003c/span\u003e\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003etoString\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ecall\u003c/span\u003e(obj) === \u003cspan class=\"hljs-string\"\u003e\u0026#x27;[object Array]\u0026#x27;\u003c/span\u003e;\n};\n\n\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e isNumber = \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003eobj\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eObject\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprototype\u003c/span\u003e\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003etoString\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ecall\u003c/span\u003e(obj) === \u003cspan class=\"hljs-string\"\u003e\u0026#x27;[object Number]\u0026#x27;\u003c/span\u003e;\n};\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eå®é™…ä¸Šï¼Œè¿™äº›å‡½æ•°çš„å¤§éƒ¨åˆ†å®ç°éƒ½æ˜¯ç›¸åŒçš„ï¼Œä¸åŒçš„åªæ˜¯ \u003ccode\u003eObject.prototype.toString.call(obj)\u003c/code\u003e è¿”å›çš„å­—ç¬¦ä¸²ã€‚ä¸ºäº†é¿å…å¤šä½™çš„ä»£ç ï¼Œå¯ä»¥æŠŠè¿™äº›å­—ç¬¦ä¸²ä½œä¸ºå‚æ•°æå‰ä¼ å…¥ \u003ccode\u003eisType\u003c/code\u003e å‡½æ•°ã€‚\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e isType = \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003etype\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003eobj\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eObject\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprototype\u003c/span\u003e\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003etoString\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ecall\u003c/span\u003e(obj) === \u003cspan class=\"hljs-string\"\u003e\u0026#x27;[object \u0026#x27;\u003c/span\u003e + type + \u003cspan class=\"hljs-string\"\u003e\u0026#x27;]\u0026#x27;\u003c/span\u003e;\n  };\n};\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e isString = \u003cspan class=\"hljs-title function_\"\u003eisType\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;String\u0026#x27;\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e isArray = \u003cspan class=\"hljs-title function_\"\u003eisType\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;Array\u0026#x27;\u003c/span\u003e);\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e isNumber = \u003cspan class=\"hljs-title function_\"\u003eisType\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;Number\u0026#x27;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-title function_\"\u003eisArray\u003c/span\u003e([\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e]));\n\u003cspan class=\"hljs-comment\"\u003e// true\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eå…¶å®ä¸Šé¢å®ç°çš„ isType å‡½æ•°ï¼Œä¹Ÿå±äº\u003cstrong\u003eåå‡½æ•°\u003c/strong\u003eçš„èŒƒç•´ï¼Œåå‡½æ•°å®é™…ä¸Šæ˜¯è¿”å›äº†ä¸€ä¸ªåŒ…å«\u003cstrong\u003eé¢„å¤„ç†å‚æ•°\u003c/strong\u003eçš„æ–°å‡½æ•°ï¼Œä»¥ä¾¿åç»­é€»è¾‘å¯ä»¥è°ƒç”¨ã€‚\u003c/p\u003e\n\u003cp\u003eå½“ç„¶ï¼Œè¿˜å¯ä»¥ç”¨å¾ªç¯è¯­å¥ï¼Œæ¥æ‰¹é‡æ³¨å†Œè¿™äº› \u003ccode\u003eisType\u003c/code\u003e å‡½æ•°ï¼š\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eType\u003c/span\u003e = {};\n\u003cspan class=\"hljs-keyword\"\u003efor\u003c/span\u003e (\u003cspan class=\"hljs-keyword\"\u003evar\u003c/span\u003e i = \u003cspan class=\"hljs-number\"\u003e0\u003c/span\u003e, type; (type = [\u003cspan class=\"hljs-string\"\u003e\u0026#x27;String\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026#x27;Array\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026#x27;Number\u0026#x27;\u003c/span\u003e][i++]); ) {\n  (\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003etype\u003c/span\u003e) {\n    \u003cspan class=\"hljs-title class_\"\u003eType\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e\u0026#x27;is\u0026#x27;\u003c/span\u003e + type] = \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003eobj\u003c/span\u003e) {\n      \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eObject\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprototype\u003c/span\u003e\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003etoString\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ecall\u003c/span\u003e(obj) === \u003cspan class=\"hljs-string\"\u003e\u0026#x27;[object \u0026#x27;\u003c/span\u003e + type + \u003cspan class=\"hljs-string\"\u003e\u0026#x27;]\u0026#x27;\u003c/span\u003e;\n    };\n  })(type);\n}\n\n\u003cspan class=\"hljs-title class_\"\u003eType\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eisArray\u003c/span\u003e([]);\n\u003cspan class=\"hljs-comment\"\u003e// true\u003c/span\u003e\n\u003cspan class=\"hljs-title class_\"\u003eType\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eisString\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;str\u0026#x27;\u003c/span\u003e);\n\u003cspan class=\"hljs-comment\"\u003e// true\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eAOP é¢å‘åˆ‡é¢ç¼–ç¨‹\u003c/h2\u003e\n\u003cp\u003eAOP å³é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨æ˜¯ \u003cstrong\u003eæŠŠä¸€äº›è·Ÿæ ¸å¿ƒä¸šåŠ¡é€»è¾‘æ¨¡å—æ— å…³çš„åŠŸèƒ½æŠ½ç¦»å‡ºæ¥\u003c/strong\u003eï¼Œè¿™äº›è·Ÿä¸šåŠ¡é€»è¾‘æ— å…³çš„åŠŸèƒ½é€šå¸¸åŒ…æ‹¬æ—¥å¿—ç»Ÿè®¡ã€å®‰å…¨æ§åˆ¶ã€å¼‚å¸¸å¤„ç†ç­‰ã€‚æŠŠè¿™äº›åŠŸèƒ½æŠ½ç¦»å‡ºæ¥ä¹‹åï¼Œå†é€šè¿‡ \u003cstrong\u003eåŠ¨æ€ç»‡å…¥\u003c/strong\u003e çš„æ–¹å¼æºå…¥ä¸šåŠ¡é€»è¾‘æ¨¡å—ä¸­ã€‚è¿™æ ·åšçš„å¥½å¤„é¦–å…ˆæ˜¯å¯ä»¥ä¿æŒä¸šåŠ¡é€»è¾‘æ¨¡å—çš„çº¯å‡€å’Œé«˜å†…èšæ€§ï¼Œå…¶æ¬¡æ˜¯å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å¤ç”¨æ—¥å¿—ç»Ÿè®¡ç­‰åŠŸèƒ½æ¨¡å—ã€‚\u003c/p\u003e\n\u003cp\u003eé€šå¸¸ï¼Œåœ¨ JavaScript ä¸­å®ç° AOPï¼Œéƒ½æ˜¯æŒ‡æŠŠä¸€ä¸ªå‡½æ•° \u003cstrong\u003eåŠ¨æ€ç»‡å…¥\u003c/strong\u003e åˆ°å¦å¤–ä¸€ä¸ªå‡½æ•°ä¹‹ä¸­ã€‚ä¸‹é¢é€šè¿‡æ‰©å±• \u003ccode\u003eFunction.prototype\u003c/code\u003e æ¥å®ç°\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-title class_\"\u003eFunction\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprototype\u003c/span\u003e\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003ebefore\u003c/span\u003e = \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003ebeforefn\u003c/span\u003e) {\n  \u003cspan class=\"hljs-comment\"\u003e// ä¿å­˜åŸå‡½æ•°çš„å¼•ç”¨\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e _this = \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e;\n\n  \u003cspan class=\"hljs-comment\"\u003e// è¿”å›åŒ…å«äº†åŸå‡½æ•°å’Œæ–°å‡½æ•°çš„ \u0026quot;ä»£ç†\u0026quot; å‡½æ•°\u003c/span\u003e\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-comment\"\u003e// å…ˆæ‰§è¡Œæ–°å‡½æ•°ï¼Œä¿®æ­£ this\u003c/span\u003e\n    beforefn.\u003cspan class=\"hljs-title function_\"\u003eapply\u003c/span\u003e(\u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e, \u003cspan class=\"hljs-variable language_\"\u003earguments\u003c/span\u003e);\n\n    \u003cspan class=\"hljs-comment\"\u003e// å†æ‰§è¡ŒåŸå‡½æ•°\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e _this.\u003cspan class=\"hljs-title function_\"\u003eapply\u003c/span\u003e(\u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e, \u003cspan class=\"hljs-variable language_\"\u003earguments\u003c/span\u003e);\n  };\n};\n\n\u003cspan class=\"hljs-title class_\"\u003eFunction\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003e\u003cspan class=\"hljs-keyword\"\u003eprototype\u003c/span\u003e\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eafter\u003c/span\u003e = \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003eafterfn\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e _this = \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e;\n\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-comment\"\u003e// å…ˆæ‰§è¡ŒåŸå‡½æ•°\u003c/span\u003e\n    \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e result = _this.\u003cspan class=\"hljs-title function_\"\u003eapply\u003c/span\u003e(\u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e, \u003cspan class=\"hljs-variable language_\"\u003earguments\u003c/span\u003e);\n\n    \u003cspan class=\"hljs-comment\"\u003e// å†æ‰§è¡Œæ–°å‡½æ•°\u003c/span\u003e\n    afterfn.\u003cspan class=\"hljs-title function_\"\u003eapply\u003c/span\u003e(\u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e, \u003cspan class=\"hljs-variable language_\"\u003earguments\u003c/span\u003e);\n\n    \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e result;\n  };\n};\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e fn = \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e2\u003c/span\u003e);\n};\n\nfn = fn\n  .\u003cspan class=\"hljs-title function_\"\u003ebefore\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e);\n  })\n  .\u003cspan class=\"hljs-title function_\"\u003eafter\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-number\"\u003e3\u003c/span\u003e);\n  });\n\n\u003cspan class=\"hljs-title function_\"\u003efn\u003c/span\u003e();\n\u003cspan class=\"hljs-comment\"\u003e// 1 2 3\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eæŠŠè´Ÿè´£è¾“å‡ºæ•°å­— 1 å’Œè¾“å‡ºæ•°å­— 3 çš„ä¸¤ä¸ªå‡½æ•°é€šè¿‡ AOP çš„æ–¹å¼åŠ¨æ€æ¤å…¥ \u003ccode\u003efn\u003c/code\u003e å‡½æ•°ã€‚\u003c/p\u003e\n\u003cp\u003eé€šè¿‡æ‰§è¡Œä¸Šé¢çš„ä»£ç ï¼Œæ§åˆ¶å°é¡ºåˆ©åœ°è¿”å›äº†æ‰§è¡Œç»“æœ 1ã€2ã€3ã€‚\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e service = \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;åŠŸèƒ½é€»è¾‘\u0026#x27;\u003c/span\u003e);\n};\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e proxyMethod = (\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003elet\u003c/span\u003e startTime;\n\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e {\n    \u003cspan class=\"hljs-attr\"\u003ebefore\u003c/span\u003e: \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n      startTime = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDate\u003c/span\u003e();\n\n      \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;è®¡æ—¶å¼€å§‹\u0026#x27;\u003c/span\u003e);\n    },\n    \u003cspan class=\"hljs-attr\"\u003eafter\u003c/span\u003e: \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n      \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e endTime = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDate\u003c/span\u003e() - startTime;\n\n      \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;è®¡æ—¶ç»“æŸï¼Œç”¨æ—¶ï¼š\u0026#x27;\u003c/span\u003e + endTime);\n    },\n  };\n})();\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e aop = \u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003efn, proxy\u003c/span\u003e) {\n  proxy.\u003cspan class=\"hljs-property\"\u003ebefore\u003c/span\u003e \u0026amp;\u0026amp; proxy.\u003cspan class=\"hljs-title function_\"\u003ebefore\u003c/span\u003e();\n\n  \u003cspan class=\"hljs-title function_\"\u003efn\u003c/span\u003e();\n\n  proxy.\u003cspan class=\"hljs-property\"\u003eafter\u003c/span\u003e \u0026amp;\u0026amp; proxy.\u003cspan class=\"hljs-title function_\"\u003eafter\u003c/span\u003e();\n};\n\n\u003cspan class=\"hljs-title function_\"\u003eaop\u003c/span\u003e(service, proxyMethod);\n\u003cspan class=\"hljs-comment\"\u003e// è®¡æ—¶å¼€å§‹\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// åŠŸèƒ½é€»è¾‘\u003c/span\u003e\n\u003cspan class=\"hljs-comment\"\u003e// è®¡æ—¶ç»“æŸï¼š1\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eå…¶ä»–åº”ç”¨\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"/front-end/core-modules/ecmascript-function-objects/function-types/function-currying\"\u003eå‡½æ•°æŸ¯é‡ŒåŒ–\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/front-end/core-modules/ecmascript-function-objects/function-types/function-currying#%E5%8F%8D%E6%9F%AF%E9%87%8C%E5%8C%96\"\u003eåæŸ¯é‡ŒåŒ–\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/front-end/core-modules/ecmascript-function-objects/function-types/throttle\"\u003eå‡½æ•°èŠ‚æµ\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/front-end/core-modules/ecmascript-function-objects/function-types/debounce\"\u003eå‡½æ•°é˜²æŠ–\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cstrong\u003eå‚è€ƒèµ„æ–™ï¼š\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://juejin.im/entry/5815876c8ac247004fb6d132\" target=\"_blank\" rel=\"noopener noreferrer nofollow\"\u003eğŸ“ é«˜é˜¶å‡½æ•°ä»‹ç»\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n"])</script><script>self.__next_f.push([1,"4:[\"$\",\"div\",null,{\"className\":\"markdown-body\",\"children\":[\"$\",\"article\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$c\"}}]}]\n"])</script><script>self.__next_f.push([1,"a:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n8:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"front-end\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"front-end knowledge\"}],[\"$\",\"link\",\"3\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}]]\n"])</script><script>self.__next_f.push([1,"6:null\n"])</script></body></html>