<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/569ce4b8f30dc480-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/93f479601ee12b01-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/d4dd73d504c89c58.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/485ff6fe79292a08.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/0ff121a467c0636f.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-53834dba86d90934.js"/><script src="/_next/static/chunks/4bd1b696-20882bf820444624.js" async=""></script><script src="/_next/static/chunks/517-98ed787e5f259f2c.js" async=""></script><script src="/_next/static/chunks/main-app-f33d3e3aed85e21f.js" async=""></script><meta name="next-size-adjust" content=""/><title>front-end</title><meta name="description" content="front-end knowledge"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__variable_4d318d __variable_ea5f4b antialiased"><main><div class="markdown-body"><article><h1>Web Storage</h1>
<p>HTML5 ä¸­çš„ Web Storage æä¾›äº†ä¸¤ä¸ªåœ¨å®¢æˆ·ç«¯å­˜å‚¨æ•°æ®çš„å¯¹è±¡ï¼š</p>
<ul>
<li>localStorageï¼šä¸»è¦ç”¨äºå­˜å‚¨ä¸€ä¸ªåŸŸåä¸‹çš„éœ€è¦<strong>æ°¸ä¹…</strong>å­˜åœ¨åœ¨æœ¬åœ°çš„æ•°æ®ï¼Œè¿™äº›æ•°æ®å¯ä»¥è¢«ä¸€ç›´è®¿é—®ï¼Œç›´åˆ°è¿™äº›æ•°æ®è¢«åˆ é™¤ï¼ŒåŒæºä¸‹æ•°æ®å¤šçª—å£å…±äº«</li>
<li>sessionStorageï¼šä¸»è¦ç”¨äºæœ¬åœ°å­˜å‚¨ä¸€ä¸ª<strong>ä¼šè¯</strong>ï¼ˆsessionï¼‰ä¸­çš„æ•°æ®ï¼Œè¿™äº›æ•°æ®åªæœ‰åœ¨åŒä¸€ä¸ªä¼šè¯ä¸­çš„é¡µé¢æ‰èƒ½è®¿é—®ï¼ŒåŒä¸€æºä¸‹ä¸åŒçª—å£äº¦æ— æ³•è®¿é—®ï¼Œä¼šè¯ç»“æŸåæ•°æ®ä¹Ÿéšä¹‹é”€æ¯</li>
</ul>
<p>å› æ­¤ sessionStorage å’Œ localStorage çš„ä¸»è¦åŒºåˆ«åœ¨äºä»–ä»¬<strong>å­˜å‚¨æ•°æ®çš„ç”Ÿå‘½å‘¨æœŸ</strong>ï¼ŒsessionStorage å­˜å‚¨çš„æ•°æ®çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ä¸€ä¸ªä¼šè¯ï¼Œè€Œ localStorage å­˜å‚¨çš„æ•°æ®çš„ç”Ÿå‘½å‘¨æœŸæ˜¯æ°¸ä¹…ï¼Œç›´åˆ°è¢«ä¸»åŠ¨åˆ é™¤ï¼Œå¦åˆ™æ•°æ®æ°¸è¿œä¸ä¼šè¿‡æœŸçš„ã€‚</p>
<h2>ç¼“å­˜é™æ€æ–‡ä»¶</h2>
<p>HTTP åè®®çš„ç¼“å­˜ï¼Œå¯ä»¥ç”±ç”¨æˆ·æµè§ˆå™¨æ¸…é™¤æˆ–ç¦ç”¨ç¼“å­˜ï¼Œä¹Ÿå¯ä»¥ç”± Web æœåŠ¡å™¨è®¾ç½®è¿‡æœŸæ—¶é—´æˆ–ä¸ç¼“å­˜ã€‚å¯¹äºå‰ç«¯å·¥ç¨‹å¸ˆï¼Œè¿™æ›´åƒæ˜¯ä¸€ä¸ªé»‘ç›’ï¼Œæƒ³è¦å†³å®šæ–‡ä»¶æ˜¯è®¿é—®ç¼“å­˜è¿˜æ˜¯è®¿é—®è¿œç¨‹æ˜¾å¾—æœ‰äº›åŠ›ä¸ä»å¿ƒã€‚</p>
<p>ä½¿ç”¨ localStorage æ§åˆ¶æ–‡ä»¶ç¼“å­˜çš„æ–¹å¼æœ‰ä¸¤ç§ï¼š</p>
<ol>
<li>ä½¿ç”¨ Loader åŠ è½½é™æ€æ–‡ä»¶</li>
<li>å€ŸåŠ©æœåŠ¡å™¨ç«¯å°†é™æ€æ–‡ä»¶ inline åŒ–</li>
</ol>
<p>è¿™ä¸¤ç§æ–¹å¼ä¸€èˆ¬éƒ½ä¼šæå‰åšå¥½<strong>ç¼“å­˜è¿‡æœŸç­–ç•¥</strong>ï¼Œé€šå¸¸æ˜¯ä½¿ç”¨<strong>ç‰ˆæœ¬å·</strong>æ¥æ§åˆ¶ã€‚</p>
<h2>Web Storage API</h2>
<p>localStorage å’Œ sessionStorage æœ‰ç€ç»Ÿä¸€çš„ API æ¥å£ï¼Œè¿™ä¸ºäºŒè€…çš„æ“ä½œæä¾›äº†æå¤§çš„ä¾¿åˆ©ã€‚ä¸‹é¢ä»¥ localStorage ä¸ºä¾‹æ¥ä»‹ç»ä¸€ä¸‹ API æ¥å£ä½¿ç”¨æ–¹æ³•ï¼ŒåŒæ ·è¿™äº›æ¥å£ä¹Ÿé€‚ç”¨äº sessionStorageã€‚</p>
<h3>æ·»åŠ é”®å€¼</h3>
<p><code>Storage.setItem()</code> æ¥å—ä¸€ä¸ªé”®åå’Œå€¼ä½œä¸ºå‚æ•°ï¼Œå°†ä¼šæŠŠé”®åæ·»åŠ åˆ°å­˜å‚¨ä¸­ï¼Œå¦‚æœé”®åå·²å­˜åœ¨ï¼Œåˆ™æ›´æ–°å…¶å¯¹åº”çš„å€¼ã€‚</p>
<pre class="hljs"><code class="language-js"><span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(key, value);
<span class="hljs-variable language_">sessionStorage</span>.<span class="hljs-title function_">setItem</span>(key, value);
</code></pre>
<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>è¯´æ˜</th>
<th>ç±»å‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>é”®å</td>
<td>DOMString</td>
</tr>
<tr>
<td>value</td>
<td>é”®å€¼</td>
<td>DOMString</td>
</tr>
</tbody>
</table>
<p>å­—é¢é‡å½¢å¼å®ç°ï¼š</p>
<ul>
<li><code>Storage.key = value</code></li>
<li><code>Storage['key'] = value</code></li>
</ul>
<p>âš ï¸ <strong>æ³¨æ„</strong>ï¼šå½“æˆ‘ä»¬è¦å­˜å‚¨å¯¹è±¡æ˜¯ï¼Œåº”å…ˆè½¬æ¢æˆæˆ‘ä»¬å¯è¯†åˆ«çš„å­—ç¬¦ä¸²æ ¼å¼ï¼ˆæ¯”å¦‚ JSON æ ¼å¼ï¼‰å†è¿›è¡Œå­˜å‚¨ã€‚</p>
<p>ğŸŒ° <strong>ä»£ç ç¤ºä¾‹</strong>ï¼š</p>
<pre class="hljs"><code class="language-js"><span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">&#x27;boy&#x27;</span>, <span class="hljs-string">&#x27;Ben&#x27;</span>);

<span class="hljs-variable language_">localStorage</span>.<span class="hljs-property">boy</span> = <span class="hljs-string">&#x27;Ben&#x27;</span>;
<span class="hljs-variable language_">localStorage</span>[<span class="hljs-string">&#x27;boy&#x27;</span>] = <span class="hljs-string">&#x27;Ben&#x27;</span>;

<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">&#x27;user&#x27;</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;lilei&#x27;</span> }));
</code></pre>
<h3>è·å–é”®å€¼</h3>
<p>ç”¨äºè·å–æŒ‡å®šé”®åçš„é”®å€¼ã€‚</p>
<pre class="hljs"><code class="language-js"><span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(key);
<span class="hljs-variable language_">sessionStorage</span>.<span class="hljs-title function_">getItem</span>(key);
</code></pre>
<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>è¯´æ˜</th>
<th>ç±»å‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>è·å–é”®å€¼çš„é”®å</td>
<td>DOMString</td>
</tr>
</tbody>
</table>
<p>ğŸŒ° <strong>ä»£ç ç¤ºä¾‹</strong>ï¼š</p>
<pre class="hljs"><code class="language-js"><span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">&#x27;boy&#x27;</span>);
<span class="hljs-comment">// &#x27;Ben&#x27;</span>

<span class="hljs-variable language_">localStorage</span>.<span class="hljs-property">boy</span>;
<span class="hljs-comment">// &#x27;Ben&#x27;</span>
<span class="hljs-variable language_">localStorage</span>[<span class="hljs-string">&#x27;boy&#x27;</span>];
<span class="hljs-comment">// &#x27;Ben&#x27;</span>

<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">&#x27;user&#x27;</span>));
<span class="hljs-comment">// {id: 1, name: &#x27;lilei}</span>
</code></pre>
<h3>åˆ é™¤é”®å€¼</h3>
<p>ç”¨äºåˆ é™¤æŒ‡å®šé”®åçš„é”®å€¼ã€‚</p>
<pre class="hljs"><code class="language-js"><span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">removeItem</span>(key);
<span class="hljs-variable language_">sessionStorage</span>.<span class="hljs-title function_">removeItem</span>(key);
</code></pre>
<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>è¯´æ˜</th>
<th>ç±»å‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>åˆ é™¤é”®å€¼çš„é”®å</td>
<td>DOMString</td>
</tr>
</tbody>
</table>
<p>ğŸŒ° <strong>ä»£ç ç¤ºä¾‹</strong>ï¼š</p>
<pre class="hljs"><code class="language-js"><span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">&#x27;boy&#x27;</span>);
<span class="hljs-comment">// &#x27;Ben&#x27;</span>

<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">removeItem</span>(<span class="hljs-string">&#x27;boy&#x27;</span>);

<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">&#x27;boy&#x27;</span>);
<span class="hljs-comment">// null</span>
</code></pre>
<h3>æ¸…é™¤æ‰€æœ‰é”®å€¼</h3>
<p>ç”¨äºæ¸…é™¤æ‰€æœ‰å­˜å‚¨çš„é”®å€¼å¯¹ã€‚</p>
<pre class="hljs"><code class="language-js"><span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">clear</span>();
<span class="hljs-variable language_">sessionStorage</span>.<span class="hljs-title function_">clear</span>();
</code></pre>
<p>ğŸŒ° <strong>ä»£ç ç¤ºä¾‹</strong>ï¼š</p>
<pre class="hljs"><code class="language-js"><span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">clear</span>();

<span class="hljs-variable language_">localStorage</span>.<span class="hljs-property">length</span>;
<span class="hljs-comment">// 0</span>
</code></pre>
<h3>è·å–é”®å</h3>
<p>é€šè¿‡æŒ‡å®šç´¢å¼•è·å–é”®åç§°ã€‚éœ€è¦æ³¨æ„çš„æ˜¯èµ‹å€¼æ—©çš„é”®å€¼å¯¹åº”çš„ç´¢å¼•å€¼å¤§ï¼Œèµ‹å€¼å®Œçš„é”®å€¼å¯¹åº”çš„ç´¢å¼•å°ï¼Œkey æ–¹æ³•å¯ç”¨äºéå† localStorage å­˜å‚¨çš„é”®å€¼ã€‚</p>
<pre class="hljs"><code class="language-js"><span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">key</span>(index);
<span class="hljs-variable language_">sessionStorage</span>.<span class="hljs-title function_">key</span>(index);
</code></pre>
<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>è¯´æ˜</th>
<th>ç±»å‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>index</td>
<td>ç´¢å¼•</td>
<td>number</td>
</tr>
</tbody>
</table>
<h3>è·å–é”®å€¼æ•°é‡</h3>
<p>lengthÂ  å±æ€§ç”¨äºè·å– localStorage æˆ– sessionStorage ä¸­é”®å€¼å¯¹çš„æ•°é‡ã€‚</p>
<pre class="hljs"><code class="language-js"><span class="hljs-variable language_">localStorage</span>.<span class="hljs-property">length</span>;
<span class="hljs-variable language_">sessionStorage</span>.<span class="hljs-property">length</span>;
</code></pre>
<h2>Web Storage äº‹ä»¶</h2>
<p>åœ¨ HTML5 ä¸­ï¼Œå¯ä»¥é€šè¿‡ Window å¯¹è±¡çš„ Storage äº‹ä»¶è¿›è¡Œç›‘å¬ã€‚å½“å­˜å‚¨çš„ Storage æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶éƒ½ä¼šè§¦å‘å®ƒï¼Œä¹Ÿå°±æ˜¯è¯´å½“å‰é¡µé¢çš„ Storage æ”¹å˜çš„æ—¶å€™ï¼Œè§¦å‘è¿™ä¸ªäº‹ä»¶ä¹Ÿä¼šè§¦å‘è°ƒç”¨æ‰€æœ‰åŒåŸŸä¸‹å…¶ä»–çª—å£çš„ Storage äº‹ä»¶ã€‚ä½†æ˜¯ï¼Œè¯¥äº‹ä»¶ä¸ä¼šå†å¯¼è‡´æ•°æ®å˜åŒ–çš„å½“å‰é¡µé¢è§¦å‘ã€‚è€Œä¸”å®ƒä¸åŒäº <code>click</code> ç‚¹å‡»ç±»çš„äº‹ä»¶ä¼šäº‹ä»¶æ•è·å’Œå†’æ³¡ï¼Œstorage äº‹ä»¶æ›´åƒæ˜¯ä¸€ä¸ªé€šçŸ¥ï¼Œä¸å¯å–æ¶ˆã€‚</p>
<p>è§¦å‘ Storage äº‹ä»¶çš„æ¡ä»¶ï¼š</p>
<ul>
<li>åŒä¸€ä¸ªæµè§ˆå™¨æ‰“å¼€äº†ä¸¤ä¸ªåŒæºé¡µé¢</li>
<li>å…¶ä¸­ä¸€ä¸ªé¡µé¢ä¿®æ”¹äº† localStorage</li>
<li>å¦ä¸€ä¸ªç½‘é¡µæ³¨å†Œäº†è¿™ä¸ªäº‹ä»¶</li>
</ul>
<p>Storage çš„ Event å¯¹è±¡çš„å¸¸ç”¨å±æ€§</p>
<table>
<thead>
<tr>
<th>å±æ€§</th>
<th>è¯´æ˜</th>
<th>ç±»å‹</th>
</tr>
</thead>
<tbody>
<tr>
<td>oldValue</td>
<td>æ›´æ–°å‰çš„å€¼ã€‚å¦‚æœè¯¥é”®ä¸ºæ–°å¢åŠ ï¼Œåˆ™è¿™ä¸ªå±æ€§ä¸º nullã€‚</td>
<td>any</td>
</tr>
<tr>
<td>newValue</td>
<td>æ›´æ–°åçš„å€¼ã€‚å¦‚æœè¯¥é”®è¢«åˆ é™¤ï¼Œåˆ™è¿™ä¸ªå±æ€§ä¸º nullã€‚</td>
<td>any</td>
</tr>
<tr>
<td>url</td>
<td>åŸå§‹è§¦å‘ storage äº‹ä»¶çš„é‚£ä¸ªç½‘é¡µçš„ç½‘å€ã€‚</td>
<td>string</td>
</tr>
<tr>
<td>key</td>
<td>å­˜å‚¨ store çš„ key åã€‚</td>
<td>string</td>
</tr>
</tbody>
</table>
<p>ğŸŒ° <strong>ä»£ç ç¤ºä¾‹</strong>ï¼š</p>
<pre class="hljs"><code class="language-js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">storageChanged</span>(<span class="hljs-params"></span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">arguments</span>);
}
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;storage&#x27;</span>, storageChanged, <span class="hljs-literal">false</span>);
</code></pre>
<p><a href="https://blog.csdn.net/ruangong1203/article/details/52841135" target="_blank" rel="noopener noreferrer nofollow">ğŸ“ å®ä¾‹ï¼šH5 Storage äº‹ä»¶ç›‘å¬</a></p>
<h2>ä½¿ç”¨åœºæ™¯</h2>
<p>åŸºäº Web Storage çš„ç‰¹ç‚¹ï¼Œå®ƒä¸»è¦è¢«ç”¨äºå‚¨å­˜ä¸€äº›<strong>ä¸ç»å¸¸æ”¹åŠ¨</strong>çš„ï¼Œ<strong>ä¸æ•æ„Ÿ</strong>çš„æ•°æ®ï¼Œæ¯”å¦‚å…¨å›½çœå¸‚åŒºå¿ä¿¡æ¯ã€‚è¿˜å¯ä»¥å­˜å‚¨ä¸€äº›ä¸å¤ªé‡è¦çš„è·Ÿç”¨æˆ·ç›¸å…³çš„æ•°æ®ï¼Œæ¯”å¦‚è¯´ç”¨æˆ·çš„å¤´åƒåœ°å€ã€ä¸»é¢˜é¢œè‰²ç­‰ï¼Œè¿™äº›ä¿¡æ¯å¯ä»¥å…ˆå­˜å‚¨åœ¨ç”¨æˆ·æœ¬åœ°ä¸€ä»½ï¼Œä¾¿äºå¿«é€Ÿå‘ˆç°ï¼Œç­‰çœŸæ­£ä»æœåŠ¡å™¨ç«¯è¯»å–æˆåŠŸåå†æ›´æ”¹å¤´åƒåœ°å€ï¼Œä¸»é¢˜é¢œè‰²ã€‚å¦å¤–ï¼ŒåŸºäº storage äº‹ä»¶ç‰¹ç‚¹ï¼ŒWeb Storage è¿˜å¯ä»¥ç”¨äºåŒåŸŸä¸åŒçª—å£é—´çš„é€šä¿¡ã€‚</p>
<h2>Web Storage å’Œ Cookie</h2>
<p>Web Storage å’Œ Cookie æœ‰è®¸å¤šç›¸åŒä¹‹å¤„ï¼š</p>
<ul>
<li>å®ƒä»¬éƒ½å¯ä»¥ç”¨äºå­˜å‚¨ç”¨æˆ·æ•°æ®</li>
<li>å®ƒä»¬å­˜å‚¨æ•°æ®çš„æ ¼å¼éƒ½æ˜¯å­—ç¬¦ä¸²å½¢å¼</li>
<li>å®ƒä»¬å­˜å‚¨çš„æ•°æ®éƒ½æœ‰å¤§å°é™åˆ¶</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th style="text-align:center">Cookie</th>
<th style="text-align:center">localStorage</th>
<th style="text-align:center">sessionStorage</th>
</tr>
</thead>
<tbody>
<tr>
<td>æ•°æ®å­˜å‚¨æ–¹é¢</td>
<td style="text-align:center">æ•°æ®å§‹ç»ˆåœ¨åŒæºçš„ HTTP è¯·æ±‚ä¸­æºå¸¦ï¼ˆå³ä¾¿ä¸éœ€è¦ï¼‰ï¼Œå³ Cookie åœ¨æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´æ¥å›ä¼ é€’ã€‚&lt;br/&gt;Cookie æ•°æ®è¿˜æœ‰è·¯å¾„ï¼ˆpathï¼‰çš„æ¦‚å¿µï¼Œå¯ä»¥é™åˆ¶ Cookie åªå±äºæŸä¸ªè·¯å¾„ä¸‹</td>
<td style="text-align:center">ä¸ä¼šè‡ªåŠ¨æŠŠæ•°æ®å‘é€ç»™æœåŠ¡å™¨ï¼Œä»…åœ¨æœ¬åœ°ä¿å­˜</td>
<td style="text-align:center">ä¸ä¼šè‡ªåŠ¨æŠŠæ•°æ®å‘é€ç»™æœåŠ¡å™¨ï¼Œä»…åœ¨æœ¬åœ°ä¿å­˜</td>
</tr>
<tr>
<td>å®¹é‡</td>
<td style="text-align:center">æ•°æ®å¤§å°é™åˆ¶åœ¨ 4kb ä»¥å†…&lt;br/&gt;åŒæ—¶å› ä¸ºæ¯æ¬¡ HTTP è¯·æ±‚éƒ½ä¼šæºå¸¦ Cookieï¼Œæ‰€ä»¥ Cookie åªé€‚åˆä¿å­˜å¾ˆå°çš„æ•°æ®ï¼Œå¦‚ä¼šè¯æ ‡è¯†</td>
<td style="text-align:center">5MB</td>
<td style="text-align:center">5MB</td>
</tr>
<tr>
<td>æ•°æ®å­˜å‚¨æœ‰æ•ˆæœŸ</td>
<td style="text-align:center">åªåœ¨ Cookie è®¾ç½®çš„<strong>è¿‡æœŸæ—¶é—´</strong>ä¹‹å‰æœ‰æ•ˆï¼Œå³ä½¿çª—å£å…³é—­æˆ–æµè§ˆå™¨å…³é—­</td>
<td style="text-align:center"><strong>å§‹ç»ˆæœ‰æ•ˆ</strong>ï¼Œçª—å£æˆ–æµè§ˆå™¨å…³é—­ä¹Ÿä¸€ç›´ä¿å­˜ï¼Œæœ¬åœ°å­˜å‚¨ï¼Œå› æ­¤ç”¨ä½œæŒä¹…æ•°æ®</td>
<td style="text-align:center">ä»…åœ¨å½“å‰æµè§ˆå™¨çª—å£<strong>å…³é—­ä¹‹å‰</strong>æœ‰æ•ˆ</td>
</tr>
<tr>
<td>ä½œç”¨åŸŸä¸åŒ</td>
<td style="text-align:center">åœ¨æ‰€æœ‰<strong>åŒæºçª—å£</strong>ä¸­éƒ½æ˜¯å…±äº«çš„ï¼›ä¹Ÿå°±æ˜¯è¯´åªè¦æµè§ˆå™¨ä¸å…³é—­ï¼Œæ•°æ®ä»ç„¶å­˜åœ¨</td>
<td style="text-align:center">åœ¨æ‰€æœ‰<strong>åŒæºçª—å£</strong>ä¸­éƒ½æ˜¯å…±äº«çš„ï¼›ä¹Ÿå°±æ˜¯è¯´åªè¦æµè§ˆå™¨ä¸å…³é—­ï¼Œæ•°æ®ä»ç„¶å­˜åœ¨</td>
<td style="text-align:center">ä¸åœ¨ä¸åŒçš„æµè§ˆå™¨çª—å£ä¸­å…±äº«ï¼Œå³ä½¿æ˜¯åŒä¸€ä¸ªé¡µé¢</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>Web Storage æ‹¥æœ‰ <code>setItem</code>ã€<code>getItem</code>ã€<code>removeItem</code>ã€<code>clear</code> ç­‰æ–¹æ³•</p>
</li>
<li>
<p>Cookie éœ€è¦è‡ªå·±å°è£… <code>setCookie</code>ã€<code>getCookie</code> ç­‰æ–¹æ³•</p>
</li>
</ul>
<hr>
<p><strong>å‚è€ƒèµ„æ–™ï¼š</strong></p>
<ul>
<li><a href="https://my.oschina.net/u/2282680/blog/791180" target="_blank" rel="noopener noreferrer nofollow">ğŸ“ Web Storage å­¦ä¹ </a></li>
</ul>
<p>ä½¿ç”¨ <code>localSotrage</code> å®ç°å¤šé¡µé¢é€šä¿¡</p>
<p>éœ€è¦æå‰çº¦å®šé€šä¿¡æ ‡è¯† <code>key</code>ï¼Œè¿™é‡Œå‡å®š <code>key</code> ä¸º <code>page_b</code></p>
<p>A é¡µé¢ç›‘å¬ <code>storage</code> äº‹ä»¶ï¼š</p>
<pre class="hljs"><code class="language-js"><span class="hljs-title function_">mounted</span>(<span class="hljs-params"></span>) {
  <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;storage&#x27;</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">siblingWindowListener</span>, <span class="hljs-literal">false</span>);

  <span class="hljs-variable language_">this</span>.$on(<span class="hljs-string">&#x27;hook:beforeDestroy&#x27;</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">&#x27;storage&#x27;</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">sibilingWindowListener</span>);
  })
},
<span class="hljs-attr">methods</span>: {
  <span class="hljs-title function_">siblingWindowListener</span>(<span class="hljs-params">event</span>) {
    <span class="hljs-keyword">if</span> (event.<span class="hljs-property">key</span> === <span class="hljs-string">&#x27;page_b&#x27;</span>) {
      <span class="hljs-comment">// do something</span>
    }
  }
}
</code></pre>
<p>B é¡µé¢ï¼Œå½“ä¿å­˜æ—¶ï¼Œè®¾ç½®çº¦å®šå¥½çš„ <code>localStorage</code> çš„ <code>key</code> å€¼ï¼Œå…³é—­é¡µé¢ï¼š</p>
<pre class="hljs"><code class="language-js"><span class="hljs-attr">methods</span>: {
  <span class="hljs-title function_">close</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">&#x27;page_b&#x27;</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">getTime</span>());

    <span class="hljs-keyword">try</span> {
      <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">close</span>();
    } <span class="hljs-keyword">catch</span>(e) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(e);
    }
  }
}
</code></pre>
</article></div></main><script src="/_next/static/chunks/webpack-53834dba86d90934.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[5244,[],\"\"]\n3:I[3866,[],\"\"]\n5:I[6213,[],\"OutletBoundary\"]\n7:I[6213,[],\"MetadataBoundary\"]\n9:I[6213,[],\"ViewportBoundary\"]\nb:I[4835,[],\"\"]\n:HL[\"/_next/static/media/569ce4b8f30dc480-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/93f479601ee12b01-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/d4dd73d504c89c58.css\",\"style\"]\n:HL[\"/_next/static/css/485ff6fe79292a08.css\",\"style\"]\n:HL[\"/_next/static/css/0ff121a467c0636f.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"1zJy3VHENUSg9vzcRvJ6P\",\"p\":\"\",\"c\":[\"\",\"front-end\",\"browser-object-model\",\"offline-and-storage\",\"web-storage\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"front-end\",{\"children\":[[\"slug\",\"browser-object-model/offline-and-storage/web-storage\",\"oc\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/d4dd73d504c89c58.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"__variable_4d318d __variable_ea5f4b antialiased\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[],[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]]}],{\"children\":[\"front-end\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/485ff6fe79292a08.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/0ff121a467c0636f.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"main\",null,{\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"front-end\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}],{\"children\":[[\"slug\",\"browser-object-model/offline-and-storage/web-storage\",\"oc\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"front-end\",\"children\",\"$0:f:0:1:2:children:2:children:0\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L4\",null,[\"$\",\"$L5\",null,{\"children\":\"$L6\"}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"5HeRBArvBFhxl49Ijj4l7\",{\"children\":[[\"$\",\"$L7\",null,{\"children\":\"$L8\"}],[\"$\",\"$L9\",null,{\"children\":\"$La\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$b\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"c:T3e50,"])</script><script>self.__next_f.push([1,"\u003ch1\u003eWeb Storage\u003c/h1\u003e\n\u003cp\u003eHTML5 ä¸­çš„ Web Storage æä¾›äº†ä¸¤ä¸ªåœ¨å®¢æˆ·ç«¯å­˜å‚¨æ•°æ®çš„å¯¹è±¡ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003elocalStorageï¼šä¸»è¦ç”¨äºå­˜å‚¨ä¸€ä¸ªåŸŸåä¸‹çš„éœ€è¦\u003cstrong\u003eæ°¸ä¹…\u003c/strong\u003eå­˜åœ¨åœ¨æœ¬åœ°çš„æ•°æ®ï¼Œè¿™äº›æ•°æ®å¯ä»¥è¢«ä¸€ç›´è®¿é—®ï¼Œç›´åˆ°è¿™äº›æ•°æ®è¢«åˆ é™¤ï¼ŒåŒæºä¸‹æ•°æ®å¤šçª—å£å…±äº«\u003c/li\u003e\n\u003cli\u003esessionStorageï¼šä¸»è¦ç”¨äºæœ¬åœ°å­˜å‚¨ä¸€ä¸ª\u003cstrong\u003eä¼šè¯\u003c/strong\u003eï¼ˆsessionï¼‰ä¸­çš„æ•°æ®ï¼Œè¿™äº›æ•°æ®åªæœ‰åœ¨åŒä¸€ä¸ªä¼šè¯ä¸­çš„é¡µé¢æ‰èƒ½è®¿é—®ï¼ŒåŒä¸€æºä¸‹ä¸åŒçª—å£äº¦æ— æ³•è®¿é—®ï¼Œä¼šè¯ç»“æŸåæ•°æ®ä¹Ÿéšä¹‹é”€æ¯\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eå› æ­¤ sessionStorage å’Œ localStorage çš„ä¸»è¦åŒºåˆ«åœ¨äºä»–ä»¬\u003cstrong\u003eå­˜å‚¨æ•°æ®çš„ç”Ÿå‘½å‘¨æœŸ\u003c/strong\u003eï¼ŒsessionStorage å­˜å‚¨çš„æ•°æ®çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ä¸€ä¸ªä¼šè¯ï¼Œè€Œ localStorage å­˜å‚¨çš„æ•°æ®çš„ç”Ÿå‘½å‘¨æœŸæ˜¯æ°¸ä¹…ï¼Œç›´åˆ°è¢«ä¸»åŠ¨åˆ é™¤ï¼Œå¦åˆ™æ•°æ®æ°¸è¿œä¸ä¼šè¿‡æœŸçš„ã€‚\u003c/p\u003e\n\u003ch2\u003eç¼“å­˜é™æ€æ–‡ä»¶\u003c/h2\u003e\n\u003cp\u003eHTTP åè®®çš„ç¼“å­˜ï¼Œå¯ä»¥ç”±ç”¨æˆ·æµè§ˆå™¨æ¸…é™¤æˆ–ç¦ç”¨ç¼“å­˜ï¼Œä¹Ÿå¯ä»¥ç”± Web æœåŠ¡å™¨è®¾ç½®è¿‡æœŸæ—¶é—´æˆ–ä¸ç¼“å­˜ã€‚å¯¹äºå‰ç«¯å·¥ç¨‹å¸ˆï¼Œè¿™æ›´åƒæ˜¯ä¸€ä¸ªé»‘ç›’ï¼Œæƒ³è¦å†³å®šæ–‡ä»¶æ˜¯è®¿é—®ç¼“å­˜è¿˜æ˜¯è®¿é—®è¿œç¨‹æ˜¾å¾—æœ‰äº›åŠ›ä¸ä»å¿ƒã€‚\u003c/p\u003e\n\u003cp\u003eä½¿ç”¨ localStorage æ§åˆ¶æ–‡ä»¶ç¼“å­˜çš„æ–¹å¼æœ‰ä¸¤ç§ï¼š\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eä½¿ç”¨ Loader åŠ è½½é™æ€æ–‡ä»¶\u003c/li\u003e\n\u003cli\u003eå€ŸåŠ©æœåŠ¡å™¨ç«¯å°†é™æ€æ–‡ä»¶ inline åŒ–\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eè¿™ä¸¤ç§æ–¹å¼ä¸€èˆ¬éƒ½ä¼šæå‰åšå¥½\u003cstrong\u003eç¼“å­˜è¿‡æœŸç­–ç•¥\u003c/strong\u003eï¼Œé€šå¸¸æ˜¯ä½¿ç”¨\u003cstrong\u003eç‰ˆæœ¬å·\u003c/strong\u003eæ¥æ§åˆ¶ã€‚\u003c/p\u003e\n\u003ch2\u003eWeb Storage API\u003c/h2\u003e\n\u003cp\u003elocalStorage å’Œ sessionStorage æœ‰ç€ç»Ÿä¸€çš„ API æ¥å£ï¼Œè¿™ä¸ºäºŒè€…çš„æ“ä½œæä¾›äº†æå¤§çš„ä¾¿åˆ©ã€‚ä¸‹é¢ä»¥ localStorage ä¸ºä¾‹æ¥ä»‹ç»ä¸€ä¸‹ API æ¥å£ä½¿ç”¨æ–¹æ³•ï¼ŒåŒæ ·è¿™äº›æ¥å£ä¹Ÿé€‚ç”¨äº sessionStorageã€‚\u003c/p\u003e\n\u003ch3\u003eæ·»åŠ é”®å€¼\u003c/h3\u003e\n\u003cp\u003e\u003ccode\u003eStorage.setItem()\u003c/code\u003e æ¥å—ä¸€ä¸ªé”®åå’Œå€¼ä½œä¸ºå‚æ•°ï¼Œå°†ä¼šæŠŠé”®åæ·»åŠ åˆ°å­˜å‚¨ä¸­ï¼Œå¦‚æœé”®åå·²å­˜åœ¨ï¼Œåˆ™æ›´æ–°å…¶å¯¹åº”çš„å€¼ã€‚\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-variable language_\"\u003elocalStorage\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003esetItem\u003c/span\u003e(key, value);\n\u003cspan class=\"hljs-variable language_\"\u003esessionStorage\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003esetItem\u003c/span\u003e(key, value);\n\u003c/code\u003e\u003c/pre\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eå‚æ•°\u003c/th\u003e\n\u003cth\u003eè¯´æ˜\u003c/th\u003e\n\u003cth\u003eç±»å‹\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003ekey\u003c/td\u003e\n\u003ctd\u003eé”®å\u003c/td\u003e\n\u003ctd\u003eDOMString\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003evalue\u003c/td\u003e\n\u003ctd\u003eé”®å€¼\u003c/td\u003e\n\u003ctd\u003eDOMString\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp\u003eå­—é¢é‡å½¢å¼å®ç°ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eStorage.key = value\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eStorage['key'] = value\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eâš ï¸ \u003cstrong\u003eæ³¨æ„\u003c/strong\u003eï¼šå½“æˆ‘ä»¬è¦å­˜å‚¨å¯¹è±¡æ˜¯ï¼Œåº”å…ˆè½¬æ¢æˆæˆ‘ä»¬å¯è¯†åˆ«çš„å­—ç¬¦ä¸²æ ¼å¼ï¼ˆæ¯”å¦‚ JSON æ ¼å¼ï¼‰å†è¿›è¡Œå­˜å‚¨ã€‚\u003c/p\u003e\n\u003cp\u003eğŸŒ° \u003cstrong\u003eä»£ç ç¤ºä¾‹\u003c/strong\u003eï¼š\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-variable language_\"\u003elocalStorage\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003esetItem\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;boy\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\u0026#x27;Ben\u0026#x27;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-variable language_\"\u003elocalStorage\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eboy\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\u0026#x27;Ben\u0026#x27;\u003c/span\u003e;\n\u003cspan class=\"hljs-variable language_\"\u003elocalStorage\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e\u0026#x27;boy\u0026#x27;\u003c/span\u003e] = \u003cspan class=\"hljs-string\"\u003e\u0026#x27;Ben\u0026#x27;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-variable language_\"\u003elocalStorage\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003esetItem\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;user\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-title class_\"\u003eJSON\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003estringify\u003c/span\u003e({ \u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e: \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e, \u003cspan class=\"hljs-attr\"\u003ename\u003c/span\u003e: \u003cspan class=\"hljs-string\"\u003e\u0026#x27;lilei\u0026#x27;\u003c/span\u003e }));\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003eè·å–é”®å€¼\u003c/h3\u003e\n\u003cp\u003eç”¨äºè·å–æŒ‡å®šé”®åçš„é”®å€¼ã€‚\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-variable language_\"\u003elocalStorage\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetItem\u003c/span\u003e(key);\n\u003cspan class=\"hljs-variable language_\"\u003esessionStorage\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetItem\u003c/span\u003e(key);\n\u003c/code\u003e\u003c/pre\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eå‚æ•°\u003c/th\u003e\n\u003cth\u003eè¯´æ˜\u003c/th\u003e\n\u003cth\u003eç±»å‹\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003ekey\u003c/td\u003e\n\u003ctd\u003eè·å–é”®å€¼çš„é”®å\u003c/td\u003e\n\u003ctd\u003eDOMString\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp\u003eğŸŒ° \u003cstrong\u003eä»£ç ç¤ºä¾‹\u003c/strong\u003eï¼š\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-variable language_\"\u003elocalStorage\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetItem\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;boy\u0026#x27;\u003c/span\u003e);\n\u003cspan class=\"hljs-comment\"\u003e// \u0026#x27;Ben\u0026#x27;\u003c/span\u003e\n\n\u003cspan class=\"hljs-variable language_\"\u003elocalStorage\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003eboy\u003c/span\u003e;\n\u003cspan class=\"hljs-comment\"\u003e// \u0026#x27;Ben\u0026#x27;\u003c/span\u003e\n\u003cspan class=\"hljs-variable language_\"\u003elocalStorage\u003c/span\u003e[\u003cspan class=\"hljs-string\"\u003e\u0026#x27;boy\u0026#x27;\u003c/span\u003e];\n\u003cspan class=\"hljs-comment\"\u003e// \u0026#x27;Ben\u0026#x27;\u003c/span\u003e\n\n\u003cspan class=\"hljs-title class_\"\u003eJSON\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eparse\u003c/span\u003e(\u003cspan class=\"hljs-variable language_\"\u003elocalStorage\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetItem\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;user\u0026#x27;\u003c/span\u003e));\n\u003cspan class=\"hljs-comment\"\u003e// {id: 1, name: \u0026#x27;lilei}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003eåˆ é™¤é”®å€¼\u003c/h3\u003e\n\u003cp\u003eç”¨äºåˆ é™¤æŒ‡å®šé”®åçš„é”®å€¼ã€‚\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-variable language_\"\u003elocalStorage\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eremoveItem\u003c/span\u003e(key);\n\u003cspan class=\"hljs-variable language_\"\u003esessionStorage\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eremoveItem\u003c/span\u003e(key);\n\u003c/code\u003e\u003c/pre\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eå‚æ•°\u003c/th\u003e\n\u003cth\u003eè¯´æ˜\u003c/th\u003e\n\u003cth\u003eç±»å‹\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003ekey\u003c/td\u003e\n\u003ctd\u003eåˆ é™¤é”®å€¼çš„é”®å\u003c/td\u003e\n\u003ctd\u003eDOMString\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp\u003eğŸŒ° \u003cstrong\u003eä»£ç ç¤ºä¾‹\u003c/strong\u003eï¼š\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-variable language_\"\u003elocalStorage\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetItem\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;boy\u0026#x27;\u003c/span\u003e);\n\u003cspan class=\"hljs-comment\"\u003e// \u0026#x27;Ben\u0026#x27;\u003c/span\u003e\n\n\u003cspan class=\"hljs-variable language_\"\u003elocalStorage\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eremoveItem\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;boy\u0026#x27;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-variable language_\"\u003elocalStorage\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetItem\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;boy\u0026#x27;\u003c/span\u003e);\n\u003cspan class=\"hljs-comment\"\u003e// null\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003eæ¸…é™¤æ‰€æœ‰é”®å€¼\u003c/h3\u003e\n\u003cp\u003eç”¨äºæ¸…é™¤æ‰€æœ‰å­˜å‚¨çš„é”®å€¼å¯¹ã€‚\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-variable language_\"\u003elocalStorage\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eclear\u003c/span\u003e();\n\u003cspan class=\"hljs-variable language_\"\u003esessionStorage\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eclear\u003c/span\u003e();\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eğŸŒ° \u003cstrong\u003eä»£ç ç¤ºä¾‹\u003c/strong\u003eï¼š\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-variable language_\"\u003elocalStorage\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eclear\u003c/span\u003e();\n\n\u003cspan class=\"hljs-variable language_\"\u003elocalStorage\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003elength\u003c/span\u003e;\n\u003cspan class=\"hljs-comment\"\u003e// 0\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch3\u003eè·å–é”®å\u003c/h3\u003e\n\u003cp\u003eé€šè¿‡æŒ‡å®šç´¢å¼•è·å–é”®åç§°ã€‚éœ€è¦æ³¨æ„çš„æ˜¯èµ‹å€¼æ—©çš„é”®å€¼å¯¹åº”çš„ç´¢å¼•å€¼å¤§ï¼Œèµ‹å€¼å®Œçš„é”®å€¼å¯¹åº”çš„ç´¢å¼•å°ï¼Œkey æ–¹æ³•å¯ç”¨äºéå† localStorage å­˜å‚¨çš„é”®å€¼ã€‚\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-variable language_\"\u003elocalStorage\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ekey\u003c/span\u003e(index);\n\u003cspan class=\"hljs-variable language_\"\u003esessionStorage\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ekey\u003c/span\u003e(index);\n\u003c/code\u003e\u003c/pre\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eå‚æ•°\u003c/th\u003e\n\u003cth\u003eè¯´æ˜\u003c/th\u003e\n\u003cth\u003eç±»å‹\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003eindex\u003c/td\u003e\n\u003ctd\u003eç´¢å¼•\u003c/td\u003e\n\u003ctd\u003enumber\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch3\u003eè·å–é”®å€¼æ•°é‡\u003c/h3\u003e\n\u003cp\u003elengthÂ  å±æ€§ç”¨äºè·å– localStorage æˆ– sessionStorage ä¸­é”®å€¼å¯¹çš„æ•°é‡ã€‚\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-variable language_\"\u003elocalStorage\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003elength\u003c/span\u003e;\n\u003cspan class=\"hljs-variable language_\"\u003esessionStorage\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003elength\u003c/span\u003e;\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2\u003eWeb Storage äº‹ä»¶\u003c/h2\u003e\n\u003cp\u003eåœ¨ HTML5 ä¸­ï¼Œå¯ä»¥é€šè¿‡ Window å¯¹è±¡çš„ Storage äº‹ä»¶è¿›è¡Œç›‘å¬ã€‚å½“å­˜å‚¨çš„ Storage æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶éƒ½ä¼šè§¦å‘å®ƒï¼Œä¹Ÿå°±æ˜¯è¯´å½“å‰é¡µé¢çš„ Storage æ”¹å˜çš„æ—¶å€™ï¼Œè§¦å‘è¿™ä¸ªäº‹ä»¶ä¹Ÿä¼šè§¦å‘è°ƒç”¨æ‰€æœ‰åŒåŸŸä¸‹å…¶ä»–çª—å£çš„ Storage äº‹ä»¶ã€‚ä½†æ˜¯ï¼Œè¯¥äº‹ä»¶ä¸ä¼šå†å¯¼è‡´æ•°æ®å˜åŒ–çš„å½“å‰é¡µé¢è§¦å‘ã€‚è€Œä¸”å®ƒä¸åŒäº \u003ccode\u003eclick\u003c/code\u003e ç‚¹å‡»ç±»çš„äº‹ä»¶ä¼šäº‹ä»¶æ•è·å’Œå†’æ³¡ï¼Œstorage äº‹ä»¶æ›´åƒæ˜¯ä¸€ä¸ªé€šçŸ¥ï¼Œä¸å¯å–æ¶ˆã€‚\u003c/p\u003e\n\u003cp\u003eè§¦å‘ Storage äº‹ä»¶çš„æ¡ä»¶ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eåŒä¸€ä¸ªæµè§ˆå™¨æ‰“å¼€äº†ä¸¤ä¸ªåŒæºé¡µé¢\u003c/li\u003e\n\u003cli\u003eå…¶ä¸­ä¸€ä¸ªé¡µé¢ä¿®æ”¹äº† localStorage\u003c/li\u003e\n\u003cli\u003eå¦ä¸€ä¸ªç½‘é¡µæ³¨å†Œäº†è¿™ä¸ªäº‹ä»¶\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eStorage çš„ Event å¯¹è±¡çš„å¸¸ç”¨å±æ€§\u003c/p\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eå±æ€§\u003c/th\u003e\n\u003cth\u003eè¯´æ˜\u003c/th\u003e\n\u003cth\u003eç±»å‹\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003eoldValue\u003c/td\u003e\n\u003ctd\u003eæ›´æ–°å‰çš„å€¼ã€‚å¦‚æœè¯¥é”®ä¸ºæ–°å¢åŠ ï¼Œåˆ™è¿™ä¸ªå±æ€§ä¸º nullã€‚\u003c/td\u003e\n\u003ctd\u003eany\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003enewValue\u003c/td\u003e\n\u003ctd\u003eæ›´æ–°åçš„å€¼ã€‚å¦‚æœè¯¥é”®è¢«åˆ é™¤ï¼Œåˆ™è¿™ä¸ªå±æ€§ä¸º nullã€‚\u003c/td\u003e\n\u003ctd\u003eany\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eurl\u003c/td\u003e\n\u003ctd\u003eåŸå§‹è§¦å‘ storage äº‹ä»¶çš„é‚£ä¸ªç½‘é¡µçš„ç½‘å€ã€‚\u003c/td\u003e\n\u003ctd\u003estring\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003ekey\u003c/td\u003e\n\u003ctd\u003eå­˜å‚¨ store çš„ key åã€‚\u003c/td\u003e\n\u003ctd\u003estring\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp\u003eğŸŒ° \u003cstrong\u003eä»£ç ç¤ºä¾‹\u003c/strong\u003eï¼š\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003estorageChanged\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(\u003cspan class=\"hljs-variable language_\"\u003earguments\u003c/span\u003e);\n}\n\u003cspan class=\"hljs-variable language_\"\u003ewindow\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eaddEventListener\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;storage\u0026#x27;\u003c/span\u003e, storageChanged, \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003ca href=\"https://blog.csdn.net/ruangong1203/article/details/52841135\" target=\"_blank\" rel=\"noopener noreferrer nofollow\"\u003eğŸ“ å®ä¾‹ï¼šH5 Storage äº‹ä»¶ç›‘å¬\u003c/a\u003e\u003c/p\u003e\n\u003ch2\u003eä½¿ç”¨åœºæ™¯\u003c/h2\u003e\n\u003cp\u003eåŸºäº Web Storage çš„ç‰¹ç‚¹ï¼Œå®ƒä¸»è¦è¢«ç”¨äºå‚¨å­˜ä¸€äº›\u003cstrong\u003eä¸ç»å¸¸æ”¹åŠ¨\u003c/strong\u003eçš„ï¼Œ\u003cstrong\u003eä¸æ•æ„Ÿ\u003c/strong\u003eçš„æ•°æ®ï¼Œæ¯”å¦‚å…¨å›½çœå¸‚åŒºå¿ä¿¡æ¯ã€‚è¿˜å¯ä»¥å­˜å‚¨ä¸€äº›ä¸å¤ªé‡è¦çš„è·Ÿç”¨æˆ·ç›¸å…³çš„æ•°æ®ï¼Œæ¯”å¦‚è¯´ç”¨æˆ·çš„å¤´åƒåœ°å€ã€ä¸»é¢˜é¢œè‰²ç­‰ï¼Œè¿™äº›ä¿¡æ¯å¯ä»¥å…ˆå­˜å‚¨åœ¨ç”¨æˆ·æœ¬åœ°ä¸€ä»½ï¼Œä¾¿äºå¿«é€Ÿå‘ˆç°ï¼Œç­‰çœŸæ­£ä»æœåŠ¡å™¨ç«¯è¯»å–æˆåŠŸåå†æ›´æ”¹å¤´åƒåœ°å€ï¼Œä¸»é¢˜é¢œè‰²ã€‚å¦å¤–ï¼ŒåŸºäº storage äº‹ä»¶ç‰¹ç‚¹ï¼ŒWeb Storage è¿˜å¯ä»¥ç”¨äºåŒåŸŸä¸åŒçª—å£é—´çš„é€šä¿¡ã€‚\u003c/p\u003e\n\u003ch2\u003eWeb Storage å’Œ Cookie\u003c/h2\u003e\n\u003cp\u003eWeb Storage å’Œ Cookie æœ‰è®¸å¤šç›¸åŒä¹‹å¤„ï¼š\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eå®ƒä»¬éƒ½å¯ä»¥ç”¨äºå­˜å‚¨ç”¨æˆ·æ•°æ®\u003c/li\u003e\n\u003cli\u003eå®ƒä»¬å­˜å‚¨æ•°æ®çš„æ ¼å¼éƒ½æ˜¯å­—ç¬¦ä¸²å½¢å¼\u003c/li\u003e\n\u003cli\u003eå®ƒä»¬å­˜å‚¨çš„æ•°æ®éƒ½æœ‰å¤§å°é™åˆ¶\u003c/li\u003e\n\u003c/ul\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003e\u003c/th\u003e\n\u003cth style=\"text-align:center\"\u003eCookie\u003c/th\u003e\n\u003cth style=\"text-align:center\"\u003elocalStorage\u003c/th\u003e\n\u003cth style=\"text-align:center\"\u003esessionStorage\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003eæ•°æ®å­˜å‚¨æ–¹é¢\u003c/td\u003e\n\u003ctd style=\"text-align:center\"\u003eæ•°æ®å§‹ç»ˆåœ¨åŒæºçš„ HTTP è¯·æ±‚ä¸­æºå¸¦ï¼ˆå³ä¾¿ä¸éœ€è¦ï¼‰ï¼Œå³ Cookie åœ¨æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´æ¥å›ä¼ é€’ã€‚\u0026lt;br/\u0026gt;Cookie æ•°æ®è¿˜æœ‰è·¯å¾„ï¼ˆpathï¼‰çš„æ¦‚å¿µï¼Œå¯ä»¥é™åˆ¶ Cookie åªå±äºæŸä¸ªè·¯å¾„ä¸‹\u003c/td\u003e\n\u003ctd style=\"text-align:center\"\u003eä¸ä¼šè‡ªåŠ¨æŠŠæ•°æ®å‘é€ç»™æœåŠ¡å™¨ï¼Œä»…åœ¨æœ¬åœ°ä¿å­˜\u003c/td\u003e\n\u003ctd style=\"text-align:center\"\u003eä¸ä¼šè‡ªåŠ¨æŠŠæ•°æ®å‘é€ç»™æœåŠ¡å™¨ï¼Œä»…åœ¨æœ¬åœ°ä¿å­˜\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eå®¹é‡\u003c/td\u003e\n\u003ctd style=\"text-align:center\"\u003eæ•°æ®å¤§å°é™åˆ¶åœ¨ 4kb ä»¥å†…\u0026lt;br/\u0026gt;åŒæ—¶å› ä¸ºæ¯æ¬¡ HTTP è¯·æ±‚éƒ½ä¼šæºå¸¦ Cookieï¼Œæ‰€ä»¥ Cookie åªé€‚åˆä¿å­˜å¾ˆå°çš„æ•°æ®ï¼Œå¦‚ä¼šè¯æ ‡è¯†\u003c/td\u003e\n\u003ctd style=\"text-align:center\"\u003e5MB\u003c/td\u003e\n\u003ctd style=\"text-align:center\"\u003e5MB\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eæ•°æ®å­˜å‚¨æœ‰æ•ˆæœŸ\u003c/td\u003e\n\u003ctd style=\"text-align:center\"\u003eåªåœ¨ Cookie è®¾ç½®çš„\u003cstrong\u003eè¿‡æœŸæ—¶é—´\u003c/strong\u003eä¹‹å‰æœ‰æ•ˆï¼Œå³ä½¿çª—å£å…³é—­æˆ–æµè§ˆå™¨å…³é—­\u003c/td\u003e\n\u003ctd style=\"text-align:center\"\u003e\u003cstrong\u003eå§‹ç»ˆæœ‰æ•ˆ\u003c/strong\u003eï¼Œçª—å£æˆ–æµè§ˆå™¨å…³é—­ä¹Ÿä¸€ç›´ä¿å­˜ï¼Œæœ¬åœ°å­˜å‚¨ï¼Œå› æ­¤ç”¨ä½œæŒä¹…æ•°æ®\u003c/td\u003e\n\u003ctd style=\"text-align:center\"\u003eä»…åœ¨å½“å‰æµè§ˆå™¨çª—å£\u003cstrong\u003eå…³é—­ä¹‹å‰\u003c/strong\u003eæœ‰æ•ˆ\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003eä½œç”¨åŸŸä¸åŒ\u003c/td\u003e\n\u003ctd style=\"text-align:center\"\u003eåœ¨æ‰€æœ‰\u003cstrong\u003eåŒæºçª—å£\u003c/strong\u003eä¸­éƒ½æ˜¯å…±äº«çš„ï¼›ä¹Ÿå°±æ˜¯è¯´åªè¦æµè§ˆå™¨ä¸å…³é—­ï¼Œæ•°æ®ä»ç„¶å­˜åœ¨\u003c/td\u003e\n\u003ctd style=\"text-align:center\"\u003eåœ¨æ‰€æœ‰\u003cstrong\u003eåŒæºçª—å£\u003c/strong\u003eä¸­éƒ½æ˜¯å…±äº«çš„ï¼›ä¹Ÿå°±æ˜¯è¯´åªè¦æµè§ˆå™¨ä¸å…³é—­ï¼Œæ•°æ®ä»ç„¶å­˜åœ¨\u003c/td\u003e\n\u003ctd style=\"text-align:center\"\u003eä¸åœ¨ä¸åŒçš„æµè§ˆå™¨çª—å£ä¸­å…±äº«ï¼Œå³ä½¿æ˜¯åŒä¸€ä¸ªé¡µé¢\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eWeb Storage æ‹¥æœ‰ \u003ccode\u003esetItem\u003c/code\u003eã€\u003ccode\u003egetItem\u003c/code\u003eã€\u003ccode\u003eremoveItem\u003c/code\u003eã€\u003ccode\u003eclear\u003c/code\u003e ç­‰æ–¹æ³•\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eCookie éœ€è¦è‡ªå·±å°è£… \u003ccode\u003esetCookie\u003c/code\u003eã€\u003ccode\u003egetCookie\u003c/code\u003e ç­‰æ–¹æ³•\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003cp\u003e\u003cstrong\u003eå‚è€ƒèµ„æ–™ï¼š\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://my.oschina.net/u/2282680/blog/791180\" target=\"_blank\" rel=\"noopener noreferrer nofollow\"\u003eğŸ“ Web Storage å­¦ä¹ \u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eä½¿ç”¨ \u003ccode\u003elocalSotrage\u003c/code\u003e å®ç°å¤šé¡µé¢é€šä¿¡\u003c/p\u003e\n\u003cp\u003eéœ€è¦æå‰çº¦å®šé€šä¿¡æ ‡è¯† \u003ccode\u003ekey\u003c/code\u003eï¼Œè¿™é‡Œå‡å®š \u003ccode\u003ekey\u003c/code\u003e ä¸º \u003ccode\u003epage_b\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eA é¡µé¢ç›‘å¬ \u003ccode\u003estorage\u003c/code\u003e äº‹ä»¶ï¼š\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-title function_\"\u003emounted\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-variable language_\"\u003ewindow\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eaddEventListener\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;storage\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003esiblingWindowListener\u003c/span\u003e, \u003cspan class=\"hljs-literal\"\u003efalse\u003c/span\u003e);\n\n  \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.$on(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;hook:beforeDestroy\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-function\"\u003e() =\u0026gt;\u003c/span\u003e {\n    \u003cspan class=\"hljs-variable language_\"\u003ewindow\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eremoveEventListener\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;storage\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-variable language_\"\u003ethis\u003c/span\u003e.\u003cspan class=\"hljs-property\"\u003esibilingWindowListener\u003c/span\u003e);\n  })\n},\n\u003cspan class=\"hljs-attr\"\u003emethods\u003c/span\u003e: {\n  \u003cspan class=\"hljs-title function_\"\u003esiblingWindowListener\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003eevent\u003c/span\u003e) {\n    \u003cspan class=\"hljs-keyword\"\u003eif\u003c/span\u003e (event.\u003cspan class=\"hljs-property\"\u003ekey\u003c/span\u003e === \u003cspan class=\"hljs-string\"\u003e\u0026#x27;page_b\u0026#x27;\u003c/span\u003e) {\n      \u003cspan class=\"hljs-comment\"\u003e// do something\u003c/span\u003e\n    }\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eB é¡µé¢ï¼Œå½“ä¿å­˜æ—¶ï¼Œè®¾ç½®çº¦å®šå¥½çš„ \u003ccode\u003elocalStorage\u003c/code\u003e çš„ \u003ccode\u003ekey\u003c/code\u003e å€¼ï¼Œå…³é—­é¡µé¢ï¼š\u003c/p\u003e\n\u003cpre class=\"hljs\"\u003e\u003ccode class=\"language-js\"\u003e\u003cspan class=\"hljs-attr\"\u003emethods\u003c/span\u003e: {\n  \u003cspan class=\"hljs-title function_\"\u003eclose\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n    \u003cspan class=\"hljs-variable language_\"\u003elocalStorage\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003esetItem\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026#x27;page_b\u0026#x27;\u003c/span\u003e, \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-title class_\"\u003eDate\u003c/span\u003e().\u003cspan class=\"hljs-title function_\"\u003egetTime\u003c/span\u003e());\n\n    \u003cspan class=\"hljs-keyword\"\u003etry\u003c/span\u003e {\n      \u003cspan class=\"hljs-variable language_\"\u003ewindow\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eclose\u003c/span\u003e();\n    } \u003cspan class=\"hljs-keyword\"\u003ecatch\u003c/span\u003e(e) {\n      \u003cspan class=\"hljs-variable language_\"\u003econsole\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003elog\u003c/span\u003e(e);\n    }\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n"])</script><script>self.__next_f.push([1,"4:[\"$\",\"div\",null,{\"className\":\"markdown-body\",\"children\":[\"$\",\"article\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$c\"}}]}]\n"])</script><script>self.__next_f.push([1,"a:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n8:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"front-end\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"front-end knowledge\"}],[\"$\",\"link\",\"3\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}]]\n"])</script><script>self.__next_f.push([1,"6:null\n"])</script></body></html>